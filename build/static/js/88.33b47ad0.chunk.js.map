{"version":3,"sources":["GridBreak.js","HistoryLine.js","HistoryLayout.js","../node_modules/@material-ui/icons/Clear.js","../node_modules/@material-ui/icons/Done.js"],"names":["useStyles","makeStyles","root","alignItems","padding","height","display","underline","borderBottom","label","flexGrow","GridBreak","props","classes","item","xs","className","line","variant","size","children","closed","backgroundColor","color","open","HistoryLine","val","primary","format","justTime","time","secondary","HistoryLayout","useState","history","setHistory","page","setPage","monthNames","dayNames","getHistoryForDevice","useRef","useContext","DataContext","current","useEffect","endpointId","property","then","result","Fragment","name","today","datesorted","curmonth","curday","j","length","hdate","Date","getMonth","getDate","push","key","getDay","todayEvents","onClick","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d"],"mappings":"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","file":"static/js/88.33b47ad0.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles({\n    \n    root: {\n        alignItems: \"flex-end\",\n        padding: \"16px 16px 0px 16px !important\",\n        height: 64,\n        display: \"flex\",\n    },\n    underline: {\n        alignItems: \"flex-end\",\n        padding: \"16px 16px 0px 16px !important\",\n        height: 64,\n        display: \"flex\",\n        borderBottom: \"1px solid\",\n    },\n\n    label: {\n        display: \"flex\",\n        flexGrow:1,\n    }\n});\n\nexport default function GridBreak(props) {\n\n    const classes = useStyles();\n\n    return (    \n        <Grid item xs={ 12 } className={props.line ? classes.underline : classes.root}>\n            <Typography className={classes.label} variant={ props.size ? props.size : \"h6\"} >{props.label}</Typography>\n            {props.children}\n        </Grid>\n    )\n\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Moment from 'react-moment';\nimport 'moment-timezone';\n\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport GridItem from './GridItem';\n\nconst useStyles = makeStyles({\n\n    closed: {\n        backgroundColor: \"#6a6\",\n        color: \"#fff\",\n    },\n    open: {\n        color: \"#fff\",\n        backgroundColor: \"#e66\",\n    },\n\n});\n\n\nexport default function HistoryLine(props) {    \n    \n    const classes = useStyles();\n\n    return (\n        <GridItem>\n            <ListItem>\n                { props.val==='NOT_DETECTED' ?\n                    <Avatar className={classes.closed} ><DoneIcon /></Avatar>\n                :\n                    <Avatar className={classes.open} ><ClearIcon /></Avatar>\n                }\n                <ListItemText primary={<Moment format={props.justTime ? \"h:mm:ssa\" : \"ddd MMM D h:mm:ssa\"}>{props.time}</Moment>} secondary={props.val==='DETECTED' ? 'Open' : 'Closed'} />\n            </ListItem>\n        </GridItem>\n    );\n}\n","import React from 'react';\nimport { useState, useEffect, useContext, useRef } from 'react';\nimport { DataContext } from './DataContext/DataProvider';\nimport Button from '@material-ui/core/Button';\n\nimport HistoryLine from './HistoryLine';\nimport GridBreak from './GridBreak';\n\n\nexport default function HistoryLayout(props) {\n\n    const [history, setHistory] = useState([])\n    const [page, setPage] = useState(0)\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    const dayNames = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\n    const { getHistoryForDevice } = useRef(useContext(DataContext)).current;\n    \n    useEffect(() => {\n        getHistoryForDevice(props.endpointId, props.property, 0).then(result => setHistory(result))\n    }, [getHistoryForDevice, props.property, props.endpointId]);\n    \n\n    function getMore() {\n        setPage(page+1)\n        getHistoryForDevice(props.endpointId, props.property, page).then(result => setHistory([...history, ...result]))\n    }\n    \n    function todayEvents(today) {\n        var datesorted=[]\n        var curmonth=''\n        var curday=''\n        for (var j = 0; j < history.length; j++) {\n            var hdate=new Date(history[j].time)\n            if (hdate.getMonth()!==curmonth || hdate.getDate()!==curday) {\n                curmonth=hdate.getMonth()\n                curday=hdate.getDate()\n                datesorted.push(<GridBreak key={'lab'+j} label={dayNames[hdate.getDay()]+\", \"+monthNames[curmonth]+\" \"+curday} />)\n            }\n            datesorted.push(<HistoryLine justTime={true} key={j} val={history[j][props.property]} time={ history[j].time } />)\n        }\n        return datesorted\n    }\n    \n    return (    \n        <React.Fragment>\n            <GridBreak label={\"Device History for \"+props.name} />\n            { todayEvents(true) }\n            <GridBreak>\n                <Button onClick={ () => getMore() }>\n                    More\n                </Button>\n            </GridBreak>\n        </React.Fragment>\n    )\n\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');\n\nexports.default = _default;"],"sourceRoot":""}