{"version":3,"sources":["GridSection.js","GridSearch.js","deviceSelect/Device.js","CompositeDevice.js","dialogs/SofaDialog.js","automation/AutomationInput.js","DeviceDialog.js","automation/AutomationDevice.js","DeviceIcon.js","automation/PropertyValue.js","automation/AutomationMove.js","automation/operatorButton.js","ToggleButton.js","automation/ControllerProperty.js","automation/UnitButton.js","automation/DeviceDirective.js","automation/AutomationCondition.js","automation/ScheduleStart.js","automation/ScheduleInterval.js","automation/ScheduleDays.js","automation/AutomationAction.js","automation/AutomationTrigger.js","automation/automationSchedule.js","AutomationColumn.js","controllers lazy /^/.//.*$/ groupOptions: {} namespace object","../node_modules/@material-ui/icons/Remove.js","controllers/properties lazy /^/.//.*$/ groupOptions: {} namespace object","../node_modules/@material-ui/icons/Schedule.js","../node_modules/@material-ui/icons/Add.js","../node_modules/@material-ui/icons/Event.js","../node_modules/@material-ui/icons/UnfoldMore.js"],"names":["useStyles","makeStyles","theme","base","margin","overflowX","alignContent","padding","borderRadius","gridColumn","overflowY","scrollColumn","maxHeight","mobile","height","desktop","background","backgroundColor","palette","layer","section","center","justifyContent","GridSection","props","isMobile","useContext","LayoutContext","classes","useState","show","setShow","container","item","spacing","key","name","xs","className","classNames","scroll","nopad","primary","onClick","break","secondary","children","defaultProps","content","borderWidth","borderStyle","borderColor","divider","display","boxSizing","flexWrap","alignItems","flexGrow","minWidth","minHeight","flexBasis","position","thinmargin","normal","GridItem","window","innerWidth","delayedSearch","debounce","q","setSearchValue","searchValue","search","setSearch","wide","elevation","autoFocus","fullWidth","label","value","onChange","e","newsearch","target","nopaper","Device","icons","TuneIcon","ListIcon","LightbulbOutlineIcon","TouchAppIcon","SpeakerIcon","DataUsageIcon","SpeakerGroupIcon","TvIcon","showDetail","setShowDetail","button","select","device","category","size","pxSize","RealIcon","DeveloperBoardIcon","hasOwnProperty","fontSize","getIcon","displayCategories","friendlyName","edge","aria-label","showDevice","interfaces","map","iface","mode","properties","iprop","hover","deepvalue","JSON","stringify","slice","Object","keys","directives","idir","placeholder","iconSize","width","stack","paddingLeft","tile","paddingRight","sliderPaper","flexDirection","nostack","maxWidth","marginRight","lightSwitch","marginLeft","lightbar","listItem","tableAuto","tableLayout","cola","colb","colc","CompositeDevice","modules","setModules","errorBlock","modulename","useEffect","mods","j","React","lazy","catch","default","length","fullScreen","open","aria-labelledby","aria-describedby","id","Module","fallback","interface","renderSuspenseModule","close","color","dialogPaper","Transition","forwardRef","ref","direction","SofaDialog","onClose","TransitionComponent","paper","tabs","tabValue","tabChange","withMobileDialog","AutomationInput","withStyles","input","border","transition","transitions","create","boxShadow","InputBase","scroller","holder","flexFlow","searchtitle","DeviceDialog","DeviceContext","devicesByCategory","controllers","limit","setLimit","nameFilter","setNameFilter","setShowDevice","loading","setLoading","devs","executeDirective","directive","console","log","devtype","infiniteRef","useInfiniteScroll","hasNextPage","onLoadMore","scrollContainer","endpointId","deviceButton","deviceLine","AutomationDevice","deviceSelect","setDeviceSelect","undefined","newdevice","selectDevice","DeviceIcon","flex","PropertyValue","propMod","setPropMod","modName","setModName","disabled","pfd","propertyName","controller","actionValues","av","propertyFromDirective","command","operator","instance","AutomationMove","remove","delete","index","reorder","moveUp","moveDown","fontWeight","bigtext","OperatorButton","anchor","setAnchor","operatorList","Fragment","event","currentTarget","anchorEl","Boolean","anyOp","option","selected","setOperator","off","on","light","main","contrastText","ToggleButton","buttonState","marginTop","deviceName","wideSelect","ControllerProperty","propMap","propertyMap","editOperatorValue","save","propkey","propItem","property","defaultOrValue","newval","split","units","UnitButton","indexOf","setUnit","DeviceDirective","directiveMap","deviceDirectives","handleChangeDirectiveName","controllerName","directiveName","dirItem","AutomationCondition","getDeviceProperties","getControllerInterface","nolist","newitem","deviceProperties","payload","shortLabel","marginBottom","ScheduleStart","type","thisdate","longdate","Date","toISOString","replace","shortTimeFormat","change","ScheduleInterval","toggle","unit","newunit","ScheduleDays","day","includes","sdays","splice","push","editDays","AutomationAction","AutomationTrigger","AutomationSchedule","schedule","setSchedule","editValues","action","edsc","changeValue","aspect","newschedule","toggleType","start","interval","days","dialogActions","paddingBottom","listDialogContent","AutomationColumn","deviceByEndpointId","getControllerProperties","controllerForProperty","setReorder","setRemove","modmap","AutomationProperty","memo","deleteItem","newitems","items","itemtype","element","headerButtons","newItem","addItem","controllerProperties","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","Error","code","ids","all","module","exports","_interopRequireDefault","require","defineProperty","_react","_default","createElement","d"],"mappings":"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oBAAqB,CACpB,IACA,KAED,uBAAwB,CACvB,IACA,KAED,0BAA2B,CAC1B,IACA,EACA,IAED,6BAA8B,CAC7B,IACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,KAED,wBAAyB,CACxB,IACA,EACA,EACA,KAED,4BAA6B,CAC5B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,gCAAiC,CAChC,IACA,IAED,wBAAyB,CACxB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,qBAAsB,CACrB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,oBAAqB,CACpB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,uBAAwB,CACvB,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,6BAA8B,CAC7B,IACA,IAED,gCAAiC,CAChC,IACA,IAED,qBAAsB,CACrB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,6BAA8B,CAC7B,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,iCAAkC,CACjC,IACA,EACA,IAED,2BAA4B,CAC3B,IACA,EACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,8BAA+B,CAC9B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,oBAAqB,CACpB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,sBAAuB,CACtB,IACA,EACA,IAED,yBAA0B,CACzB,IACA,EACA,KAGF,SAAS4P,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAE/P,EAAK6P,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAInS,EAAI,IAAIoS,MAAM,uBAAyBN,EAAM,KAEjD,MADA9R,EAAEqS,KAAO,mBACHrS,KA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","file":"static/js/40.1b953ec0.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { LayoutContext } from './layout/NewLayoutProvider';\nimport classNames from 'classnames';\n\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst useStyles = makeStyles(theme => {\n    return {\n        base: {\n            margin: 1,\n            overflowX: \"hidden\",\n            alignContent: \"start\",\n            padding: \"3px !important\",\n            borderRadius: \"4px 4px 4px 4px\",\n        },\n        gridColumn: {\n            overflowY: \"hidden\",\n        },\n        scrollColumn: {\n            overflowY: \"auto\",\n            maxHeight: \"100%\",\n        },\n        mobile: {\n            height: 16,\n        },\n        desktop: {\n        },\n        background: {\n            backgroundColor: theme.palette.layer.section,\n        },\n        center: {\n            justifyContent: \"center\",\n        }\n    }\n});\n\n\nexport default function GridSection(props) {\n    \n    const { isMobile } = useContext(LayoutContext);\n    const classes = useStyles();\n    const [show, setShow] = useState(props.show);\n\n    return (\n        <Grid container item spacing={1} key={props.name} xs={props.xs} \n            className={ classNames(classes.base, props.scroll ? classes.scrollColumn : classes.gridColumn, props.background ? classes.background : null)} \n        >\n\n            {props.name &&\n                <Grid item xs={12} className={classes.nopad}>\n                <List className={classes.nopad} >\n                    <ListItem className={ isMobile ? classes.mobile : classes.desktop} >\n                        <ListItemText primary={props.name} onClick={ () => setShow(!show) } />\n                        { (!isMobile || !props.break) &&\n                            <>\n                                {props.secondary}\n                            </>\n                        }\n                    </ListItem >\n                    { (isMobile && props.break) &&\n                        <ListItem className={classes.center}>\n                                {props.secondary}\n                        </ListItem>\n                    }\n                </List>\n                </Grid>\n            }\n            { show && props.children}\n        </Grid>\n    );\n}\n\nGridSection.defaultProps = {\n    break: false,\n    show: true,\n    scroll: false,\n    xs: 12,\n    background: true,\n}\n \n\n","import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport debounce from 'lodash/debounce';\n\nconst useStyles = makeStyles(theme => {\n    return {\n   \n        content: {\n            borderWidth: \"thin\",\n            borderStyle: \"solid\",\n            borderColor: theme.palette.divider,\n            display: 'flex',\n            margin: 0,\n            boxSizing: \"border-box\",\n            padding: \"8px 16px\",\n            flexWrap: 'wrap',\n            alignItems: \"center\",\n            flexGrow: 1,\n            minWidth: \"320px\",\n            minHeight: 80,\n            flexBasis: 0,\n            position: \"relative\",\n            overflowY: \"auto\",\n        },\n        thinmargin: {\n            margin: 2,\n            padding: 0,\n        },\n        normal: {\n            padding: \"4px !important\",\n        }\n    }\n});\n\n\nexport default function GridItem(props) {\n    \n    const mobileBreakpoint = 800\n    const classes = useStyles();\n    const isMobile = window.innerWidth <= mobileBreakpoint;\n    const delayedSearch = debounce(q => props.setSearchValue(q), 500);\n    const [ search, setSearch]=useState(props.searchValue)\n    \n    function handleChange(newsearch) {\n        setSearch(newsearch)\n        delayedSearch(newsearch)\n    }\n    \n    return (\n        <Grid item xs={props.xs ? props.xs : (isMobile || props.wide ? 12 : 4) } className={ props.thinmargin ? classes.thinmargin: classes.normal}>\n            <Paper elevation={props.elevation} className={classes.content} >\n                <TextField\n                    autoFocus\n                    fullWidth\n                    label={'Search'}\n                    value={search}\n                    onChange={(e) => handleChange(e.target.value)}\n                />\n            </Paper>\n        </Grid>\n    );\n}\n\nGridItem.defaultProps = {\n    elevation: 0,\n    wide: false,\n    thinmargin: false,\n    nopaper: false,\n}\n","import React, { useState } from 'react';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\n\nimport GridItem from '../GridItem';\n\nimport CommentIcon from '@material-ui/icons/Comment';\nimport DataUsageIcon from '@material-ui/icons/DataUsage';\nimport DeveloperBoardIcon from '@material-ui/icons/DeveloperBoard';\nimport SpeakerIcon from '@material-ui/icons/Speaker';\nimport SpeakerGroupIcon from '@material-ui/icons/SpeakerGroup';\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport ListIcon from '@material-ui/icons/List';\nimport TvIcon from '@material-ui/icons/Tv';\nimport LightbulbOutlineIcon from '../LightbulbOutline';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nimport IconButton from '@material-ui/core/IconButton';\n\n\nexport default function Device(props) {\n\n    const icons = {'SCENE_TRIGGER':TuneIcon, 'ACTIVITY_TRIGGER':ListIcon, 'LIGHT':LightbulbOutlineIcon, 'BUTTON':TouchAppIcon, 'SPEAKER':SpeakerIcon, 'THERMOSTAT':DataUsageIcon, 'RECEIVER':SpeakerGroupIcon, 'TV':TvIcon}\n    const [showDetail, setShowDetail] = useState(false);     \n\n    function getIcon(category, size='default') {\n            \n        var pxSize=24;\n        var RealIcon=DeveloperBoardIcon \n        if (size==='small') {\n            pxSize=16\n        }\n        if (icons.hasOwnProperty(category)) {\n            RealIcon=icons[category]\n        } \n\n        return <RealIcon size={pxSize} fontSize={size} />\n    }\n\n    return (\n        <GridItem nopad={true}>\n            <ListItem button onClick={props.select? () => props.select(props.device) : () => setShowDetail(!showDetail)}>\n                <ListItemIcon>{getIcon(props.device.displayCategories)}</ListItemIcon>\n                <ListItemText primary={props.device.friendlyName} secondary={props.device.displayCategories} />\n                <ListItemSecondaryAction>\n                    <IconButton edge=\"end\" aria-label=\"See Details\" onClick={() => props.showDevice(props.device) }>\n                        <CommentIcon />\n                    </IconButton>\n                </ListItemSecondaryAction>\n            </ListItem>\n            { showDetail &&\n            <>\n                { props.device.interfaces.map( iface => \n                    <ListItem key={iface}>\n                        <Table size=\"small\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>{iface}</TableCell>\n                                    <TableCell>Value</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                { ( props.mode==='all' || props.mode==='property' || props.mode==='' ) &&\n                                <>\n                                    { props.device[iface].properties.map( iprop =>\n                                    <TableRow hover key={iface+iprop} onClick={() => props.select(iface, iprop)}>\n                                        <TableCell>{iprop}</TableCell>\n                                        { typeof props.device[iface][iprop].deepvalue==='object' ?\n                                            <TableCell>{JSON.stringify(props.device[iface][iprop].deepvalue).slice(0, 10)}</TableCell>\n                                            :\n                                            <TableCell>{props.device[iface][iprop].deepvalue}</TableCell>\n                                        }\n                                    </TableRow>\n                                    )}\n                                </>\n                                }\n                                { ( props.mode==='all' || props.mode==='directive' || props.mode==='' ) &&\n                                <>\n                                    { Object.keys(props.directives[iface]).map( idir =>\n                                        <TableRow hover key={iface+idir} onClick={() => props.select(iface, idir)}>\n                                            <TableCell>{idir}</TableCell>\n                                            <TableCell>directive</TableCell>\n                                        </TableRow>\n                                    )}\n                                </>\n                                }\n                            </TableBody>\n                        </Table>\n                    </ListItem>\n                )}\n            </>\n            }\n        </GridItem>\n    )\n}\n\n","import React, { Suspense, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Button from '@material-ui/core/Button';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst placeholder = <TableRow><TableCell>Loading...</TableCell></TableRow>\n\nconst useStyles = makeStyles({\n \n    iconSize: {\n        height: 24,\n        width: 24,\n    },\n    stack: {\n        height: 44,\n        display: \"flex\",\n        flexGrow: 1,\n        paddingLeft: 16,\n        justifyContent: \"space-between\",\n        flexWrap: \"wrap\",\n    },\n    tile: {\n        display: \"flex\",\n        flexGrow: 1,\n        height: 90,\n        paddingRight: 8,\n    },\n    sliderPaper: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        padding: \"16 8 16 16\",\n        alignItems: \"center\",\n    },\n    nostack: {\n        height: 44,\n        display: \"flex\",\n        flexGrow: 1,\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        flexWrap: \"wrap\",\n        maxWidth: 480,\n        minWidth: 240,\n        boxSizing: \"border-box\",\n        marginRight: 8,\n    },\n    lightSwitch: {\n        marginLeft: 8,\n    },\n    lightbar: {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n    },\n    placeholder: {\n        height: 57,\n        width: \"100%\",\n    },\n    listItem: {\n        maxHeight: 64,\n        width: \"100%\",\n    },\n    tableAuto: {\n        tableLayout: \"auto\",\n    },\n    cola:{\n        width: \"25%\"\n    },\n    colb:{\n        width: \"5%\"\n    },\n    colc:{\n        width: \"70%\"\n    },\n    nopad: {\n        padding: 0,\n    }\n\n});\n\nexport default function CompositeDevice(props) {\n    \n    const classes = useStyles();\n    const isMobile = window.innerWidth <= 800;\n    const [modules, setModules] = useState({})\n\n    useEffect(() => {\n    \n        var mods={}\n        for (var j = 0; j < props.device.interfaces.length; j++) {\n            let modulename=props.device.interfaces[j]\n            mods[modulename]=React.lazy(() => { \n                try { \n                    return import('./controllers/'+modulename).catch(() => ({ default: () => errorBlock(modulename) }))\n                }\n                catch {\n                    return errorBlock(modulename)\n                }\n            })\n        }\n        setModules(mods)\n    }, [props.device.interfaces])\n\n    function errorBlock(modulename) {\n        return <TableRow key={modulename+'e'}><TableCell>-</TableCell><TableCell>-</TableCell><TableCell>Loading failed - {modulename}</TableCell></TableRow>;\n    }\n        \n    function renderSuspenseModule( modulename ) {\n\n        if (modules.hasOwnProperty(modulename)) {\n            var Module=modules[modulename]\n            return  <Suspense key={ modulename } fallback={placeholder}>\n                        <Module interface={ props.device[modulename] } device={props.device} />\n                    </Suspense>\n        } else {\n            return <TableRow key={modulename} ><TableCell>Loading...</TableCell></TableRow>\n        }\n    }\n    \n    return (\n        <Dialog fullScreen={isMobile} fullWidth maxWidth={'sm'}  open={true} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\n            <DialogTitle id=\"composite-device\">{props.device.friendlyName}</DialogTitle>\n            <DialogContent className={isMobile? classes.nopad : null} >\n                <Table size=\"small\" className={classes.tableAuto} >\n                    <TableBody>\n                            <TableRow>\n                                <TableCell className={classes.cola} >Name</TableCell>\n                                <TableCell className={classes.colb} >Value</TableCell>\n                                <TableCell className={classes.colc} >Set</TableCell>\n                            </TableRow>\n\n                        { props.device.interfaces.map( iface => \n                            renderSuspenseModule(iface)\n                        )}\n                    </TableBody>\n                </Table>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.close} color=\"primary\" autoFocus>\n                    OK\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\n","import React from \"react\";\nimport { makeStyles } from '@material-ui/styles';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from  '@material-ui/core/Slide';\nconst useStyles = makeStyles({\n\n    dialogPaper: {\n        minHeight: '90vh',\n        maxHeight: '90vh',\n        overflowX: \"hidden\",\n        display: \"flex\",\n    },\n});\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nfunction SofaDialog(props) {\n\n    const classes = useStyles();\n    \n    return (\n        <Dialog\n            fullScreen={props.fullScreen}\n            fullWidth={props.fullWidth}\n            maxWidth={props.maxWidth}\n            open={props.open}  \n            onClose={props.close}\n            TransitionComponent={Transition}\n            classes={{ paper: classes.dialogPaper }}\n        >\n            {props.children}\n        </Dialog>\n    )\n}\n\nSofaDialog.defaultProps = {\n    maxWidth: 'sm',\n    tabs: '',\n    tabValue: '',\n    tabChange: '',\n    fullWidth: true,\n}\n\nexport default withMobileDialog()(SofaDialog);\n","import { withStyles } from '@material-ui/styles';\nimport InputBase from '@material-ui/core/InputBase';\n\nconst AutomationInput = withStyles(theme => ({\n    input: {\n        minWidth: '100px',\n        borderRadius: 4,\n        position: 'relative',\n        backgroundColor: theme.palette.background.paper,\n        border: '1px solid #ced4da',\n        fontSize: 16,\n        padding: '10px 26px 10px 12px',\n        transition: theme.transitions.create(['border-color', 'box-shadow']),\n        '&:focus': {\n            borderRadius: 4,\n            borderColor: '#80bdff',\n            boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n        },\n    },\n}))(InputBase);\n\nexport default AutomationInput\n","import React, { useState,useContext } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { DeviceContext } from './DataContext/DeviceProvider';\nimport { useInfiniteScroll } from \"react-infinite-scroll-hook\"\n\nimport GridSearch from './GridSearch';\nimport GridItem from './GridItem';\n\nimport Device from './deviceSelect/Device';\nimport CompositeDevice from './CompositeDevice';\n\nimport SofaDialog from \"./dialogs/SofaDialog\";\nimport DialogContent from '@material-ui/core/DialogContent';\n\nconst useStyles = makeStyles({\n\n    scroller: {\n        overflowY: \"auto\",\n    },\n    holder: {\n        display: \"flex\",\n        flexFlow: \"wrap\",\n    },\n    searchtitle: {\n        display: \"flex\",\n    }\n});\n\nexport default function DeviceDialog(props) {\n\n    const { devicesByCategory, controllers, directives } = useContext(DeviceContext);\n    const classes = useStyles();\n\n    const [mode] = useState('all');\n    const [limit, setLimit] = useState(50);\n    const [nameFilter, setNameFilter] = useState('')\n    const [showDevice, setShowDevice] = useState(null)\n    const [loading, setLoading] = useState(false);\n    const devs=devicesByCategory('ALL', nameFilter)\n    //useEffect(() => {\n    //    function handleScroll() {\n    //        //var lastDiv = document.querySelector(\"#scroll-content > div:last-child\");\n    //        if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight) return;\n    //        console.log('Fetch more devices', limit, limit+24);\n    //        setLimit(limit+24)\n    //    }   \n    //    console.log('adding scroll handler')\n    //    window.addEventListener('scroll', handleScroll, true);\n    //    return () => window.removeEventListener('scroll', handleScroll);\n    //}, []);\n\n    function filterByType(devtype) {\n\n        if (devtype==='all' || devtype==='') {\n            var devs=devicesByCategory('ALL', nameFilter)\n            //return devs\n            return devs.slice(0, limit)\n        }\n        \n        return devicesByCategory(devtype)\n    }\n\n    function executeDirective(iface, idir) {\n        if (Object.keys(props.directives[iface][idir]).length===0) {\n            props.device[iface].directive(idir)\n        } else {\n            console.log('directive requires parameters', props.directives[iface][idir])\n        }\n    }\n    \n    function closeDevice() {\n        setShowDevice(null)\n    }\n    \n    function handleLoadMore() {\n        if (limit<devs.length) { \n            setLoading(true)\n            setLimit(limit+50)\n            setLoading(false)\n        }\n    }\n\n    const infiniteRef = useInfiniteScroll({\n        loading,\n        hasNextPage: true,\n        onLoadMore: handleLoadMore,\n        scrollContainer: 'parent'\n    });    \n \n    return (\n        <SofaDialog open={props.open} close={props.close} maxWidth={'lg'} >\n            <GridItem wide={true} nopaper={true}>\n                <GridSearch wide={true} searchValue={nameFilter} setSearchValue={setNameFilter} />\n            </GridItem>\n            <DialogContent className={classes.scroller}>\n                <div ref={infiniteRef} className={classes.holder}>\n                { filterByType('all').map((device) =>\n                    <Device key={ device.endpointId } device={device} mode={mode} controllers={controllers} select={props.select ? props.select : executeDirective} directives={directives} showDevice={setShowDevice} />\n                )}\n                { showDevice && \n                    <CompositeDevice device={showDevice} close={closeDevice} directives={directives} />\n                }\n                </div>\n            </DialogContent>\n        </SofaDialog>\n    )\n\n};","import React from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CropFreeIcon from '@material-ui/icons/CropFree';\n\nimport DeviceDialog from '../DeviceDialog';\nimport DeviceIcon from '../DeviceIcon';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles({\n\n    deviceButton: {\n        width: \"100%\",\n        height: 56,\n        borderRadius: 4,\n    },\n    deviceLine: {\n        padding: 16,\n    }\n});\n\nexport default function AutomationDevice(props) {\n\n    const [deviceSelect, setDeviceSelect] = useState(false);\n    const classes = useStyles();\n\n    function closeDialog() {\n        setDeviceSelect(false)\n    }\n    \n    function selectDevice(newdevice) {\n        props.selectDevice(newdevice)\n        setDeviceSelect(false)\n    }\n\n    return (\n        <Grid item xs={props.wide ? 12 : 4 } className={classes.deviceLine} >\n            <ListItem button onClick={() => setDeviceSelect(true) } className={classes.deviceButton} >\n                <ListItemIcon>{ props.device===undefined ? <CropFreeIcon /> : <DeviceIcon name={props.device.displayCategories[0]} /> }</ListItemIcon>\n                <ListItemText primary={props.device ? props.device.friendlyName : \"Choose a device\"} secondary={props.device && props.device.displayCategories[0]} />\n            </ListItem>\n            { deviceSelect &&\n                <DeviceDialog open={true} close={closeDialog} select={selectDevice} />\n            }\n        </Grid>\n    )\n}\n","import React from 'react';\n\nimport DataUsageIcon from '@material-ui/icons/DataUsage';\nimport DeveloperBoardIcon from '@material-ui/icons/DeveloperBoard';\nimport SpeakerIcon from '@material-ui/icons/Speaker';\nimport SpeakerGroupIcon from '@material-ui/icons/SpeakerGroup';\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport ListIcon from '@material-ui/icons/List';\nimport TvIcon from '@material-ui/icons/Tv';\nimport LightbulbOutlineIcon from './LightbulbOutline';\n\n\nexport default function DeviceIcon(props) {\n\n    const icons = {'SCENE_TRIGGER':TuneIcon, 'ACTIVITY_TRIGGER':ListIcon, 'LIGHT':LightbulbOutlineIcon, 'BUTTON':TouchAppIcon, 'SPEAKER':SpeakerIcon, 'THERMOSTAT':DataUsageIcon, 'RECEIVER':SpeakerGroupIcon, 'TV':TvIcon}\n\n    function getIcon(category, size='default') {\n        \n        var RealIcon=DeveloperBoardIcon\n        if (icons.hasOwnProperty(category)) {\n            RealIcon=icons[category]\n        }\n        return <RealIcon size={24} fontSize={size} />\n    }\n\n    return getIcon(props.name)\n\n}","import React, { Suspense, useState, useEffect, useContext } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { DeviceContext } from '../DataContext/DeviceProvider';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles({\n        \n    flex: {\n        display: \"flex\",\n        height: 72,\n        alignItems: \"center\",\n    },\n \n});\n\n\nexport default function PropertyValue(props) {\n    \n    const classes = useStyles();\n    const { directives } = useContext(DeviceContext);\n    const [propMod, setPropMod] = useState(undefined)\n    const [modName, setModName] = useState(undefined)\n\n    useEffect(() => {\n\n        function propertyFromDirective(controller, directive) {\n            if (controller===undefined || directive===undefined) {\n                return undefined\n                }\n                if (directives.hasOwnProperty(controller) && directives[controller].hasOwnProperty(directive)) {\n                    var actionValues = directives[controller][directive]\n                    for (var av in actionValues) {\n                        return av\n                    }\n                }\n                return undefined\n            }    \n\n        try {\n            var pfd=props.item.propertyName\n            if (!props.item.hasOwnProperty('propertyName')) {\n                pfd=propertyFromDirective(props.item.controller, props.item.command)\n            }\n            \n            if (pfd!==modName) {\n                setModName(pfd)\n                setPropMod(loadPropMod(pfd))\n            }\n        }\n        catch {\n        }\n    // eslint-disable-next-line\n    }, [ props.item ])    \n \n    function errorBlock(modulename) {\n        return <Button disabled>{modulename ? modulename : \"Error\"}</Button>\n    }\n    \n    function placeholder(modulename) {\n        return <Button disabled>{modulename ? modulename : \"Loading...\"}</Button>\n    }\n    \n    function loadPropMod(name) {\n        let pmod=React.lazy(() => { \n                try { \n                    return import('../controllers/properties/'+name).catch(() => ({ default: () => errorBlock(name) }))\n                }\n                catch {\n                    return <Button disabled>{name ? name : \"Not available\"}</Button>\n                }\n            })\n        return pmod\n    }\n\n    function renderSuspenseModule( modulename ) {\n        \n        if (propMod!==undefined) {\n            if (propMod===null) {\n                return null\n            }\n            let Module=propMod\n            return  <Suspense key={ modulename } fallback={ placeholder() }>\n                        <Module item={props.item} interface={ props.interface } device={props.device} instance={props.item.instance} directive={props.directive} />\n                    </Suspense>\n        } else {\n            return <Button disabled>Loading...</Button>\n        }\n    }\n\n    return (\n        (props.device!==undefined && modName!==undefined && props.item!==undefined && props.item.operator!=='Any') ?\n            <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                <ListItem >\n                { renderSuspenseModule(modName) }\n                </ListItem>\n            </Grid>\n        :\n        null\n    )\n}\n","import React from 'react';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\n\nexport default function AutomationMove(props) {\n    \n    return (\n        !props.wide && \n        <>\n            { props.remove &&\n                <ListItemSecondaryAction>\n                    <IconButton size=\"small\" onClick={() => props.delete(props.index)}><CloseIcon /></IconButton>     \n                </ListItemSecondaryAction>\n            }\n            { props.reorder &&\n                <ListItemSecondaryAction>\n                    { props.index > 0 &&\n                        <IconButton size=\"small\" onClick={() => props.moveUp(props.index)}><ExpandLessIcon /></IconButton>\n                    }\n                    <IconButton size=\"small\" onClick={() => props.moveDown(props.index)}><ExpandMoreIcon /></IconButton>\n                </ListItemSecondaryAction>\n            }\n        </>\n    )\n}\n","import React from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n\nconst useStyles = makeStyles({\n        \n    button: {\n        maxWidth: 64,\n        minWidth: 64,\n        marginLeft: 8,\n        fontSize: 18,\n        fontWeight: \"bold\",\n    },\n    bigtext: {\n        fontSize: 16,\n        fontWeight: \"bold\",\n    }\n    \n});\n\n\nexport default function OperatorButton(props) {\n\n    const classes = useStyles();\n    const [anchor, setAnchor] = useState(null)\n    const operatorList=['=','!=','>','>=','<','=<',]\n\n\n    function handleClick(event) {\n        setAnchor(event.currentTarget);\n    };\n    \n    function handleClose(event) {\n        setAnchor(null)\n    };\n    \n    function handleMenuSelect(item) {\n        setAnchor(null)\n        props.setOperator(item)\n    };\n    \n    function operators() {\n        if (props.anyOp) {\n            console.log('any operators...', props.value)\n            return ['Any', ...operatorList]\n        }\n        console.log('operators...', props.value)\n        return operatorList\n    }\n\n    return (\n        <React.Fragment>\n            <Button id={\"op\"+props.index} onClick={handleClick} className={classes.button} disabled={props.disabled}>\n                {props.value}\n            </Button>\n    \n            <Menu id=\"lock-menu\" anchorEl={anchor} open={Boolean(anchor)} onClose={handleClose}>\n                {operators().map((option, index) => (\n                    <MenuItem\n                        key={option}\n                        selected={ option===props.value }\n                        onClick={event => handleMenuSelect(option)}\n                        className={classes.bigtext}\n                    >\n                        {option}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </React.Fragment>\n    )\n}\n\nOperatorButton.defaultProps = {\n    anyOp: false,\n    value: \"\",\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(theme => {\n    return {        \n        off: {\n            minWidth: 36,\n            marginLeft: 2,\n        },\n        on: {\n            marginLeft: 2,\n            minWidth: 36,\n            \"&:hover\" : {\n                backgroundColor: theme.palette.primary.light,\n            },\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText,\n        },\n    }\n});\n\nexport default function ToggleButton(props) {\n\n    const classes = useStyles();\n    \n    return (\n        <Button size=\"small\" className={ classes[props.buttonState] } onClick={ props.onClick} >\n            {props.label ? props.label : props.children}\n        </Button>\n    )\n};\n","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { DeviceContext } from '../DataContext/DeviceProvider';\n\nimport AutomationInput from './AutomationInput';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport OperatorButton from \"./operatorButton\"\nimport Grid from '@material-ui/core/Grid';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nconst useStyles = makeStyles({\n        \n    input: {\n        marginTop:0,\n        marginLeft: 8,\n        flexGrow:1,\n        flexBasis:0,\n    },\n    deviceName: {\n        flexGrow:1,\n        flexBasis:0,\n        padding: 0,\n    },\n    listItem: {\n        padding: \"12 16\",\n    },\n    flex: {\n        display: \"flex\",\n        height: 72,\n        alignItems: \"center\",\n    },\n    wideSelect: {\n        width: \"100%\",\n    }\n});\n\n\nexport default function ControllerProperty(props) {\n\n    const classes = useStyles();\n    const { propertyMap } = useContext(DeviceContext);\n    const propMap=propertyMap(props.device)\n\n    function editOperatorValue(value) {\n        console.log('saving op',value)\n        props.save(props.index, {...props.item, \"operator\": value})\n    }\n\n    function handleChangePropertyName(newval) {\n        props.save(props.index, {...props.item, \"instance\": newval.instance, \"value\": undefined, \"command\": undefined, \"controller\":newval.controller, \"propertyName\": newval.property })\n    }\n\n    function defaultOrValue() { \n        for (var j = 0; j < propMap.length; j++) {\n            if ((propMap[j].instance===props.item.instance) && (propMap[j].controller===props.item.controller) && (propMap[j].property===props.item.propertyName)) {\n                return propMap[j]\n            }\n        }\n        return \"\"\n    }\n    \n    function propkey(propItem) {\n        try {\n            if (propItem.instance!==undefined) {\n                return propItem.instance\n            } \n        }\n        catch {}\n        return propItem.property\n    }\n    \n    function opDefaultOrValue() {\n        if (props.item.operator) { return props.item.operator}\n        if (props.anyOp) { editOperatorValue('Any'); return 'Any' }\n        editOperatorValue('=')\n        return '='\n    }\n\n    return (\n        props.device!==undefined ?\n            <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                <ListItem >\n                    <Select className={classes.wideSelect} value={ defaultOrValue() } \n                            onChange={(e) => handleChangePropertyName(e.target.value)} \n                            input={<AutomationInput name=\"command\" id=\"command-select\" />} >\n                    { propMap.map( propItem => \n                        <MenuItem key={propkey(propItem)} value={propItem}>{ propItem.instance ? propItem.instance.split('.')[1] : propItem.property }</MenuItem>\n                    )}\n                    </Select>\n                    <OperatorButton index={props.index} value={ opDefaultOrValue() } setOperator={ editOperatorValue } anyOp={props.anyOp} />\n                </ListItem>\n            </Grid>\n        :\n        null\n    )\n}\n","import React from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n\nconst useStyles = makeStyles({\n        \n    button: {\n        maxWidth: 64,\n        minWidth: 64,\n    },\n    \n});\n\nconst units = [\n    'min',\n    'hours',\n    'days',\n];\n\nexport default function UnitButton(props) {\n\n    const classes = useStyles();\n    const [anchor, setAnchor] = useState(null)\n\n\n    function handleClick(event) {\n        setAnchor(event.currentTarget);\n    };\n    \n    function handleClose(event) {\n        setAnchor(null)\n    };\n    \n    function handleMenuSelect(event, item) {\n        setAnchor(null)\n        props.setUnit(units[item])\n    };\n\n    return (\n        <React.Fragment>\n            <Button id={\"op\"+props.index} onClick={handleClick} className={classes.button}>\n                {props.value ? props.value : \"min\"}\n            </Button>\n    \n            <Menu id=\"lock-menu\" anchorEl={anchor} open={Boolean(anchor)} onClose={handleClose}>\n                {units.map((option, index) => (\n                    <MenuItem\n                        key={option}\n                        selected={index === units.indexOf(props.value)}\n                        onClick={event => handleMenuSelect(event, index)}\n                    >\n                        {option}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </React.Fragment>\n    )\n}\n","import React, {  useContext } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { DeviceContext } from '../DataContext/DeviceProvider';\nimport ListItem from '@material-ui/core/ListItem';\nimport AutomationInput from './AutomationInput';\nimport Grid from '@material-ui/core/Grid';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nconst useStyles = makeStyles({\n\n    flex: {\n        display: \"flex\",\n        height: 72,\n        alignItems: \"center\",\n    },\n    wideSelect: {\n        width: \"100%\",\n    }\n});\n\nexport default function DeviceDirective(props) {\n    \n    const classes = useStyles();\n    const { directives, deviceDirectives } = useContext(DeviceContext);\n    const directiveMap = deviceDirectives(props.device)\n\n    function propertyFromDirective(controllerName, directiveName) {\n        if (controllerName===undefined || directiveName===undefined) {\n            return undefined\n        }\n        if (directives.hasOwnProperty(controllerName) && directives[controllerName].hasOwnProperty(directiveName)) {\n            var actionValues = directives[controllerName][directiveName]\n            for (var av in actionValues) {\n                return av\n            }\n        }\n        return undefined\n    }\n    \n    function handleChangeDirectiveName(newval) {\n        var propertyName=propertyFromDirective(newval.controller, newval.directive)\n        props.save(props.index, {...props.item, propertyName: propertyName, controller:newval.controller, command:newval.directive, instance: newval.instance, value: undefined})\n    }\n    \n    function defaultOrValue() { \n        for (var j = 0; j < directiveMap.length; j++) {\n            if ((directiveMap[j].instance===props.item.instance) && (directiveMap[j].controller===props.item.controller) && (directiveMap[j].directive===props.item.command)) {\n                return directiveMap[j]\n            }\n        }\n        return \"\"\n    }\n    \n    function propkey(dirItem) {\n        try {\n            if (dirItem.instance!==undefined) {\n                return props.device.endpointId+dirItem.instance+dirItem.directive\n            } \n        }\n        catch {}\n        return props.device.endpointId+dirItem.directive\n    }\n\n    return (\n        props.device!==undefined ?\n            <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                <ListItem>\n                    <Select className={classes.wideSelect} value={defaultOrValue()} onChange={(e) => handleChangeDirectiveName(e.target.value)} \n                            input={<AutomationInput name=\"command\" id=\"command-select\" />} >\n                    { directiveMap.map( dirItem => \n                        <MenuItem key={propkey(dirItem)} value={dirItem}>{dirItem.instance ? dirItem.directive+\".\"+dirItem.instance.split('.')[1] : dirItem.directive}</MenuItem>\n                    )}\n                    </Select>\n                </ListItem>\n            </Grid>\n        :\n        null\n    )\n}\n","import React, { useContext } from 'react';\nimport { DeviceContext } from '../DataContext/DeviceProvider';\n\nimport AutomationDevice from './AutomationDevice';\nimport AutomationMove from './AutomationMove';\nimport PropertyValue from './PropertyValue';\nimport ControllerProperty from './ControllerProperty';\nimport GridItem from '../GridItem';\n\nexport default function AutomationCondition(props) {\n\n    const { getDeviceProperties, getControllerInterface } = useContext(DeviceContext);\n\n    function directive (endpointId, controllerName, command, payload={}, cookie={}, instance) {\n        if (controllerName!==props.item.controller) { return false}\n        props.save(props.index, {...props.item, controller:controllerName, command:command, instance: instance, value: payload})\n    }\n\n    function selectDevice(newdevice) {\n        console.log('selected new device',newdevice)\n        var newitem={name: newdevice.friendlyName, endpointId: newdevice.endpointId }\n        props.save(props.index, {...newitem})\n    }\n\n    return (\n        <GridItem nolist={true} elevation={0} wide={true} xs={12}>\n            <AutomationDevice   device={props.device} index={props.index} selectDevice={selectDevice} wide={props.wide}\n                                remove={props.remove} reorder={props.reorder}\n                                moveUp={props.moveUp} moveDown={props.moveDown} delete={props.delete} />\n                                \n            <ControllerProperty index={props.index} save={props.save} device={props.device} item={props.item} anyOp={props.anyOp}\n                                deviceProperties={getDeviceProperties(props.device)} wide={props.wide} />\n                 \n            <PropertyValue      index={props.index} device={props.device} item={props.item} wide={props.wide} \n                                directive={directive} interface={ getControllerInterface(props.device, props.item) } />\n              \n            <AutomationMove     wide={props.wide} remove={props.remove} reorder={props.reorder} \n                                delete={props.delete} moveUp={props.moveUp} moveDown={props.moveDown} index={props.index} />\n        </GridItem>\n    )\n}\n\nAutomationCondition.defaultProps ={\n    item: {}\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TextField from  '@material-ui/core/TextField';\nimport EventIcon from '@material-ui/icons/Event';\n\nconst useStyles = makeStyles({\n    shortLabel: {\n        flexGrow:0,\n    },\n    label: {\n        flexGrow:1,\n        flexBasis:0,\n        padding: 0,\n    },\n    input: {\n        marginLeft:8,\n        marginTop:0,\n        flexGrow:0,\n        marginBottom:0,\n        padding: 6,\n    },\n});\n\n\nexport default function ScheduleStart(props) {\n    \n    const classes = useStyles();\n\n    function shortTimeFormat(thisdate) {\n        var longdate=new Date().toISOString().replace('Z','')\n        if (thisdate) {\n            longdate=thisdate\n        }\n\n        if (longdate.split(':').length>2) {\n            longdate=longdate.split(':')[0]+\":\"+longdate.split(':')[1]\n        }\n\n        return longdate\n    }\n\n    return (\n        <>\n        <Grid item xs={props.wide ? 12 : 4 } >\n            <ListItem> \n                <ListItemIcon><EventIcon /></ListItemIcon>\n                <ListItemText className={classes.label} primary=\"Starting\" />\n                { props.remove ?\n                    <ListItemSecondaryAction>\n                        <IconButton onClick={() => props.delete(props.index)}><CloseIcon /></IconButton>     \n                    </ListItemSecondaryAction>\n                    : null\n                }\n            </ListItem>\n        </Grid>\n        <Grid item xs={props.wide ? 12 : 4 } >\n            <TextField\n                className={classes.input}\n                type=\"datetime-local\"\n                id={'specstart'}\n                margin={\"normal\"}\n                value={props.value ? props.value : shortTimeFormat() }\n                onChange={(e) => props.change(props.target, e.target.value)}\n            />\n        </Grid>\n        </>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport TextField from  '@material-ui/core/TextField';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport UnitButton from './UnitButton';\n\nconst useStyles = makeStyles({\n    shortLabel: {\n        flexGrow:0,\n    },\n    input: {\n        marginTop:0,\n        flexGrow:0,\n        marginBottom:0,\n        maxWidth: 50,\n        marginRight: 16,\n    },\n});\n\nexport default function ScheduleInterval(props) {\n    \n    const classes = useStyles();\n\n    function changeUnit(newunit) {\n        props.change('unit', newunit)    \n    }\n    \n    return (\n        <ListItem> \n            <ListItemIcon onClick={props.toggle}><ScheduleIcon /></ListItemIcon>\n            <ListItemText className={ classes.shortLabel} primary=\"Every\" />\n            <TextField\n                className={classes.input}\n                id={'specint'}\n                margin={\"normal\"}\n                type=\"number\"\n                value={props.value}\n                onChange={(e) => props.change('interval', e.target.value)}\n            />\n            <UnitButton value={props.unit} setUnit={changeUnit} />\n        </ListItem>\n    )\n}\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ToggleButton from '../ToggleButton';\n\nexport default function ScheduleDays(props) {\n\n    const daysOfTheWeek = ['sun','mon','tue','wed','thu','fri','sat'];\n\n    function editDays(day) {\n        var sdays=[]\n        if (props.value) {\n            sdays=props.value \n        }\n        if (sdays.includes(day)) {\n            sdays.splice(sdays.indexOf(day),1)\n        } else {\n            sdays.push(day)\n        }\n        props.change('days', sdays)\n    }\n    \n    return (\n        <ListItem>\n            { daysOfTheWeek.map((day) => \n                <ToggleButton key={day} label={day} buttonState={props.value && props.value.includes(day) ? 'on' : 'off' } onClick={(e) => editDays(day)} >\n                    {day}\n                </ToggleButton>\n                )\n            }\n        </ListItem>\n    )\n}\n","import React, { useContext } from 'react';\nimport { DeviceContext } from '../DataContext/DeviceProvider';\n\nimport AutomationDevice from './AutomationDevice';\nimport PropertyValue from './PropertyValue';\nimport AutomationMove from './AutomationMove';\nimport DeviceDirective from './DeviceDirective';\nimport GridItem from '../GridItem';\n\nexport default function AutomationAction(props) {\n    \n    const { getControllerInterface } = useContext(DeviceContext);\n\n    function directive (endpointId, controllerName, command, payload={}, cookie={}, instance) {\n        if (controllerName!==props.item.controller) { return false}\n        props.save(props.index, {...props.item, controller:controllerName, command:command, instance: instance, value: payload})\n    }\n\n    function selectDevice(newdevice) {\n        console.log('selected new device',newdevice)\n        var newitem={name: newdevice.friendlyName, endpointId: newdevice.endpointId }\n        props.save(props.index, {...newitem})\n    }\n\n    return (\n        <GridItem nolist={true} elevation={0} wide={true} xs={12}>\n            <AutomationDevice   device={props.device} index={props.index} selectDevice={selectDevice} wide={props.wide}\n                                remove={props.remove} reorder={props.reorder}\n                                moveUp={props.moveUp} moveDown={props.moveDown} delete={props.delete} />\n                                \n            <DeviceDirective    index={props.index} save={props.save} device={props.device} item={props.item} wide={props.wide} />\n\n            <PropertyValue      index={props.index} device={props.device} item={props.item} wide={props.wide} \n                                interface={ getControllerInterface(props.device, props.item) } directive={directive} />\n\n            <AutomationMove     wide={props.wide} remove={props.remove} reorder={props.reorder} \n                                delete={props.delete} moveUp={props.moveUp} moveDown={props.moveDown} index={props.index} />\n        </GridItem>\n    )\n}\n","import React, { useContext } from 'react';\nimport { DeviceContext } from '../DataContext/DeviceProvider';\n\nimport AutomationDevice from './AutomationDevice';\nimport AutomationMove from './AutomationMove';\nimport PropertyValue from './PropertyValue';\nimport ControllerProperty from './ControllerProperty';\nimport GridItem from '../GridItem';\n\nexport default function AutomationTrigger(props) {\n\n    const { getDeviceProperties, getControllerInterface } = useContext(DeviceContext);\n\n    function directive (endpointId, controllerName, command, payload={}, cookie={}, instance) {\n        console.log(controllerName, props.item.controller)\n        if (controllerName!==props.item.controller) { return false}\n        props.save(props.index, {...props.item, controller:controllerName, command:command, instance: instance, value: payload})\n    }\n\n    function selectDevice(newdevice) {\n        console.log('selected new device',newdevice)\n        var newitem={name: newdevice.friendlyName, endpointId: newdevice.endpointId }\n        props.save(props.index, {...newitem})\n    }\n\n    return (\n        <GridItem nolist={true} elevation={0} wide={true} xs={12}>\n            <AutomationDevice   device={props.device} index={props.index} selectDevice={selectDevice} wide={props.wide}\n                                remove={props.remove} reorder={props.reorder}\n                                moveUp={props.moveUp} moveDown={props.moveDown} delete={props.delete} />\n\n            <ControllerProperty index={props.index} save={props.save} device={props.device} item={props.item} \n                                deviceProperties={getDeviceProperties(props.device)} wide={props.wide} />\n                                \n            <PropertyValue      index={props.index} device={props.device} item={props.item} wide={props.wide} \n                                directive={directive} interface={ getControllerInterface(props.device, props.item) } />\n            \n            <AutomationMove     wide={props.wide} remove={props.remove} reorder={props.reorder} \n                                delete={props.delete} moveUp={props.moveUp} moveDown={props.moveDown} index={props.index} />\n        </GridItem>\n    )\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport GridItem from '../GridItem'\nimport ScheduleStart from './ScheduleStart'\nimport ScheduleInterval from './ScheduleInterval'\nimport ScheduleDays from './ScheduleDays'\n\nconst useStyles = makeStyles({\n    flex: {\n        display: \"flex\",\n        padding: 6,\n    },\n});\n\nexport default function AutomationSchedule(props) {\n\n    const [schedule, setSchedule] = useState(props.item)\n    const classes = useStyles();\n    \n    function editValues(action, value) {\n        var edsc=schedule\n        edsc[action]=value\n        setSchedule(edsc)\n        props.save(props.index, edsc)\n        console.log(props.index, edsc)\n        console.log(action, value)\n    }\n\n    function changeValue(aspect, value) {\n        console.log('changevalue',aspect, value)\n        var newschedule={ ...props.item, [aspect] : value}\n        props.save(props.index, newschedule)\n    }\n\n    function toggleType() {\n        console.log('toggle')\n        if (schedule.hasOwnProperty('type') && schedule.type==='interval') {\n            changeValue('type','days')\n        } else {\n            changeValue('type','interval')\n        }\n    }\n\n    return (\n        <GridItem nolist={true} elevation={0} wide={true} xs={12}>\n            <ScheduleStart wide={props.wide} delete={props.delete} remove={props.remove} target=\"start\" change={editValues} value={schedule.start} />\n            <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                { schedule.hasOwnProperty('type') && schedule.type==='interval' ?\n                    <ScheduleInterval toggle={toggleType} change={editValues} unit={schedule.unit} value={schedule.interval} />\n                :\n                    <ScheduleDays toggle={toggleType} change={editValues} value={schedule.days} />\n                }\n            </Grid>\n        </GridItem>\n    )\n}\n","import React, { useState, useContext } from 'react';\nimport { LayoutContext } from './layout/NewLayoutProvider';\nimport { DeviceContext } from './DataContext/DeviceProvider';\nimport { makeStyles } from '@material-ui/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\n\nimport AutomationAction from \"./automation/AutomationAction\"\nimport AutomationCondition from \"./automation/AutomationCondition\"\nimport AutomationTrigger from \"./automation/AutomationTrigger\"\nimport AutomationSchedule from \"./automation/automationSchedule\"\n\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport UnfoldMoreIcon from '@material-ui/icons/UnfoldMore';\n\nimport GridSection from './GridSection';\nimport ErrorBoundary from './ErrorBoundary'\n\nconst useStyles = makeStyles({\n    \n    dialogActions: {\n        paddingBottom: \"env(safe-area-inset-bottom)\",\n    },\n    listDialogContent: {\n        padding: 0,\n    }\n\n});\n\nexport default function AutomationColumn(props) {\n\n    const classes = useStyles();\n    const { isMobile } = useContext(LayoutContext);\n    const { deviceByEndpointId, getControllerProperties, controllerForProperty, directives } = useContext(DeviceContext);\n\n    const [reorder, setReorder] = useState(false)\n    const [remove, setRemove] = useState(false)\n    const modmap={'Triggers': AutomationTrigger , 'Conditions':AutomationCondition, 'Actions':AutomationAction, 'Schedules':AutomationSchedule}\n    const AutomationProperty = React.memo(modmap[props.name])\n\n    function deleteItem(index) {\n        console.log('deleting item',index,'from',props.name)\n        var newitems=[...props.items]\n        newitems.splice(index, 1);\n        props.save(props.itemtype,newitems)\n    }\n\n    function save(index, item) {\n        console.log('saving',index,item)\n        var newitems=[...props.items]\n        newitems[index]=item\n        props.save(props.itemtype, newitems)\n    }\n    \n    function moveUp(index) {\n        if (index-1>=0) {\n            console.log('moving up item',index,props.items[index], props.items)\n            var newitems=[...props.items]\n            var element = newitems[index];\n            newitems.splice(index, 1);\n            newitems.splice(index-1, 0, element);\n            console.log('moved up item', newitems[index-1], newitems)\n            props.save(props.itemtype, newitems)\n        }\n    }\n\n    function moveDown(index) {\n        if (index+1<=props.items.length) {\n            var newitems=[...props.items]\n            var element = newitems[index];\n            newitems.splice(index, 1);\n            newitems.splice(index+1, 0, element);\n            props.save(props.itemtype, newitems)\n        }\n    }\n    \n    function shortTimeFormat(thisdate) {\n        var longdate=new Date().toISOString().replace('Z','')\n        \n        if (thisdate) {\n            longdate=thisdate\n        }\n\n        if (longdate.split(':').length>2) {\n            longdate=longdate.split(':')[0]+\":\"+longdate.split(':')[1]\n        }\n\n        return longdate\n    }\n\n    function addItem() {\n        var newItem={}\n        if (props.itemtype==='schedule') {\n            newItem={'type':'interval', 'interval':1, 'unit':'days', 'start':shortTimeFormat()}\n            props.save(props.itemtype,[...props.items, newItem])\n        } else if (props.itemtype==='action') {\n            newItem={\n                \"type\": \"command\",\n                \"endpointId\": undefined,\n                \"controller\": undefined,\n                \"command\": undefined,\n                \"deviceName\": undefined\n            }\n            props.save(props.itemtype,[...props.items, newItem])\n        } else if (props.itemtype==='condition') {\n            newItem={\n                \"type\": \"property\",\n                \"endpointId\": undefined,\n                \"value\": undefined,\n                \"propertyName\": undefined,\n                \"controller\": undefined,\n                \"deviceName\": undefined\n            }\n            props.save(props.itemtype,[...props.items, newItem])\n        } else if (props.itemtype==='trigger') {\n            newItem={\n                \"type\": \"property\",\n                \"endpointId\": undefined,\n                \"value\": undefined,\n                \"propertyName\": undefined,\n                \"controller\": undefined,\n                \"deviceName\": undefined\n            }\n            props.save(props.itemtype,[...props.items, newItem])\n        }\n    }\n    \n    const headerButtons = <>\n                <IconButton onClick={ () => addItem() } className={classes.button }>\n                    <AddIcon fontSize=\"small\" />\n                </IconButton>\n                { Object.keys(props.items).length>0 &&\n                <IconButton onClick={ () => { setRemove(!remove); setReorder(false); }} className={classes.button }>\n                    <RemoveIcon fontSize=\"small\" />\n                </IconButton>\n                }\n                { (props.itemtype!=='trigger' && Object.keys(props.items).length>1) &&\n                <IconButton onClick={ () => { setRemove(false); setReorder(!reorder) }} className={classes.button }>\n                    <UnfoldMoreIcon fontSize=\"small\" />\n                </IconButton>\n                }\n                </>\n\n    return (    \n\n            <GridSection name={props.name} secondary={ headerButtons } >\n\n            { Object.keys(props.items).length>0 &&\n                <React.Fragment>\n                    { props.items.map((item,index) =>\n                        <ErrorBoundary key={props.itemtype+index} >\n                        { props.itemtype==='schedule' ?\n                            <AutomationProperty key={item.endpointId+item.value} save={save} remove={remove} delete={deleteItem} index={index} item={item} wide={isMobile}/>\n                        :\n                            <AutomationProperty key={item.endpointId+item.value} moveUp={moveUp} moveDown={moveDown} save={save} remove={remove} reorder={reorder} \n                                delete={deleteItem} index={index} item={item} device={ item.endpointId===undefined ? undefined : deviceByEndpointId(item.endpointId) } \n                                controllerForProperty={controllerForProperty}\n                                directives={directives} controllerProperties={ getControllerProperties(item.endpointId)} wide={isMobile} \n                                />\n                        }\n                        </ErrorBoundary>\n                    )}\n                </React.Fragment>\n            }\n            </GridSection>\n    )\n};","var map = {\n\t\"./BrightnessController\": [\n\t\t145,\n\t\t0,\n\t\t168\n\t],\n\t\"./BrightnessController.js\": [\n\t\t145,\n\t\t0,\n\t\t168\n\t],\n\t\"./ColorController\": [\n\t\t146,\n\t\t1,\n\t\t2,\n\t\t181\n\t],\n\t\"./ColorController.js\": [\n\t\t146,\n\t\t1,\n\t\t2,\n\t\t181\n\t],\n\t\"./ColorTemperatureController\": [\n\t\t147,\n\t\t0,\n\t\t169\n\t],\n\t\"./ColorTemperatureController.js\": [\n\t\t147,\n\t\t0,\n\t\t169\n\t],\n\t\"./EndpointHealth\": [\n\t\t148,\n\t\t195\n\t],\n\t\"./EndpointHealth.js\": [\n\t\t148,\n\t\t195\n\t],\n\t\"./PowerController\": [\n\t\t149,\n\t\t148\n\t],\n\t\"./PowerController.js\": [\n\t\t149,\n\t\t148\n\t],\n\t\"./StateController\": [\n\t\t150,\n\t\t182\n\t],\n\t\"./StateController.js\": [\n\t\t150,\n\t\t182\n\t],\n\t\"./properties/brightness\": [\n\t\t125,\n\t\t0,\n\t\t12\n\t],\n\t\"./properties/brightness.js\": [\n\t\t125,\n\t\t0,\n\t\t12\n\t],\n\t\"./properties/color\": [\n\t\t124,\n\t\t1,\n\t\t2,\n\t\t196\n\t],\n\t\"./properties/color.js\": [\n\t\t124,\n\t\t1,\n\t\t2,\n\t\t196\n\t],\n\t\"./properties/connectivity\": [\n\t\t126,\n\t\t19\n\t],\n\t\"./properties/connectivity.js\": [\n\t\t126,\n\t\t19\n\t],\n\t\"./properties/detectionState\": [\n\t\t127,\n\t\t20\n\t],\n\t\"./properties/detectionState.js\": [\n\t\t127,\n\t\t20\n\t],\n\t\"./properties/doorbellPress\": [\n\t\t128,\n\t\t26\n\t],\n\t\"./properties/doorbellPress.js\": [\n\t\t128,\n\t\t26\n\t],\n\t\"./properties/duration\": [\n\t\t129,\n\t\t27\n\t],\n\t\"./properties/duration.js\": [\n\t\t129,\n\t\t27\n\t],\n\t\"./properties/input\": [\n\t\t130,\n\t\t21\n\t],\n\t\"./properties/input.js\": [\n\t\t130,\n\t\t21\n\t],\n\t\"./properties/mode\": [\n\t\t131,\n\t\t17\n\t],\n\t\"./properties/mode.js\": [\n\t\t131,\n\t\t17\n\t],\n\t\"./properties/onLevel\": [\n\t\t132,\n\t\t0,\n\t\t18\n\t],\n\t\"./properties/onLevel.js\": [\n\t\t132,\n\t\t0,\n\t\t18\n\t],\n\t\"./properties/playbackState\": [\n\t\t133,\n\t\t22\n\t],\n\t\"./properties/playbackState.js\": [\n\t\t133,\n\t\t22\n\t],\n\t\"./properties/power\": [\n\t\t134,\n\t\t28\n\t],\n\t\"./properties/power.js\": [\n\t\t134,\n\t\t28\n\t],\n\t\"./properties/powerLevel\": [\n\t\t135,\n\t\t0,\n\t\t13\n\t],\n\t\"./properties/powerLevel.js\": [\n\t\t135,\n\t\t0,\n\t\t13\n\t],\n\t\"./properties/powerState\": [\n\t\t136,\n\t\t23\n\t],\n\t\"./properties/powerState.js\": [\n\t\t136,\n\t\t23\n\t],\n\t\"./properties/pressState\": [\n\t\t137,\n\t\t24\n\t],\n\t\"./properties/pressState.js\": [\n\t\t137,\n\t\t24\n\t],\n\t\"./properties/targetSetpoint\": [\n\t\t138,\n\t\t0,\n\t\t14\n\t],\n\t\"./properties/targetSetpoint.js\": [\n\t\t138,\n\t\t0,\n\t\t14\n\t],\n\t\"./properties/temperature\": [\n\t\t139,\n\t\t0,\n\t\t15\n\t],\n\t\"./properties/temperature.js\": [\n\t\t139,\n\t\t0,\n\t\t15\n\t],\n\t\"./properties/thermostatMode\": [\n\t\t140,\n\t\t25\n\t],\n\t\"./properties/thermostatMode.js\": [\n\t\t140,\n\t\t25\n\t],\n\t\"./properties/time\": [\n\t\t141,\n\t\t10\n\t],\n\t\"./properties/time.js\": [\n\t\t141,\n\t\t10\n\t],\n\t\"./properties/timeEntry\": [\n\t\t123,\n\t\t11\n\t],\n\t\"./properties/timeEntry.js\": [\n\t\t123,\n\t\t11\n\t],\n\t\"./properties/volume\": [\n\t\t142,\n\t\t0,\n\t\t16\n\t],\n\t\"./properties/volume.js\": [\n\t\t142,\n\t\t0,\n\t\t16\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 409;\nmodule.exports = webpackAsyncContext;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');\n\nexports.default = _default;","var map = {\n\t\"./brightness\": [\n\t\t125,\n\t\t0,\n\t\t12\n\t],\n\t\"./brightness.js\": [\n\t\t125,\n\t\t0,\n\t\t12\n\t],\n\t\"./color\": [\n\t\t124,\n\t\t1,\n\t\t2,\n\t\t33\n\t],\n\t\"./color.js\": [\n\t\t124,\n\t\t1,\n\t\t2,\n\t\t33\n\t],\n\t\"./connectivity\": [\n\t\t126,\n\t\t19\n\t],\n\t\"./connectivity.js\": [\n\t\t126,\n\t\t19\n\t],\n\t\"./detectionState\": [\n\t\t127,\n\t\t20\n\t],\n\t\"./detectionState.js\": [\n\t\t127,\n\t\t20\n\t],\n\t\"./doorbellPress\": [\n\t\t128,\n\t\t26\n\t],\n\t\"./doorbellPress.js\": [\n\t\t128,\n\t\t26\n\t],\n\t\"./duration\": [\n\t\t129,\n\t\t27\n\t],\n\t\"./duration.js\": [\n\t\t129,\n\t\t27\n\t],\n\t\"./input\": [\n\t\t130,\n\t\t21\n\t],\n\t\"./input.js\": [\n\t\t130,\n\t\t21\n\t],\n\t\"./mode\": [\n\t\t131,\n\t\t17\n\t],\n\t\"./mode.js\": [\n\t\t131,\n\t\t17\n\t],\n\t\"./onLevel\": [\n\t\t132,\n\t\t0,\n\t\t18\n\t],\n\t\"./onLevel.js\": [\n\t\t132,\n\t\t0,\n\t\t18\n\t],\n\t\"./playbackState\": [\n\t\t133,\n\t\t22\n\t],\n\t\"./playbackState.js\": [\n\t\t133,\n\t\t22\n\t],\n\t\"./power\": [\n\t\t134,\n\t\t28\n\t],\n\t\"./power.js\": [\n\t\t134,\n\t\t28\n\t],\n\t\"./powerLevel\": [\n\t\t135,\n\t\t0,\n\t\t13\n\t],\n\t\"./powerLevel.js\": [\n\t\t135,\n\t\t0,\n\t\t13\n\t],\n\t\"./powerState\": [\n\t\t136,\n\t\t23\n\t],\n\t\"./powerState.js\": [\n\t\t136,\n\t\t23\n\t],\n\t\"./pressState\": [\n\t\t137,\n\t\t24\n\t],\n\t\"./pressState.js\": [\n\t\t137,\n\t\t24\n\t],\n\t\"./targetSetpoint\": [\n\t\t138,\n\t\t0,\n\t\t14\n\t],\n\t\"./targetSetpoint.js\": [\n\t\t138,\n\t\t0,\n\t\t14\n\t],\n\t\"./temperature\": [\n\t\t139,\n\t\t0,\n\t\t15\n\t],\n\t\"./temperature.js\": [\n\t\t139,\n\t\t0,\n\t\t15\n\t],\n\t\"./thermostatMode\": [\n\t\t140,\n\t\t25\n\t],\n\t\"./thermostatMode.js\": [\n\t\t140,\n\t\t25\n\t],\n\t\"./time\": [\n\t\t141,\n\t\t10\n\t],\n\t\"./time.js\": [\n\t\t141,\n\t\t10\n\t],\n\t\"./timeEntry\": [\n\t\t123,\n\t\t11\n\t],\n\t\"./timeEntry.js\": [\n\t\t123,\n\t\t11\n\t],\n\t\"./volume\": [\n\t\t142,\n\t\t0,\n\t\t16\n\t],\n\t\"./volume.js\": [\n\t\t142,\n\t\t0,\n\t\t16\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 441;\nmodule.exports = webpackAsyncContext;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n})), 'Schedule');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z\"\n}), 'Event');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z\"\n}), 'UnfoldMore');\n\nexports.default = _default;"],"sourceRoot":""}