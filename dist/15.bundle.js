(window.webpackJsonp=window.webpackJsonp||[]).push([[15,18,36,45,50,64,65],{240:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(3),s=n(40),c=n.n(s),u=n(541),p=n.n(u);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=h(t).call(this,e),n=!o||"object"!==d(o)&&"function"!=typeof o?g(r):o,b(g(g(n)),"handleDrag",function(e,t){console.log("handledrag",e.target,t,n.state.drag),n.setState({prechange:!1})}),b(g(g(n)),"handlePostPreChange",function(e){n.props.preChange(e),n.state.sendPrechange&&(n.props.change(n.state.value),n.setState({sendPrechange:!1}))}),b(g(g(n)),"handlePreChange",function(e,t){console.log("handleprechange",t,n.state.drag),n.setState({value:t,delaySet:!0,prechange:!0},function(){return n.handlePostPreChange(e)})}),b(g(g(n)),"handleChange",function(e,t){console.log("handlechange",t,n.state.drag),n.setState({drag:!1}),n.state.prechange?n.props.change(n.state.value):(n.setState({sendPrechange:!0}),console.log("change called before prechange"))}),b(g(g(n)),"delaySliderUpdates",function(){console.log("dsu"),n.setState({delaySet:!0},function(){return setTimeout(function(){return endSliderDelay()},1e3)})}),b(g(g(n)),"endSliderDelay",function(){n.setState({delaySet:!1})}),n.state={value:0,delaySet:!1,drag:!1,prechange:!1,sendPrechange:!1},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){e.deviceProperties;var n={};return t.delaySet||e.hasOwnProperty("value")&&(n.value=e.value),n}}],(r=[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.disabled,e.name),r=e.unit,a=e.padLeft,i=e.half,l=e.minWidth;return o.a.createElement("div",{style:{minWidth:l},className:a?t.stack+" "+t.padLeft:i?t.half:t.stack},n?o.a.createElement(c.a,{variant:"subtitle1",className:t.stackLabel},this.props.name):null,r?o.a.createElement(c.a,{variant:"caption",className:t.stackLabel},Math.floor(this.state.value)+this.props.unit):null,o.a.createElement(p.a,{classes:{container:t.slider},value:this.state.value,step:this.props.step,min:this.props.min,max:this.props.max,onChange:this.handlePreChange,onDragEnd:this.handleChange,onDragStart:this.handleDrag,disabled:this.props.disabled}))}}])&&f(n.prototype,r),a&&f(n,a),t}();y.defaultProps={name:"",unit:"",min:0,max:100,step:1,default:0,value:0,tabs:"",disabled:!1,padLeft:!1,half:!1,minWidth:140},y.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){return{half:{alignItems:"center",display:"flex",height:42,flexGrow:1,flexBasis:0,boxSizing:"border-box"},stack:{height:42,display:"flex",flexGrow:1,justifyContent:"space-between",flexWrap:"wrap",width:"100%",boxSizing:"border-box",marginRight:8,overflowX:"hidden"},padLeft:{paddingLeft:16},xstackLabel:{alignSelf:"flex-end"}}})(y)},246:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(41),i=n.n(a),l=n(1),s=n.n(l),c=n(3),u=n(20),p=n.n(u),d=n(6),f=n.n(d),h=n(7),m=n.n(h),g=n(31),b=n.n(g);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=function(e){function t(){var e,n,r,o,a,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=this,o=(e=w(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==y(o)&&"function"!=typeof o?C(r):o,a=C(C(n)),l=function(e){e.target.checked?(n.setState({powerState:"ON",target:n.props.name}),n.props.sendAlexaCommand(n.props.name,n.props.endpointId,"PowerController","TurnOn")):(n.setState({powerState:"OFF",target:n.props.name}),n.props.sendAlexaCommand(n.props.name,n.props.endpointId,"PowerController","TurnOff"))},(i="handlePowerChange")in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this;this.props.classes;return o.a.createElement(p.a,null,o.a.createElement(f.a,null,o.a.createElement(m.a,{primary:"Power",onClick:function(){return e.handleClickOpen()}}),o.a.createElement(b.a,null,o.a.createElement(i.a,{color:"primary",checked:this.props.powerState,onChange:this.handlePowerChange}))))}}])&&v(n.prototype,r),a&&v(n,a),t}();O.propTypes={classes:s.a.object.isRequired},t.default=Object(c.withStyles)(function(e){return{root:{width:"100%",display:"flex",flexWrap:"wrap"},expansionList:{paddingLeft:4,paddingRight:4},halves:{width:"40%"},halfSlider:{width:"40%",paddingLeft:16,paddingRight:16,display:"flex",flex:1},chip:{background:"silver",color:"black",margin:e.spacing.unit},hotchip:{background:"orangeRed",color:"white",margin:e.spacing.unit},stackedLightControl:{paddingLeft:16,paddingRight:16,flex:1},buttonsAndSlider:{paddingTop:0,paddingRight:28,paddingLeft:10},nameAndSwitch:{display:"flex",paddingRight:0,paddingLeft:10,alignItems:"center"},deviceName:{flex:1},listItemLabel:{paddingBottom:0},paperLight:{display:"flex",alignItems:"center",paddingLeft:16},chipLine:{paddingTop:0,paddingLeft:8,paddingRight:8}}})(O)},247:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(3),s=n(6),c=n.n(s),u=n(240);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=f(t).call(this,e),n=!o||"object"!==p(o)&&"function"!=typeof o?m(r):o,g(m(m(n)),"handlePreBrightnessChange",function(e,t){n.setState({brightness:e,target:n.props.name})}),g(m(m(n)),"handleBrightnessChange",function(e){n.props.sendAlexaCommand(n.props.name,n.props.endpointId,"BrightnessController","SetBrightness",{brightness:e})}),n.state={brightness:"no"},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e,r={};return n.hasOwnProperty("brightness")&&(r.brightness=n.brightness),r}}],(r=[{key:"render",value:function(){this.props.classes;return o.a.createElement(c.a,null,o.a.createElement(u.default,{name:"Brightness",value:this.state.brightness,unit:"%",min:0,max:100,step:10,preChange:this.handlePreBrightnessChange,change:this.handleBrightnessChange,disabled:!this.props.powerState}))}}])&&d(n.prototype,r),a&&d(n,a),t}();b.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){return{root:{width:"100%",display:"flex",flexWrap:"wrap"}}})(b)},248:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(3),s=n(6),c=n.n(s),u=n(240),p=n(94),d=n.n(p);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=m(t).call(this,e),n=!o||"object"!==f(o)&&"function"!=typeof o?b(r):o,y(b(b(n)),"handlePreColorTemperatureChange",function(e){n.setState({colorTemperatureInKelvin:e})}),y(b(b(n)),"handleColorTemperatureChange",function(e){n.props.sendAlexaCommand(n.props.name,n.props.endpointId,"ColorTemperatureController","SetColorTemperature",{colorTemperatureInKelvin:e})}),n.state={colorTemperatureInKelvin:4e3},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,o.a.Component),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.colorTemperatureInKelvin!==t.colorTemperatureInKelvin&&(n.colorTemperatureInKelvin=e.colorTemperatureInKelvin),n}}],(r=[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,null,o.a.createElement(u.default,{name:"White Color Temperature",unit:"°",value:this.state.colorTemperatureInKelvin,min:2e3,max:7e3,step:100,preChange:this.handlePreColorTemperatureChange,change:this.handleColorTemperatureChange,disabled:!this.props.powerState})),o.a.createElement(c.a,null,o.a.createElement(d.a,{key:"warm",label:"warm",className:2200==this.props.colorTemperatureInKelvin?t.hotchip:t.chip,onClick:function(){return e.handleColorTemperatureChange(2200)}}),o.a.createElement(d.a,{key:"soft",label:"soft",className:2700==this.props.colorTemperatureInKelvin?t.hotchip:t.chip,onClick:function(){return e.handleColorTemperatureChange(2700)}}),o.a.createElement(d.a,{key:"white",label:"white",className:4e3==this.props.colorTemperatureInKelvin?t.hotchip:t.chip,onClick:function(){return e.handleColorTemperatureChange(4e3)}}),o.a.createElement(d.a,{key:"day",label:"day",className:5500==this.props.colorTemperatureInKelvin?t.hotchip:t.chip,onClick:function(){return e.handleColorTemperatureChange(5500)}}),o.a.createElement(d.a,{key:"cool",label:"cool",className:7e3==this.props.colorTemperatureInKelvin?t.hotchip:t.chip,onClick:function(){return e.handleColorTemperatureChange(7e3)}})))}}])&&h(n.prototype,r),a&&h(n,a),t}();v.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){return{chip:{background:"silver",color:"black",margin:e.spacing.unit},hotchip:{background:"orangeRed",color:"white",margin:e.spacing.unit},listItemLabel:{paddingBottom:0},chipLine:{paddingTop:0,paddingLeft:8,paddingRight:8}}})(v)},249:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(3),s=n(20),c=n.n(s),u=n(6),p=n.n(u),d=n(7),f=n.n(d),h=n(94),m=n.n(h),g=n(558);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=v(t).call(this,e),n=!o||"object"!==b(o)&&"function"!=typeof o?S(r):o,C(S(S(n)),"handleColorSliderChange",function(e,r){n.delaySliderUpdates(),n.setState({color:e.hsl}),n.props.sendAlexaCommand(n.props.name,n.props.endpointId,"ColorController","SetColor",{color:t.sl2sb(e.hsl)})}),C(S(S(n)),"handleColorChange",function(e){n.delaySliderUpdates(),console.log("colorchange",e),n.setState({color:t.sb2sl(e)}),n.props.sendAlexaCommand(n.props.name,n.props.endpointId,"ColorController","SetColor",{color:e})}),C(S(S(n)),"delaySliderUpdates",function(){console.log("dsu"),n.setState({delaySet:!0},function(){return setTimeout(function(){return n.endSliderDelay()},3e4)})}),C(S(S(n)),"endSliderDelay",function(){n.setState({delaySet:!1})}),n.state={delaySet:!1,prevcolor:{},color:{hue:43.5,saturation:.27,brightness:1}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,o.a.Component),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,n){var r=e,o={};return r.hasOwnProperty("color")&&(console.log("gdspcolor",t.sb2sl(r.color),"compare",n.prevcolor),n.delaySet||(o.color=t.sb2sl(r.color))),o}},{key:"sl2sb",value:function(e){e.h;var t=e.s,n=e.l,r={hue:e.h,saturation:0,brightness:0},o=t*(n<.5?n:1-n);return r.brightness=n+o,r.saturation=n>0?2*o/r.brightness:r.saturation,r}},{key:"sb2sl",value:function(e){e.hue;var t=e.saturation,n=e.brightness,r={h:e.hue,s:0,l:0};return r.l=(2-t)*n/2,r.s=r.l&&r.l<1?t*n/(r.l<.5?2*r.l:2-2*r.l):r.s,r}}],(r=[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(c.a,null,o.a.createElement(p.a,{className:t.listItemLabel},o.a.createElement(f.a,{primary:"Color"})),o.a.createElement(p.a,null,o.a.createElement(g.HuePicker,{className:t.wide,color:this.state.color,onChangeComplete:this.handleColorSliderChange})),o.a.createElement(p.a,{className:t.chipLine},o.a.createElement(m.a,{key:"reveal",label:"reveal",className:t.chip,onClick:function(){return e.handleColorChange({hue:43.5,saturation:.27,brightness:1})}})))}}])&&y(n.prototype,r),a&&y(n,a),t}();O.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){return{root:{width:"100%",display:"flex",flexWrap:"wrap"},expansionList:{paddingLeft:4,paddingRight:4},halves:{width:"40%"},halfSlider:{width:"40%",paddingLeft:16,paddingRight:16,display:"flex",flex:1},chip:{background:"silver",color:"black",margin:e.spacing.unit},hotchip:{background:"orangeRed",color:"white",margin:e.spacing.unit},stackedLightControl:{paddingLeft:16,paddingRight:16,flex:1},buttonsAndSlider:{paddingTop:0,paddingRight:28,paddingLeft:10},nameAndSwitch:{display:"flex",paddingRight:0,paddingLeft:10,alignItems:"center"},deviceName:{flex:1},listItemLabel:{paddingBottom:0},paperLight:{display:"flex",alignItems:"center",paddingLeft:16},chipLine:{paddingTop:0,paddingLeft:8,paddingRight:8},wide:{width:"100%"}}})(O)},251:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),l=n(3),s=n(9),c=n.n(s),u=n(32),p=n.n(u),d=n(28),f=n.n(d),h=n(20),m=n.n(h),g=n(246),b=n(247),y=n(248),v=n(249),w=n(38);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=O(t).call(this,e),n=!o||"object"!==S(o)&&"function"!=typeof o?P(r):o,k(P(P(n)),"deviceByName",function(e){for(var t=0;t<n.props.devices.length;t++)if(n.props.devices[t].friendlyName==e)return n.props.devices[t]}),k(P(P(n)),"sendGroupAlexaCommand",function(e,t,r,o,a){console.log("cm",r,n.props.controllermap);for(var i=0;i<n.props.controllermap[r].length;i++){var l=n.deviceByName(n.props.controllermap[r][i]);n.props.sendAlexaCommand(l.friendlyName,l.endpointId,r,o,a)}}),k(P(P(n)),"handleClickOpen",function(){n.setState({open:!0})}),k(P(P(n)),"handleClose",function(){n.setState({open:!1})}),n.state={brightness:50},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.open,r=e.name,a=e.color,i=e.brightness,l=e.colorTemperatureInKelvin,s=e.powerState;return o.a.createElement(w.default,{name:r,open:n,close:this.props.close,fullWidth:!0},o.a.createElement(p.a,{className:t.dialogContent},o.a.createElement(m.a,{className:t.list},o.a.createElement(g.default,{sendAlexaCommand:this.sendGroupAlexaCommand,name:r,endpointId:r,powerState:s}),o.a.createElement(b.default,{sendAlexaCommand:this.sendGroupAlexaCommand,name:r,endpointId:r,powerState:s,brightness:i}),o.a.createElement(y.default,{sendAlexaCommand:this.sendGroupAlexaCommand,name:r,endpointId:r,powerState:s,colorTemperatureInKelvin:l}),o.a.createElement(v.default,{sendAlexaCommand:this.sendGroupAlexaCommand,name:r,endpointId:r,color:a}))),o.a.createElement(f.a,null,o.a.createElement(c.a,{onClick:this.props.close,color:"primary",autoFocus:!0},"OK")))}}])&&C(n.prototype,r),a&&C(n,a),t}();T.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){return{root:{width:"100%",display:"flex",flexWrap:"wrap"}}})(T)},253:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(41),i=n.n(a),l=n(1),s=n.n(l),c=n(3),u=n(240),p=n(12),d=n.n(p),f=n(52),h=n.n(f),m=n(543),g=n.n(m),b=(n(558),n(251));function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=w(t).call(this,e),n=!o||"object"!==y(o)&&"function"!=typeof o?C(r):o,O(C(C(n)),"handlePowerChange",function(e){n.setState({powerState:e.target.checked});for(var t=0;t<n.props.devices.length;t++)e.target.checked?n.props.sendAlexaCommand(n.props.devices[t].friendlyNamee,n.props.devices[t].endpointId,"PowerController","TurnOn"):n.props.sendAlexaCommand(n.props.devices[t].friendlyNamee,n.props.devices[t].endpointId,"PowerController","TurnOff")}),O(C(C(n)),"handlePreBrightnessChange",function(e){n.setState({brightness:e,target:n.props.friendlyName})}),O(C(C(n)),"handleBrightnessChange",function(e){for(var t=0;t<n.props.devices.length;t++)n.props.deviceProperties[n.props.devices[t].friendlyName].hasOwnProperty("brightness")&&n.props.sendAlexaCommand(n.props.devices[t].friendlyNamee,n.props.devices[t].endpointId,"BrightnessController","SetBrightness",{brightness:e})}),O(C(C(n)),"handleClickOpen",function(){n.setState({open:!0})}),O(C(C(n)),"handleClose",function(){n.setState({open:!1})}),n.state={brightness:50,powerState:!1,colorTemperatureInKelvin:4e3,color:{hue:200,saturation:1,brightness:1},target:null,open:!1,endpointId:"",lastmessage:"",controllermap:[],areaState:{}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e={ColorController:[],ColorTemperatureController:[],BrightnessController:[],PowerController:[]};for(var t in this.props.devices)if(this.props.devices[t].hasOwnProperty("displayCategories"))switch(this.props.devices[t].displayCategories[0]){case"LIGHT":for(var n=0;n<this.props.devices[t].capabilities.length;n++)e.hasOwnProperty(this.props.devices[t].capabilities[n].interface.split(".")[1])&&e[this.props.devices[t].capabilities[n].interface.split(".")[1]].push(this.props.devices[t].friendlyName)}this.setState({controllermap:e})}},{key:"avgState",value:function(e){if("on"==e){for(var t in this.props.deviceProperties)if(this.props.deviceProperties[t].hasOwnProperty("powerState")&&"ON"==this.props.deviceProperties[t].powerState)return!0;return!1}if("brightness"==e){var n=0,r=0;for(var t in this.props.deviceProperties)this.props.deviceProperties[t].hasOwnProperty("brightness")&&(n+=1,"ON"==this.props.deviceProperties[t].powerState&&(r+=this.props.deviceProperties[t].brightness));return 0==n?0:r/n}if("temperature"==e){var o=0,a=0;for(var t in this.props.deviceProperties)this.props.deviceProperties[t].hasOwnProperty("colorTemperatureInKelvin")&&(o+=1,"ON"==this.props.deviceProperties[t].powerState&&(a+=this.props.deviceProperties[t].colorTemperatureInKelvin));return 0==o?0:a/o}return 0}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(h.a,{className:t.sliderPaper,elevation:0},o.a.createElement(d.a,{className:this.avgState("on")?t.litAvatar:t.avatar,onClick:function(){return e.handleClickOpen()}},o.a.createElement(g.a,null)),o.a.createElement(u.default,{name:this.props.name+" Lights",min:0,max:100,step:1,value:this.avgState("brightness"),preChange:this.handlePreBrightnessChange,change:this.handleBrightnessChange,disabled:!(this.avgState("on")||"no"==this.brightness),padLeft:!0}),o.a.createElement(i.a,{color:"primary",checked:this.avgState("on"),onChange:this.handlePowerChange}),o.a.createElement(b.default,{powerState:this.avgState("on"),brightness:this.avgState("brightness"),open:this.state.open,close:this.handleClose,color:this.avgState("color"),colorTemperatureInKelvin:this.avgState("colorTemperatureInKelvin"),controllermap:this.state.controllermap,devices:this.props.devices,sendAlexaCommand:this.props.sendAlexaCommand}))}}])&&v(n.prototype,r),a&&v(n,a),t}();x.propTypes={classes:s.a.object.isRequired},t.default=Object(c.withStyles)(function(e){return{root:{width:"100%",display:"flex",flexWrap:"wrap"},expansionList:{paddingLeft:4,paddingRight:4},halves:{width:"40%"},halfSlider:{width:"40%",paddingLeft:16,paddingRight:16,display:"flex",flex:1},chip:{background:"silver",color:"black",margin:e.spacing.unit},hotchip:{background:"orangeRed",color:"white",margin:e.spacing.unit},stackedLightControl:{width:"100%",paddingLeft:16,paddingRight:16},nameAndSwitch:{display:"flex",paddingRight:0,paddingLeft:10,alignItems:"center"},deviceName:{flex:1},listItemLabel:{paddingBottom:0},grouplight:{width:"100%",display:"flex",flexGrow:1,maxWidth:480,minWidth:320},litAvatar:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},stack:{height:44,display:"flex",flexDirection:"column",flexGrow:1,paddingLeft:16,paddingRight:16,justifyContent:"center"},sliderPaper:{display:"flex",flexDirection:"row",padding:"16 8 16 16",alignItems:"center",minWidth:320,backgroundColor:e.palette.primary[50]},stackSlider:{marginTop:4,marginLeft:4,marginRight:6}}})(x)},540:function(e,t,n){"use strict";(function(e){var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=r(n(4)),a=r(n(5)),i=r(n(11)),l=r(n(14)),s=r(n(15)),c=r(n(16)),u=r(n(17)),p=r(n(18)),d=r(n(0)),f=r(n(35)),h=(r(n(1)),r(n(69))),m=r(n(8)),g=r(n(10)),b=r(n(66)),y=n(70),v=r(n(241)),w=function(e){var t={duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut},n=e.transitions.create(["width","height","transform"],t),r=e.transitions.create(["transform","box-shadow"],t),o={primary:e.palette.primary.main,disabled:e.palette.grey[400],thumbOutline:(0,y.fade)(e.palette.primary.main,.16)};return{root:{position:"relative",width:"100%",cursor:"pointer",WebkitTapHighlightColor:"transparent","&$disabled":{cursor:"no-drop"},"&$vertical":{height:"100%"}},container:{position:"relative","&$vertical":{height:"100%"}},track:{position:"absolute",transform:"translate(0, -50%)",top:"50%",width:"100%",height:2,backgroundColor:o.primary,transition:n,"&$activated":{transition:"none",willChange:"transform"},"&$disabled":{backgroundColor:o.disabled,boxShadow:"none"},"&$vertical":{transform:"translate(-50%, 0)",left:"50%",top:"initial",bottom:0,width:2,height:"100%"}},trackBefore:{zIndex:1,left:0,transformOrigin:"left bottom"},trackAfter:{right:0,opacity:.24,transformOrigin:"right top","&$vertical":{top:0}},thumbWrapper:{position:"relative",zIndex:2,transition:r,"&$activated":{transition:"none",willChange:"transform"},"&$vertical":{bottom:0,height:"100%"}},thumb:{flip:!1,position:"absolute",left:0,transform:"translate(-50%, -50%)",width:12,height:12,borderRadius:"50%",backgroundColor:o.primary,transition:r,"&$focused, &:hover":{boxShadow:"0px 0px 0px ".concat(9,"px ").concat(o.thumbOutline)},"&$activated":{boxShadow:"0px 0px 0px ".concat(18,"px ").concat(o.thumbOutline)},"&$disabled":{cursor:"no-drop",width:9,height:9,backgroundColor:o.disabled},"&$jumped":{boxShadow:"0px 0px 0px ".concat(18,"px ").concat(o.thumbOutline)}},thumbIconWrapper:{backgroundColor:"transparent"},thumbIcon:{height:"inherit",width:"inherit"},disabled:{},jumped:{},focused:{},activated:{},vertical:{}}};function S(e,t,n){return(n-t)*e/100+t}function C(t,n,r,o){var a=t.getBoundingClientRect(),i=a.width,l=a.height,s=function(t){var n=e,r=n.pageYOffset,o=n.pageXOffset,a=t.getBoundingClientRect(),i=a.left;return{bottom:a.bottom+r,left:i+o}}(t),c=s.bottom,u=s.left,p=function(e){return e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}(n),d=p.x,f=p.y,h=r?c-f:d-u,m=(r?l:i)/100;return o&&!r?100-(0,v.default)(h/m):(0,v.default)(h/m)}function O(e){e.preventDefault()}t.styles=w;var x=function(e){function t(){var e,n;(0,l.default)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(o)))).state={currentState:"initial"},n.jumpAnimationTimeoutId=-1,n.handleKeyDown=function(e){var t,r=n.props,o=r.min,a=r.max,i=r.value,l=Math.abs((a-o)/100),s=n.props.step||l;switch((0,h.default)(e)){case"home":t=o;break;case"end":t=a;break;case"page up":t=i+10*l;break;case"page down":t=i-10*l;break;case"right":case"up":t=i+s;break;case"left":case"down":t=i-s;break;default:return}e.preventDefault(),t=(0,v.default)(t,o,a),n.emitChange(e,t)},n.handleFocus=function(){n.setState({currentState:"focused"})},n.handleBlur=function(){n.setState({currentState:"normal"})},n.handleClick=function(e){var t=n.props,r=t.min,o=t.max,a=t.vertical,i=S(C(n.containerRef,e,a,n.isReverted()),r,o);n.emitChange(e,i,function(){n.playJumpAnimation()})},n.handleTouchStart=function(e){e.preventDefault(),n.setState({currentState:"activated"}),document.body.addEventListener("touchend",n.handleMouseUp),"function"==typeof n.props.onDragStart&&n.props.onDragStart(e)},n.handleMouseDown=function(e){e.preventDefault(),n.setState({currentState:"activated"}),document.body.addEventListener("mousemove",n.handleMouseMove),document.body.addEventListener("mouseup",n.handleMouseUp),"function"==typeof n.props.onDragStart&&n.props.onDragStart(e)},n.handleMouseUp=function(e){n.setState({currentState:"normal"}),document.body.removeEventListener("mousemove",n.handleMouseMove),document.body.removeEventListener("mouseup",n.handleMouseUp),document.body.removeEventListener("touchend",n.handleMouseUp),"function"==typeof n.props.onDragEnd&&n.props.onDragEnd(e)},n.handleMouseMove=function(e){var t=n.props,r=t.min,o=t.max,a=t.vertical,i=S(C(n.containerRef,e,a,n.isReverted()),r,o);n.emitChange(e,i)},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.containerRef&&this.containerRef.addEventListener("touchstart",O,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.containerRef&&this.containerRef.removeEventListener("touchstart",O,{passive:!1}),document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),clearTimeout(this.jumpAnimationTimeoutId)}},{key:"emitChange",value:function(e,t,n){var r=this.props,o=r.step,a=r.value,i=r.onChange,l=t;r.disabled||(l=o?function(e,t){return Math.round(e/t)*t}(t,o):Number(t.toFixed(3)),"function"==typeof i&&l!==a&&(i(e,l),"function"==typeof n&&n()))}},{key:"calculateTrackPartStyles",value:function(e){var t=this.props,n=t.theme,r=t.vertical;switch(this.state.currentState){case"disabled":return(0,i.default)({},r?"height":"width","calc(".concat(e,"% - 6px)"));default:return{transform:"".concat(r?"translateX(".concat("rtl"===n.direction?"":"-","50%) scaleY"):"translateY(-50%) scaleX","(").concat(e/100,")")}}}},{key:"playJumpAnimation",value:function(){var e=this;this.setState({currentState:"jumped"},function(){clearTimeout(e.jumpAnimationTimeoutId),e.jumpAnimationTimeoutId=setTimeout(function(){e.setState({currentState:"normal"})},e.props.theme.transitions.duration.complex)})}},{key:"isReverted",value:function(){return"rtl"===this.props.theme.direction}},{key:"render",value:function(){var e,t,n=this,r=this.state.currentState,l=this.props,s=l.className,c=l.classes,u=l.component,p=l.thumb,h=l.disabled,g=l.max,y=l.min,w=(l.onChange,l.onDragEnd,l.onDragStart,l.step,l.theme),S=l.value,C=l.vertical,O=(0,a.default)(l,["className","classes","component","thumb","disabled","max","min","onChange","onDragEnd","onDragStart","step","theme","value","vertical"]),x=(0,v.default)(100*(S-y)/(g-y)),P=(e={},(0,i.default)(e,c.disabled,h),(0,i.default)(e,c.jumped,!h&&"jumped"===r),(0,i.default)(e,c.focused,!h&&"focused"===r),(0,i.default)(e,c.activated,!h&&"activated"===r),(0,i.default)(e,c.vertical,C),(0,i.default)(e,c.rtl,"rtl"===w.direction),e),k=(0,m.default)(c.root,(t={},(0,i.default)(t,c.vertical,C),(0,i.default)(t,c.disabled,h),t),s),T=(0,m.default)(c.container,(0,i.default)({},c.vertical,C)),E=(0,m.default)(c.track,c.trackBefore,P),j=(0,m.default)(c.track,c.trackAfter,P),_=C?"translateY":"translateX",L=C||"rtl"===w.direction,I=this.calculateTrackPartStyles(x),R=this.calculateTrackPartStyles(100-x),N={transform:"".concat(_,"(").concat(L?100-x:x,"%)")},A=p?d.default.cloneElement(p,(0,o.default)({},p.props,{className:(0,m.default)(p.props.className,c.thumbIcon)})):null,D=(0,m.default)(c.thumbWrapper,P),M=(0,m.default)(c.thumb,(0,i.default)({},c.thumbIconWrapper,p),P);return d.default.createElement(u,(0,o.default)({role:"slider",className:k,"aria-valuenow":S,"aria-valuemin":y,"aria-valuemax":g,"aria-orientation":C?"vertical":"horizontal",onClick:this.handleClick,onMouseDown:this.handleMouseDown,onTouchStartCapture:this.handleTouchStart,onTouchMove:this.handleMouseMove,ref:function(e){n.containerRef=f.default.findDOMNode(e)}},O),d.default.createElement("div",{className:T},d.default.createElement("div",{className:E,style:I}),d.default.createElement("div",{className:D,style:N},d.default.createElement(b.default,{className:M,disableRipple:!0,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onTouchStartCapture:this.handleTouchStart,onTouchMove:this.handleMouseMove,onFocusVisible:this.handleFocus},A)),d.default.createElement("div",{className:j,style:R})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled?{currentState:"disabled"}:e.disabled||"disabled"!==t.currentState?null:{currentState:"normal"}}}]),t}(d.default.Component);x.propTypes={},x.defaultProps={min:0,max:100,component:"div"};var P=(0,g.default)(w,{name:"MuiSlider",withTheme:!0})(x);t.default=P}).call(this,n(93))},541:function(e,t,n){"use strict";var r=n(2);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=r(n(540))},543:function(e,t,n){"use strict";var r=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(0)),a=(0,r(n(22)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Place");t.default=a}}]);