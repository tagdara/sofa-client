{"version":3,"sources":["GridSection.js","devices/Zone.js","ZoneLayout.js","../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js","../node_modules/@material-ui/icons/Clear.js","../node_modules/@material-ui/icons/Done.js"],"names":["useStyles","makeStyles","theme","base","margin","overflowX","alignContent","padding","borderRadius","gridColumn","overflowY","scrollColumn","height","nopad","background","backgroundColor","palette","page","GridSection","props","isMobile","useContext","LayoutContext","classes","useState","show","setShow","container","item","spacing","key","name","xs","className","classNames","scroll","primary","onClick","break","secondary","children","defaultProps","Zone","getSensorController","device","hasOwnProperty","ContactSensor","MotionSensor","history","endpointId","avatarState","detectionState","value","changeTime","format","ZoneLayout","applyLayoutCard","applyBackPage","getChangeTimesForDevices","DeviceContext","allzones","deviceStatesByController","DataContext","changeTimes","setChangeTimes","historyZone","useEffect","then","result","Fragment","secZones","i","length","description","includes","push","getSecurityZones","map","friendlyName","time","autoZones","getAutomationZones","ListItemSecondaryAction","React","forwardRef","ref","other","_objectWithoutProperties","createElement","_extends","clsx","root","muiName","withStyles","position","right","top","transform","_interopRequireDefault","require","Object","defineProperty","exports","default","_react","_default","d"],"mappings":"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","file":"static/js/78.1c333239.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { LayoutContext } from './layout/NewLayoutProvider';\nimport classNames from 'classnames';\n\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nconst useStyles = makeStyles(theme => {\n    return {\n        base: {\n            margin: 1,\n            overflowX: \"hidden\",\n            alignContent: \"start\",\n            padding: \"3px !important\",\n            borderRadius: \"4px 4px 4px 4px\",\n        },\n        gridColumn: {\n            overflowY: \"hidden\",\n        },\n        scrollColumn: {\n            overflowY: \"auto\",\n            height: \"100%\",\n        },\n        nopad: {\n            padding: 0,\n        },\n        background: {\n            backgroundColor: theme.palette.background.page,\n        }\n    }\n});\n\n\nexport default function GridSection(props) {\n    \n    const { isMobile } = useContext(LayoutContext);\n    const classes = useStyles();\n    const [show, setShow] = useState(props.show);\n\n    return (\n        <Grid container item spacing={1} key={props.name} xs={props.xs} \n            className={ classNames(classes.base, props.scroll ? classes.scrollColumn : classes.gridColumn, props.background ? classes.background : null)} \n        >\n\n            {props.name &&\n                <Grid item xs={12} className={classes.nopad}>\n                <List className={classes.nopad} >\n                    <ListItem>\n                        <ListItemText primary={props.name} onClick={ () => setShow(!show) } />\n                        { (!isMobile || !props.break) &&\n                            <ListItemSecondaryAction>\n                                {props.secondary}\n                            </ListItemSecondaryAction>\n                        }\n                    </ListItem>\n                    { (isMobile && props.break) &&\n                        <ListItem>\n                            <ListItemSecondaryAction>\n                                {props.secondary}\n                            </ListItemSecondaryAction>\n                        </ListItem>\n                    }\n                </List>\n                </Grid>\n            }\n            { show && props.children}\n        </Grid>\n    );\n}\n\nGridSection.defaultProps = {\n    break: false,\n    show: true,\n    scroll: false,\n    xs: 12,\n    background: true,\n}\n \n\n","import React from 'react';\nimport Moment from 'react-moment';\nimport 'moment-timezone';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ToggleAvatar from '../ToggleAvatar';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport GridItem from '../GridItem';\n\nexport default function Zone(props) {    \n\n    function getSensorController() {\n        if (props.device.hasOwnProperty('ContactSensor')) {\n            return props.device.ContactSensor\n        } else if (props.device.hasOwnProperty('MotionSensor')) {\n            return props.device.MotionSensor\n        }\n        return null\n    }\n\n    return (\n        <GridItem >\n            <ListItem onClick={() => props.history(props.name, props.endpointId)}>\n                <ToggleAvatar avatarState={ getSensorController().detectionState.value==='NOT_DETECTED' ? 'closed' : 'open' } > \n                    { getSensorController().detectionState.value==='NOT_DETECTED' ? <DoneIcon /> : <ClearIcon /> }\n                </ToggleAvatar>\n                <ListItemText primary={props.name} secondary={props.changeTime==='Unknown' ? 'Unknown':<Moment format=\"ddd MMM D h:mm:sa\">{props.changeTime}</Moment>} />\n            </ListItem>\n        </GridItem>\n    );\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport { LayoutContext } from './layout/NewLayoutProvider';\nimport { DataContext } from './DataContext/DataProvider';\nimport { DeviceContext } from './DataContext/DeviceProvider';\n\nimport Zone from './devices/Zone';\nimport GridSection from './GridSection';\n\nexport default function ZoneLayout(props) {\n\n    const { applyLayoutCard, applyBackPage } = useContext(LayoutContext);\n    const { getChangeTimesForDevices } = useContext(DeviceContext)\n    const { deviceStatesByController } = useContext(DataContext)\n    const allzones = deviceStatesByController(['ContactSensor','MotionSensor'])\n    const [changeTimes, setChangeTimes] = useState({})\n\n    useEffect(() => {\n        getChangeTimesForDevices('detectionState',allzones).then(result => setChangeTimes(result))\n    // eslint-disable-next-line \n    }, []);\n    \n    function getSecurityZones() {\n        var secZones=[]\n        for (var i = 0; i < allzones.length; i++) {\n            if (!allzones[i].description.includes('(Automation)')) {\n                secZones.push(allzones[i])\n            } \n        }\n        return secZones\n    }\n    \n    function getAutomationZones() {\n        var autoZones=[]\n        for (var i = 0; i < allzones.length; i++) { \n            if (allzones[i].description.includes('(Automation)')) {\n                autoZones.push(allzones[i])\n            } \n        }\n        return autoZones\n    }\n\n    function historyZone(name, endpointId) {\n        applyBackPage('ZoneLayout', {} )\n        applyLayoutCard('HistoryLayout', {\"name\": name, \"endpointId\": endpointId, \"property\":\"detectionState\"})\n    }\n\n    return (    \n        <React.Fragment>\n            <GridSection name={\"Security Zones\"} >\n                { getSecurityZones().map(device =>\n                    <Zone history={historyZone} key={ device.endpointId } endpointId={ device.endpointId } name={ device.friendlyName } device={ device } changeTime={(changeTimes && (device.endpointId in changeTimes)) ? changeTimes[device.endpointId].time : \"Unknown\"}  />\n                )}\n            </GridSection>\n            <GridSection name={\"Automation Zones\"} >\n                { getAutomationZones().map(device =>\n                    <Zone history={historyZone} key={ device.endpointId } endpointId={ device.endpointId } name={ device.friendlyName } device={ device } changeTime={(changeTimes && (device.endpointId in changeTimes)) ? changeTimes[device.endpointId].time : \"Unknown\"}  />\n                )}\n            </GridSection>\n        </React.Fragment>\n    )\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    position: 'absolute',\n    right: 16,\n    top: '50%',\n    transform: 'translateY(-50%)'\n  }\n};\n/**\n * Must be used as the last child of ListItem to function properly.\n */\n\nvar ListItemSecondaryAction = React.forwardRef(function ListItemSecondaryAction(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes = {\n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default withStyles(styles, {\n  name: 'MuiListItemSecondaryAction'\n})(ListItemSecondaryAction);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n}), 'Done');\n\nexports.default = _default;"],"sourceRoot":""}