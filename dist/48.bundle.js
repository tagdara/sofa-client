(window.webpackJsonp=window.webpackJsonp||[]).push([[48,53],{240:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(3),s=n(40),c=n.n(s),p=n(541),u=n.n(p);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=m(t).call(this,e),n=!r||"object"!==d(r)&&"function"!=typeof r?g(a):r,y(g(g(n)),"handleDrag",function(e,t){console.log("handledrag",e.target,t,n.state.drag),n.setState({prechange:!1})}),y(g(g(n)),"handlePostPreChange",function(e){n.props.preChange(e),n.state.sendPrechange&&(n.props.change(n.state.value),n.setState({sendPrechange:!1}))}),y(g(g(n)),"handlePreChange",function(e,t){console.log("handleprechange",t,n.state.drag),n.setState({value:t,delaySet:!0,prechange:!0},function(){return n.handlePostPreChange(e)})}),y(g(g(n)),"handleChange",function(e,t){console.log("handlechange",t,n.state.drag),n.setState({drag:!1}),n.state.prechange?n.props.change(n.state.value):(n.setState({sendPrechange:!0}),console.log("change called before prechange"))}),y(g(g(n)),"delaySliderUpdates",function(){console.log("dsu"),n.setState({delaySet:!0},function(){return setTimeout(function(){return endSliderDelay()},1e3)})}),y(g(g(n)),"endSliderDelay",function(){n.setState({delaySet:!1})}),n.state={value:0,delaySet:!1,drag:!1,prechange:!1,sendPrechange:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){e.deviceProperties;var n={};return t.delaySet||e.hasOwnProperty("value")&&(n.value=e.value),n}}],(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.disabled,e.name),a=e.unit,o=e.padLeft,i=e.half,l=e.minWidth;return r.a.createElement("div",{style:{minWidth:l},className:o?t.stack+" "+t.padLeft:i?t.half:t.stack},n?r.a.createElement(c.a,{variant:"subtitle1",className:t.stackLabel},this.props.name):null,a?r.a.createElement(c.a,{variant:"caption",className:t.stackLabel},Math.floor(this.state.value)+this.props.unit):null,r.a.createElement(u.a,{classes:{container:t.slider},value:this.state.value,step:this.props.step,min:this.props.min,max:this.props.max,onChange:this.handlePreChange,onDragEnd:this.handleChange,onDragStart:this.handleDrag,disabled:this.props.disabled}))}}])&&f(n.prototype,a),o&&f(n,o),t}();b.defaultProps={name:"",unit:"",min:0,max:100,step:1,default:0,value:0,tabs:"",disabled:!1,padLeft:!1,half:!1,minWidth:140},b.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){return{half:{alignItems:"center",display:"flex",height:42,flexGrow:1,flexBasis:0,boxSizing:"border-box"},stack:{height:42,display:"flex",flexGrow:1,justifyContent:"space-between",flexWrap:"wrap",width:"100%",boxSizing:"border-box",marginRight:8,overflowX:"hidden"},padLeft:{paddingLeft:16},xstackLabel:{alignSelf:"flex-end"}}})(b)},264:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(3),s=n(40),c=n.n(s),p=n(94),u=n.n(p),d=n(240),f=n(32),m=n.n(f),h=n(28),g=n.n(h),y=n(12),b=n.n(y),v=n(20),S=n.n(v),w=n(6),C=n.n(w),P=n(7),k=n.n(P),O=n(524),E=n.n(O),x=n(523),j=n.n(x),N=n(9),I=n.n(N),L=n(41),_=n.n(L),T=n(21),D=n.n(T),A=n(38);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=M(t).call(this,e),n=!r||"object"!==V(r)&&"function"!=typeof r?B(a):r,F(B(B(n)),"handlePowerChange",function(e){n.setState({powerState:e.target.checked,target:n.props.device.friendlyName}),e.target.checked?n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"PowerController","TurnOn"):n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"PowerController","TurnOff")}),F(B(B(n)),"handlePreVolumeChange",function(e){n.setState({volume:e,target:n.props.name})}),F(B(B(n)),"handleVolumeChange",function(e){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"SpeakerController","SetVolume",{volume:e})}),F(B(B(n)),"handleMuteChange",function(e){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"SpeakerController","SetMute",{muted:!n.state.muted})}),F(B(B(n)),"handleSurround",function(e,t){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"SurroundController","SetSurround",{surround:t})}),F(B(B(n)),"handleInput",function(e,t){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"InputController","SelectInput",{input:t})}),n.state={topInputs:["TV","Sonos"],tracked:["surround","decoder","input","volume","powerState"],endpointId:"",surround:"",decoder:"",input:"",volume:0,powerState:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,r.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.deviceProperties,a={};return n.hasOwnProperty("volume")&&(a.volume=n.volume),a}}],(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.classes;t.fullScreen;return r.a.createElement(A.default,{title:this.props.name,open:this.props.showdialog,close:this.props.closeDialog},r.a.createElement(m.a,{className:n.content},r.a.createElement(S.a,null,r.a.createElement(C.a,{className:n.powerLine},r.a.createElement(_.a,{color:"primary",checked:"ON"==this.props.deviceProperties.powerState,onChange:this.handlePowerChange}),r.a.createElement(k.a,{className:n.powerLabel,primary:"Power"})),r.a.createElement(C.a,{className:n.sliderPaper},r.a.createElement(b.a,{onClick:function(){return e.handleMuteChange()}},this.props.deviceProperties.muted?r.a.createElement(j.a,null):r.a.createElement(E.a,null)),r.a.createElement(d.default,{name:"Volume",unit:"%",min:0,max:100,defaultValue:0,step:1,value:this.state.volume,preChange:this.handlePreVolumeChange,change:this.handleVolumeChange,padLeft:!0})),r.a.createElement(C.a,{className:n.chipListItem},r.a.createElement(c.a,{variant:"subtitle1",noWrap:!0,className:n.chipLineLabel},"Input"),r.a.createElement("div",{className:n.chipLine},Object.keys(this.props.inputs).map(function(t){return e.state.topInputs.includes(e.props.inputs[t])?r.a.createElement(u.a,{key:t,label:e.props.inputs[t],className:e.props.input==e.props.inputs[t]?n.hotchip:n.chip,onClick:function(n){return e.handleInput(n,t)}}):null}))),r.a.createElement(C.a,{className:n.chipListItem},r.a.createElement(c.a,{variant:"subtitle1",noWrap:!0,className:n.chipLineLabel},"Surround Sound"),r.a.createElement("div",{className:n.chipLine},r.a.createElement(u.a,{key:"7ch Stereo",label:"7ch Stereo",className:"7ch Stereo"==this.props.deviceProperties.surround?n.hotchip:n.chip,onClick:function(t){return e.handleSurround(t,"7ch Stereo")}}),r.a.createElement(u.a,{key:"Surround Decoder",label:"Surround Decoder",className:"Surround Decoder"==this.props.deviceProperties.surround?n.hotchip:n.chip,onClick:function(t){return e.handleSurround(t,"Surround Decoder")}}))))),r.a.createElement(D.a,null),r.a.createElement(g.a,{className:n.dialogActions},r.a.createElement(I.a,{onClick:function(){return e.props.closeDialog()},color:"primary",autoFocus:!0},"OK")))}}])&&R(n.prototype,a),o&&R(n,o),t}();G.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){var t;return F(t={content:{minWidth:0,padding:0,paddingBottom:16},metadata:{flex:1,display:"flex",flexDirection:"column"},chip:{background:"silver",color:"black",marginRight:e.spacing.unit,marginTop:e.spacing.unit,marginBottom:e.spacing.unit,marginLeft:0},hotchip:{background:"orangeRed",color:"white",marginRight:e.spacing.unit,marginTop:e.spacing.unit,marginBottom:e.spacing.unit,marginLeft:0},slider:{paddingTop:0,paddingRight:28,paddingLeft:10},slidername:{display:"flex",paddingRight:0,paddingLeft:10,alignItems:"center"},chipLineLabel:{width:"100%"},chipListItem:{width:"100%",display:"block",padding:"16 24"},chipLine:{paddingTop:0,width:"100%"},tabTitle:{backgroundColor:e.palette.primary[700],padding:0,paddingTop:"env(safe-area-inset-top)",display:"flex",alignItems:"center",justifyContent:"space-around"},dialogTitle:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1,color:e.palette.primary.contrastText},dialogActions:{paddingBottom:"env(safe-area-inset-bottom)"},stack:{height:44,display:"flex",flexGrow:1,paddingLeft:16,justifyContent:"space-between",flexWrap:"wrap"},stackLabel:{alignSelf:"center"},sliderPaper:{display:"flex",flexDirection:"row",padding:"16 24",alignItems:"center"}},"dialogActions",{paddingBottom:"env(safe-area-inset-bottom)"}),F(t,"powerLine",{width:"100%",padding:"16 16 16 12"}),F(t,"powerLabel",{padding:0}),t})(G)},277:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(3),s=n(12),c=n.n(s),p=n(6),u=n.n(p),d=n(7),f=n.n(d),m=n(41),h=n.n(m),g=n(55),y=n.n(g),b=n(524),v=n.n(b),S=n(523),w=n.n(S),C=n(264),P=n(240),k=n(99);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=x(t).call(this,e),n=!r||"object"!==O(r)&&"function"!=typeof r?N(a):r,I(N(N(n)),"handlePreVolumeChange",function(e){n.setState({volume:e,target:n.props.name})}),I(N(N(n)),"handleVolumeChange",function(e){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"SpeakerController","SetVolume",{volume:e})}),I(N(N(n)),"handleMuteChange",function(e){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"SpeakerController","SetMute",{muted:!n.state.muted})}),I(N(N(n)),"handlePowerChange",function(e){n.setState({powerState:e.target.checked}),e.target.checked?n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"PowerController","TurnOn"):n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"PowerController","TurnOff")}),I(N(N(n)),"handleClickOpen",function(){n.setState({showdialog:!0})}),I(N(N(n)),"closeDialog",function(){n.setState({showdialog:!1})}),I(N(N(n)),"getYamahaInput",function(e){for(var t in n.state.inputs){if(e==t)return n.state.inputs[t];if(e==t.replace("_",""))return n.state.inputs[t]}return e}),n.state={powerState:"OFF",showdialog:!1,inputs:{},volume:50},n.closeDialog=n.closeDialog.bind(N(N(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,r.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.deviceProperties.powerState!==t.powerState&&(n.powerState=e.deviceProperties.powerState),e.deviceProperties.volume!==t.volume&&(n.volume=e.deviceProperties.volume),n}}],(a=[{key:"componentDidMount",value:function(){var e=this;fetch("/list/yamaha/inputs").then(function(e){return e.json()}).then(function(t){return e.setState({inputs:t})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.name,o=t.device,i=t.deviceProperties,l=this.state,s=l.powerState,p=l.inputs;return r.a.createElement(k.default,null,r.a.createElement(u.a,{className:n.listItem},r.a.createElement(c.a,{onClick:function(){return e.handleClickOpen()},className:"ON"==s?n.hotAvatar:n.normalAvatar},r.a.createElement(y.a,null)),r.a.createElement(f.a,{onClick:function(){return e.handleClickOpen()},primary:a,secondary:i.input?this.getYamahaInput(i.input)+" / "+i.surround:null}),r.a.createElement(h.a,{color:"primary",checked:"ON"==s,onChange:function(t){return e.handlePowerChange(t)}})),"Sonos"==this.getYamahaInput(i.input)||"ON"!=s?null:r.a.createElement(u.a,{className:n.listItem},r.a.createElement(c.a,{onClick:function(){return e.handleMuteChange()}},this.props.deviceProperties.muted?r.a.createElement(w.a,null):r.a.createElement(v.a,null)),r.a.createElement(P.default,{name:"Volume",unit:"%",min:0,max:100,defaultValue:0,step:1,value:this.state.volume,preChange:this.handlePreVolumeChange,change:this.handleVolumeChange,padLeft:!0})),r.a.createElement(C.default,{input:this.getYamahaInput(i.input),inputs:p,sendAlexaCommand:this.props.sendAlexaCommand,showdialog:this.state.showdialog,closeDialog:this.closeDialog,name:a,device:o,deviceProperties:i,sendMessage:this.props.sendMessage}))}}])&&E(n.prototype,a),o&&E(n,o),t}();L.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){return{hotAvatar:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},listItem:{width:"100%",minHeight:48,padding:0}}})(L)}}]);