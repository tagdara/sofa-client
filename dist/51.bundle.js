(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{239:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(3),s=n(40),c=n.n(s),p=n(538),u=n.n(p);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=h(t).call(this,e),n=!r||"object"!==d(r)&&"function"!=typeof r?g(a):r,y(g(g(n)),"handleDrag",function(e,t){console.log("handledrag",e.target,t,n.state.drag),n.setState({prechange:!1})}),y(g(g(n)),"handlePostPreChange",function(e){n.props.preChange(e),n.state.sendPrechange&&(n.props.change(n.state.value),n.setState({sendPrechange:!1}))}),y(g(g(n)),"handlePreChange",function(e,t){console.log("handleprechange",t,n.state.drag),n.setState({value:t,delaySet:!0,prechange:!0},function(){return n.handlePostPreChange(e)})}),y(g(g(n)),"handleChange",function(e,t){console.log("handlechange",t,n.state.drag),n.setState({drag:!1}),n.state.prechange?n.props.change(n.state.value):(n.setState({sendPrechange:!0}),console.log("change called before prechange"))}),y(g(g(n)),"delaySliderUpdates",function(){console.log("dsu"),n.setState({delaySet:!0},function(){return setTimeout(function(){return endSliderDelay()},1e3)})}),y(g(g(n)),"endSliderDelay",function(){n.setState({delaySet:!1})}),n.state={value:0,delaySet:!1,drag:!1,prechange:!1,sendPrechange:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){e.deviceProperties;var n={};return t.delaySet||e.hasOwnProperty("value")&&(n.value=e.value),n}}],(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.disabled,e.name),a=e.unit,o=e.padLeft,i=e.half;return r.a.createElement("div",{className:o?t.stack+" "+t.padLeft:i?t.half:t.stack},n?r.a.createElement(c.a,{variant:"subtitle1",className:t.stackLabel},this.props.name):null,a?r.a.createElement(c.a,{variant:"caption",className:t.stackLabel},Math.floor(this.state.value)+this.props.unit):null,r.a.createElement(u.a,{classes:{container:t.slider},value:this.state.value,step:this.props.step,min:this.props.min,max:this.props.max,onChange:this.handlePreChange,onDragEnd:this.handleChange,onDragStart:this.handleDrag,disabled:this.props.disabled}))}}])&&f(n.prototype,a),o&&f(n,o),t}();b.defaultProps={name:"",unit:"",min:0,max:100,step:1,default:0,value:0,tabs:"",disabled:!1,padLeft:!1,half:!1},b.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){return{half:{alignItems:"center",display:"flex",height:42,flexGrow:1,flexBasis:0,boxSizing:"border-box"},stack:{height:42,display:"flex",flexGrow:1,justifyContent:"space-between",flexWrap:"wrap",minWidth:240,width:"100%",boxSizing:"border-box",marginRight:8,overflowX:"hidden"},padLeft:{paddingLeft:16},xstackLabel:{alignSelf:"flex-end"}}})(b)},263:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(3),s=n(40),c=n.n(s),p=n(91),u=n.n(p),d=n(239),f=n(31),h=n.n(f),m=n(28),g=n.n(m),y=n(12),b=n.n(y),v=n(20),S=n.n(v),w=n(9),C=n.n(w),P=n(8),x=n.n(P),k=n(521),E=n.n(k),L=n(520),O=n.n(L),j=n(7),N=n.n(j),I=n(41),T=n.n(I),D=n(21),_=n.n(D),R=n(38);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=B(t).call(this,e),n=!r||"object"!==A(r)&&"function"!=typeof r?G(a):r,M(G(G(n)),"handlePowerChange",function(e){n.setState({powerState:e.target.checked,target:n.props.device.friendlyName}),e.target.checked?n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"PowerController","TurnOn"):n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"PowerController","TurnOff")}),M(G(G(n)),"handlePreVolumeChange",function(e){n.setState({volume:e,target:n.props.name})}),M(G(G(n)),"handleVolumeChange",function(e){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"SpeakerController","SetVolume",{volume:e})}),M(G(G(n)),"handleMuteChange",function(e){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"SpeakerController","SetMute",{muted:!n.state.muted})}),M(G(G(n)),"handleSurround",function(e,t){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"SurroundController","SetSurround",{surround:t})}),M(G(G(n)),"handleInput",function(e,t){n.props.sendAlexaCommand(n.props.device.friendlyName,n.props.device.endpointId,"InputController","SelectInput",{input:t})}),n.state={topInputs:["TV","Sonos"],tracked:["surround","decoder","input","volume","powerState"],endpointId:"",surround:"",decoder:"",input:"",volume:0,powerState:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,r.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.deviceProperties,a={};return n.hasOwnProperty("volume")&&(a.volume=n.volume),a}}],(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.classes;t.fullScreen;return r.a.createElement(R.default,{title:this.props.name,open:this.props.showdialog,close:this.props.closeDialog},r.a.createElement(h.a,{className:n.content},r.a.createElement(S.a,null,r.a.createElement(C.a,{className:n.powerLine},r.a.createElement(T.a,{color:"primary",checked:"ON"==this.props.deviceProperties.powerState,onChange:this.handlePowerChange}),r.a.createElement(x.a,{className:n.powerLabel,primary:"Power"})),r.a.createElement(C.a,{className:n.sliderPaper},r.a.createElement(b.a,{onClick:function(){return e.handleMuteChange()}},this.props.deviceProperties.muted?r.a.createElement(O.a,null):r.a.createElement(E.a,null)),r.a.createElement(d.default,{name:"Volume",unit:"%",min:0,max:100,defaultValue:0,step:1,value:this.state.volume,preChange:this.handlePreVolumeChange,change:this.handleVolumeChange,padLeft:!0})),r.a.createElement(C.a,{className:n.chipListItem},r.a.createElement(c.a,{variant:"subtitle1",noWrap:!0,className:n.chipLineLabel},"Input"),r.a.createElement("div",{className:n.chipLine},Object.keys(this.props.inputs).map(function(t){return e.state.topInputs.includes(e.props.inputs[t])?r.a.createElement(u.a,{key:t,label:e.props.inputs[t],className:e.props.input==e.props.inputs[t]?n.hotchip:n.chip,onClick:function(n){return e.handleInput(n,t)}}):null}))),r.a.createElement(C.a,{className:n.chipListItem},r.a.createElement(c.a,{variant:"subtitle1",noWrap:!0,className:n.chipLineLabel},"Surround Sound"),r.a.createElement("div",{className:n.chipLine},r.a.createElement(u.a,{key:"7ch Stereo",label:"7ch Stereo",className:"7ch Stereo"==this.props.deviceProperties.surround?n.hotchip:n.chip,onClick:function(t){return e.handleSurround(t,"7ch Stereo")}}),r.a.createElement(u.a,{key:"Surround Decoder",label:"Surround Decoder",className:"Surround Decoder"==this.props.deviceProperties.surround?n.hotchip:n.chip,onClick:function(t){return e.handleSurround(t,"Surround Decoder")}}))))),r.a.createElement(_.a,null),r.a.createElement(g.a,{className:n.dialogActions},r.a.createElement(N.a,{onClick:function(){return e.props.closeDialog()},color:"primary",autoFocus:!0},"OK")))}}])&&V(n.prototype,a),o&&V(n,o),t}();F.propTypes={classes:i.a.object.isRequired},t.default=Object(l.withStyles)(function(e){var t;return M(t={content:{minWidth:0,padding:0,paddingBottom:16},metadata:{flex:1,display:"flex",flexDirection:"column"},chip:{background:"silver",color:"black",marginRight:e.spacing.unit,marginTop:e.spacing.unit,marginBottom:e.spacing.unit,marginLeft:0},hotchip:{background:"orangeRed",color:"white",marginRight:e.spacing.unit,marginTop:e.spacing.unit,marginBottom:e.spacing.unit,marginLeft:0},slider:{paddingTop:0,paddingRight:28,paddingLeft:10},slidername:{display:"flex",paddingRight:0,paddingLeft:10,alignItems:"center"},chipLineLabel:{width:"100%"},chipListItem:{width:"100%",display:"block",padding:"16 24"},chipLine:{paddingTop:0,width:"100%"},tabTitle:{backgroundColor:e.palette.primary[700],padding:0,paddingTop:"env(safe-area-inset-top)",display:"flex",alignItems:"center",justifyContent:"space-around"},dialogTitle:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1,color:e.palette.primary.contrastText},dialogActions:{paddingBottom:"env(safe-area-inset-bottom)"},stack:{height:44,display:"flex",flexGrow:1,paddingLeft:16,justifyContent:"space-between",flexWrap:"wrap"},stackLabel:{alignSelf:"center"},sliderPaper:{display:"flex",flexDirection:"row",padding:"16 24",alignItems:"center"}},"dialogActions",{paddingBottom:"env(safe-area-inset-bottom)"}),M(t,"powerLine",{width:"100%",padding:"16 16 16 12"}),M(t,"powerLabel",{padding:0}),t})(F)}}]);