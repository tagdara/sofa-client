{"version":3,"sources":["SofaSlider.js","ButtonItem.js","light/LightSliderBrightness.js","light/LightSliderTemperature.js","light/LightSliderColor.js","DotLevel.js","light/Light.js","Scene.js","AreaSummaryLayout.js"],"names":["useStyles","makeStyles","half","alignItems","display","height","flexGrow","flexBasis","boxSizing","stack","justifyContent","flexWrap","width","marginRight","overflowX","overflowY","paddingRight","padLeft","paddingLeft","slider","margin","SofaSlider","props","classes","useState","value","setValue","useEffect","style","minWidth","className","name","variant","smallText","stackLabel","unit","Array","isArray","Math","floor","step","min","max","onChange","event","preChange","onChangeCommitted","change","disabled","defaultProps","default","tabs","theme","root","minHeight","listItem","padding","working","marginLeft","padLabel","label","item","borderRadius","backgroundColor","palette","layer","sceneButton","noMargin","noPad","highlight","itemHighlight","ButtonItem","ButtonObject","button","classnames","onClick","action","noback","undefined","avatarState","small","avatarIcon","primary","secondary","labelSecondary","noGrid","children","xs","thinmargin","nopaper","nolist","indent","LightSliderBrightness","device","BrightnessController","brightness","directive","endpointId","PowerController","powerState","LightSliderTemperature","ColorTemperatureController","colorTemperatureInKelvin","wide","revealIcon","color","sketchPickerStyles","picker","boxShadow","sl2sb","h","SL","s","l","SB","hue","saturation","t","sb2sl","LightSliderColor","sl","reveal","setColor","openDialog","setOpenDialog","ColorController","size","open","close","maxWidth","fullWidth","disableAlpha","styles","onChangeComplete","hsl","sendsb","presetColors","hsb","baseOn","opacity","dot","on","zIndex","baseOff","off","onLine","position","right","top","background","offLine","content","selectedIcon","selectedZero","zeroIcon","smallIcon","holder","DotLevel","level","setLevel","setWorking","map","lev","key","select","applyLevel","iconSize","tile","sliderPaper","flexDirection","nostack","lightSwitch","lightbar","placeholder","maxHeight","lightLabel","hover","Light","showAll","setShowAll","isReachable","hasOwnProperty","EndpointHealth","connectivity","console","log","e","friendlyName","deleting","checked","target","remove","brightControl","tempControl","colorControl","Scene","computedLevel","shortcut","scene","editing","edit","dialogActions","paddingBottom","listDialogContent","buttonspacer","halves","dotLine","dotLabel","details","paper","AreaLayout","useContext","DataContext","deviceStateByEndpointId","isMobile","LayoutContext","showDetail","setShowDetail","childrenByArea","filter","ads","area","AreaController","i","length","dev","displayCategories","includes","push","nameSort","a","b","isAShortcut","shortcuts","indexOf","container","nopad","hasShortcuts","deviceType","lights","all","toUpperCase","sort","j","filterByTypeState","outscenes","allscenes","shortcutlist","reverse","sortByShortcuts"],"mappings":"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","file":"static/js/73.0b380d08.chunk.js","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\n\nconst useStyles = makeStyles({\n         \n    half: {\n        alignItems: \"center\",\n        display: \"flex\",\n        height: 42,\n        flexGrow: 1,\n        flexBasis: 0,\n        boxSizing: \"border-box\",\n    },\n    stack: {\n        height: \"auto\",\n        display: \"flex\",\n        flexGrow: 1,\n        justifyContent: \"space-between\",\n        flexWrap: \"wrap\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        marginRight: 0,\n        overflowX: \"hidden\",\n        overflowY: \"hidden\",\n        alignItems: \"center\",\n        paddingRight: 8,\n    },\n    padLeft: {\n        paddingLeft: 16,\n    },\n    slider: {\n        margin: \"-18px\"\n    }\n\n});\n\nexport default function SofaSlider(props) {\n    \n    const classes = useStyles();\n    const [value, setValue] = useState(0)\n    \n    useEffect(() => {\n        if (props.value) {\n            setValue(props.value)\n        }\n    }, [props.value]);\n\n    \n    function handlePreChange(event, value) {\n        setValue(value);\n        if (props.preChange) {\n            props.preChange(value);\n        }\n    }; \n\n    function handleChange(event,value) {\n        props.change(value);\n    }; \n   \n    function unitDisplay() {\n        if (Array.isArray(value)) {\n            return Math.floor(value[0])+' - '+ Math.floor(value[1])+props.unit\n        } else {\n            return Math.floor(value)+props.unit\n        }\n    }\n   \n    return (\n        <div style={{ \"minWidth\": props.minWidth }} className={ props.padLeft ? classes.stack+\" \"+classes.padLeft: ( props.half ? classes.half : classes.stack) } >\n        { props.name ?\n            <Typography variant={ props.smallText ? \"caption\" : \"subtitle1\" } className={classes.stackLabel} >{props.name}</Typography>\n        :   null }\n        { props.unit ?\n            <Typography variant=\"caption\" className={classes.stackLabel} >{unitDisplay()}</Typography>\n        : null }\n            <Slider\n                value={value} step={props.step} \n                min={props.min} max={props.max}\n                onChange={handlePreChange}\n                onChangeCommitted={handleChange}\n                disabled={props.disabled}\n            />\n        </div>\n    );\n}\n\nSofaSlider.defaultProps = {\n    name: '',\n    unit: '',\n    min: 0,\n    max: 100,\n    step: 1,\n    default: 0,\n    value: 0,\n    tabs: '',\n    disabled: false,\n    padLeft: false,\n    half: false,\n    minWidth: 240,\n    smallText: false,\n}\n\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport ListItem from '@material-ui/core/ListItem';\n\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ToggleAvatar from './ToggleAvatar';\nimport GridItem from \"./GridItem\"\nimport classnames from 'classnames';\n\nconst useStyles = makeStyles(theme => {\n    return {        \n        root: {\n            minHeight: 72,\n            display: \"flex\",\n            width: \"100%\",\n        },\n        listItem: {\n            padding: \"8px 8px\",\n        },\n        working: {\n            marginLeft: 4,\n        },\n        padLabel: {\n            paddingLeft: 28,\n            display: \"flex\",\n            alignItems: \"center\",\n        },\n        label: {\n            display: \"flex\",\n            alignItems: \"center\",\n        },\n        item: {\n            margin: 4,\n            minHeight: 54,\n            flexGrow:1,\n            borderRadius: 4,\n            backgroundColor: theme.palette.layer.item,\n            width: \"auto\",\n            padding: 8,\n        },\n        sceneButton: {\n            display: \"flex\",\n            width: \"100%\",\n        },\n        noMargin: {\n            margin: 0,\n        },\n        noPad: {\n            padding: 0,\n        },\n        highlight: {\n            backgroundColor: theme.palette.layer.itemHighlight,\n        }\n    }\n});\n\n\nexport default function ButtonItem(props) {\n    \n    const classes = useStyles();\n\n    var ButtonObject =  (\n        <ListItem button className={classnames(classes.item, props.highlight && classes.highlight, props.noMargin && classes.noMargin, props.noPad && classes.noPad)} onClick={ () => props.action()}>\n            <div className={classes.sceneButton}>\n                <ToggleAvatar noback={props.noback===undefined ? true : props.noback} avatarState={props.avatarState ? props.avatarState : 'off'} small={props.small} >\n                    { props.avatarIcon }\n                </ToggleAvatar>\n                <ListItemText className={props.small ? classes.padLabel : classes.label } primary={props.label} secondary={props.labelSecondary} />\n                { props.secondary }\n            </div>\n        </ListItem>\n    )\n\n    return (\n        <>\n        { !props.noGrid ?\n            <GridItem xs={props.xs} thinmargin={props.thinmargin} nopaper={true} noPad={props.noPad} nolist={props.nolist} >\n                { ButtonObject }\n                { props.children }\n            </GridItem>\n            :\n            <>\n                { ButtonObject }\n                { props.children }\n            </>\n        }\n        </>\n    )    \n\n};\n\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport SofaSlider from '../SofaSlider';\nimport BrightnessLowIcon from '@material-ui/icons/BrightnessLow';\n\nconst useStyles = makeStyles({\n        \n    indent: {\n        paddingLeft: 16,\n        paddingRight: 8,\n    }\n});\n\nexport default function LightSliderBrightness(props) {\n    \n    const classes = useStyles();\n\n    function handleBrightnessChange(event) {\n        props.directive(props.device.endpointId,'BrightnessController', 'SetBrightness', { \"brightness\" : event })\n    }; \n\n    return (\n            <ListItem>\n                <ListItemIcon className={classes.indent}><BrightnessLowIcon /></ListItemIcon>\n                <SofaSlider\n                    name=\"Brightness\" smallText={true} value={props.device.BrightnessController.brightness.value} unit=\"%\"\n                    min={0} max={100} step={10}\n                    change={handleBrightnessChange}\n                    disabled={!props.device.PowerController.powerState.value}\n                />\n            </ListItem>\n    );\n}\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\nimport SofaSlider from '../SofaSlider';\nimport AcUnitIcon from '@material-ui/icons/AcUnit';\n\nconst useStyles = makeStyles({\n        \n    indent: {\n        paddingLeft: 16,\n        paddingRight: 8,\n    }\n});\n\nexport default function LightSliderTemperature(props) {\n\n    const classes = useStyles();\n\n    function handleColorTemperatureChange(value) {\n        props.directive(props.device.endpointId, \"ColorTemperatureController\", \"SetColorTemperature\", { \"colorTemperatureInKelvin\": value} )\n    }; \n\n    return (\n        <ListItem>\n            <ListItemIcon className={classes.indent}><AcUnitIcon /></ListItemIcon>\n            <SofaSlider\n                name=\"Temperature\" smallText={true} unit={\"°\"}\n                value={props.device.ColorTemperatureController.colorTemperatureInKelvin.value}\n                min={2000} max={7000} step={100}\n                change={handleColorTemperatureChange}\n                disabled={!props.powerState}\n            />\n        </ListItem>\n    );\n\n}\n\n\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Button from '@material-ui/core/Button';\n\nimport ColorLensIcon from '@material-ui/icons/ColorLens';\nimport LensIcon from '@material-ui/icons/Lens';\n\nimport { SketchPicker } from 'react-color'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nconst useStyles = makeStyles({\n        \n    wide: {\n        width: \"100%\",\n    },\n    indent: {\n        paddingLeft: 16,\n        paddingRight: 8,\n    },\n    button: {\n        minWidth: 48,\n        flexGrow: 1,\n    },\n    revealIcon: {\n        height: 24,\n        width: 24,\n        color: \"#FFE4B5\",\n    }\n});\n\n\nconst sketchPickerStyles = {\n    default: {\n        picker: { // See the individual picker source for which keys to use\n            boxShadow: 'none',\n        },\n    },\n}\n\nexport const sl2sb = (color) => {\n    var SL = {h:color.h, s:color.s, l:color.l};\n    var SB = {hue:color.h, saturation:0, brightness:0};\n    var t = SL.s * (SL.l<0.5 ? SL.l : 1-SL.l);\n    SB.brightness = SL.l+t;\n    SB.saturation = SL.l>0 ? 2*t/SB.brightness : SB.saturation ;\n    return SB\n}    \n\nexport const sb2sl = (color) => {\n    var SB = {hue:color.hue, saturation:color.saturation, brightness:color.brightness};\n    var SL = {h:color.hue, s:0, l:0};\n    SL.l = (2 - SB.saturation) * SB.brightness / 2;\n    SL.s = SL.l&&SL.l<1 ? SB.saturation*SB.brightness/(SL.l<0.5 ? SL.l*2 : 2-SL.l*2) : SL.s;\n    return SL\n}\n\nexport default function LightSliderColor(props) {\n\n    const classes = useStyles();\n    const reveal = {hue: 43.5, saturation:0.27, brightness: 1}\n    const [color, setColor] = useState(reveal);\n    const [openDialog, setOpenDialog] = useState(false);\n    \n    useEffect(() => {\n        setColor(sb2sl(props.device.ColorController.color.value))\n    }, [props.device.ColorController.color.value]);\n\n    function gethsl(sl) {\n        if (sl) {\n            return { \"backgroundColor\":\"hsl(\"+sl['h']+\", \"+(sl['s']*100)+\"%, \"+(sl['l']*100)+\"%)\"}\n        }\n        return { \"backgroundColor\":\"hsl(255, 100%, 100%)\"}\n    }\n    \n    function closeDialog() {\n        setOpenDialog(false)\n    }\n\n    function handleColorSliderChange(color, event) {\n        setColor(color.hsl);\n        var sendsb=sl2sb(color.hsl)\n        //sendsb.brightness=props.device.BrightnessController.brightness.value/100\n        props.directive(props.device.endpointId, \"ColorController\", \"SetColor\", { \"color\": sendsb })\n    }\n\n    function handleColorChange(hsb) {\n        setColor(sb2sl(hsb));\n        hsb.brightness=props.device.BrightnessController.brightness.value/100\n        props.directive(props.device.endpointId, \"ColorController\", \"SetColor\", { \"color\": hsb })\n    }\n    \n    function saveColor() { \n        var sendsb=sl2sb(color)\n        props.directive(props.device.endpointId, 'ColorController', 'SetColor', { \"color\" : sendsb }, {})\n        setOpenDialog(false)\n    }\n\n    return (\n        <ListItem>\n            <ListItemIcon className={classes.indent}><ColorLensIcon /></ListItemIcon>\n            <Button variant=\"outlined\" size=\"small\" onClick={ () => setOpenDialog(true) } style={gethsl(color)} className={classes.button }> &nbsp;\n            </Button>\n            <Dialog open={openDialog} close={closeDialog} maxWidth={'xs'} fullWidth={false} >\n                <SketchPicker\n                    disableAlpha styles={sketchPickerStyles}\n                    color={ color }\n                    onChangeComplete={ handleColorSliderChange }\n                    presetColors= { [   '#D0021B', '#F5A623', '#F8E71C', '#8B572A', \n                                        '#7ED321', '#417505', '#BD10E0', '#9013FE', \n                                        '#4A90E2', '#50E3C2', '#B8E986', '#FFFFFF', \"#FEEBBA\"\n                                    ] }\n                />\n                <DialogActions>\n                    <Button onClick={saveColor} color=\"primary\">\n                        OK\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Button size=\"small\" onClick={ () => handleColorChange(reveal)} color={ color===reveal ? \"primary\" : \"default\"} className={classes.button }>\n                <LensIcon className={classes.revealIcon} />\n            </Button>\n        </ListItem>\n    );\n\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport LensIcon from '@material-ui/icons/Lens';\nimport TripOriginIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles(theme => {\n    return {\n        baseOn: {\n            height: 48,\n            width: 48,\n            boxSizing: \"border-box\",\n            opacity: 1,\n            color: theme.palette.dot.on,\n            zIndex: 6,\n        },\n        baseOff: {\n            height: 48,\n            width: 48,\n            boxSizing: \"border-box\",\n            opacity: 1,\n            color: theme.palette.dot.off,\n            zIndex: 5,\n        },\n        onLine: {\n                position: \"absolute\",\n                right: \"calc(50% + 6px)\",\n                top: \"calc(50% - 1px)\",\n                height: 2,\n                background: theme.palette.dot.on,\n                width: \"calc(100% - 13px)\",\n                display: \"block\",\n                zIndex:1,\n                opacity: 1,\n        },\n        offLine: {\n                position: \"absolute\",\n                right: \"calc(50% + 6px)\",\n                top: \"calc(50% - 1px)\",\n                height: 1,\n                background: theme.palette.dot.off,\n                content: \"\",\n                width: \"calc(100% - 13px)\",\n                display: \"block\",\n                zIndex:1,\n                opacity: 1,\n        },\n    \n        selectedIcon: {\n            height: 24,\n            width: 24,\n            zIndex: 140,\n        },\n        selectedZero: {\n            height: 20,\n            width: 20,\n        },\n        zeroIcon: {\n            margin: 6,\n            height: 10,\n            width: 10,\n            zIndex: 40,\n        },\n        smallIcon: {\n            margin: 8,\n            height: 8,\n            width: 8,\n            zIndex: 140,\n            opacity: 1,\n        },\n        working: {\n            margin: 0,\n        },\n        holder: {\n            position: \"relative\",\n            minWidth: 192,\n            padding: 0,\n            boxSizing: \"border-box\",\n            margin: 0,\n            zIndex: 2,\n        }\n    }\n});\n\nexport default function DotLevel(props) {\n    \n    const classes = useStyles();\n    const levels = [0,1,2,3]\n    const [level,setLevel] = useState(props.level);\n    const [working,setWorking] = useState(false);\n\n    useEffect(() => {\n        setLevel(props.level)\n        setWorking(false)\n    }, [props.level])\n    \n    function applyLevel(lev) {\n        setWorking(true)\n        setLevel(lev)\n        props.select(lev)\n    }\n\n    return (\n        <div className={classes.holder} >\n            { levels.map((lev) =>\n            <IconButton key={lev} onClick={ () => applyLevel(lev) } className={ ( level>0 && lev<=level ) ? classes.baseOn : classes.baseOff}>\n                { lev===0  ?\n                <>\n                    { working && lev===level ?\n                        <CircularProgress size={24} className={classes.working} />\n                    :\n                        <TripOriginIcon className={ lev===level ? classes.selectedZero : classes.zeroIcon} />\n                    }\n                </>\n                :\n                <>\n                    <div className={lev<=level ? classes.onLine: classes.offLine}></div>\n                    { (working && lev===level) ?\n                        <CircularProgress size={24} className={classes.working} />\n                    :\n                    <>\n                        { lev===level ?\n                            <LensIcon className={ classes.selectedIcon} />\n                        :\n                            <LensIcon style={{  width: 8+(lev*2), height: 8+(lev*2), margin: 0 }} className={ classes.smallIcon} />\n                        }\n                    </>\n                    }\n                    <div style={{ width : \"calc(100% - \"+(15-lev*2)+\"px)\" }} className={lev<=level ? classes.onLine: classes.offLine}></div>\n                </>\n                }\n            </IconButton>\n            )}\n        </div >\n    );\n}\n\n\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport Switch from '@material-ui/core/Switch';\nimport LightbulbOutlineIcon from '../LightbulbOutline';\nimport CloudOffIcon from '@material-ui/icons/CloudOff';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport LightSliderBrightness from \"./LightSliderBrightness\"\nimport LightSliderTemperature from \"./LightSliderTemperature\"\nimport LightSliderColor from \"./LightSliderColor\"\nimport ButtonItem from \"../ButtonItem\"\n\nconst useStyles = makeStyles(theme => {\n    return {        \n    iconSize: {\n        height: 24,\n        width: 24,\n    },\n    stack: {\n        height: 44,\n        display: \"flex\",\n        flexGrow: 1,\n        paddingLeft: 16,\n        justifyContent: \"space-between\",\n        flexWrap: \"wrap\",\n    },\n    tile: {\n        display: \"flex\",\n        flexGrow: 1,\n        height: 90,\n        paddingRight: 8,\n    },\n    sliderPaper: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        padding: \"16 8 16 16\",\n        alignItems: \"center\",\n    },\n    nostack: {\n        height: 44,\n        display: \"flex\",\n        flexGrow: 1,\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        flexWrap: \"wrap\",\n        maxWidth: 480,\n        minWidth: 240,\n        boxSizing: \"border-box\",\n        marginRight: 8,\n    },\n    lightSwitch: {\n        marginLeft: 8,\n    },\n    lightbar: {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n    },\n    placeholder: {\n        height: 57,\n        width: \"100%\",\n    },\n    listItem: {\n        maxHeight: 64,\n        width: \"100%\",\n        margin: 4,\n        padding: 8,\n    },\n    lightLabel: {\n        height: 48,\n        maxWidth: \"50%\",\n        flexGrow:1,\n        '&:hover': {\n            backgroundColor: theme.palette.background.hover,\n        },\n        borderRadius:4,\n        padding: 8,\n        boxSizing: \"border-box\",\n        alignItems: \"center\",\n        display: \"flex\",\n    }\n\n}\n});\n\nexport default function Light(props) {\n    \n    const classes = useStyles();\n    const [showAll, setShowAll] = useState(props.showAll)\n    \n    function handlePowerChange(event) {\n        props.directive(props.device.endpointId, 'PowerController', event.target.checked ? 'TurnOn' : 'TurnOff')\n    }; \n    \n    function isReachable() {\n        try {\n            if (props.device.hasOwnProperty('EndpointHealth')) {\n                if (props.device.EndpointHealth.connectivity.value.value==='OK') { return true }\n                return false\n            }\n            console.log('no endpoint health', props.device)\n            return true\n        } catch (e) {\n            console.log('Error getting reachable state', e)\n            return false\n        }\n    }\n    \n    return (\n            <ButtonItem noGrid={props.noGrid} nolist={true} noMargin={props.noMargin} noback={true}\n                avatarIcon={ isReachable() ?\n                    <LightbulbOutlineIcon className={classes.iconSize} />\n                :\n                    <CloudOffIcon className={classes.iconSize} />\n                }                \n                avatarState={ props.device.PowerController.powerState.value==='ON' ? \"on\" : \"off\" }\n                label={ props.device.friendlyName }\n                labelSecondary={ isReachable() ? null : 'Off at switch' }\n                small={ props.small }\n                action={() => setShowAll(!showAll) }\n                secondary={\n                    <>\n                        { ( isReachable() && !props.deleting ) &&\n                            <Switch color=\"primary\" className={classes.lightSwitch} checked={props.device.PowerController.powerState.value==='ON'} onChange={handlePowerChange} />\n                        }\n                        { props.deleting && \n                            <IconButton size=\"small\" onClick={()=>props.remove(props.device)} ><ClearIcon /></IconButton>\n                        }\n                    </>\n                }\n                children={\n                    <>\n                        { !props.brightControl && !showAll ? null :\n                            ( !props.device.hasOwnProperty('BrightnessController') ?\n                                <ListItem className={classes.placeholder} />\n                            :\n                                <LightSliderBrightness device={props.device} directive={props.directive} />\n                            )\n                        }\n                        { !props.tempControl && !showAll ? null :\n                            ( !props.device.hasOwnProperty('ColorTemperatureController') ?\n                                <ListItem className={classes.placeholder} />\n                            :\n                            <LightSliderTemperature device={props.device} directive={props.directive}/>\n                            )\n                        }\n                        { !props.colorControl && !showAll ? null :\n                            ( !props.device.hasOwnProperty('ColorController') ?\n                                <ListItem className={classes.placeholder} />\n                            :\n                                <LightSliderColor device={props.device} directive={props.directive}/>\n                            )\n                        }\n                    </>\n                }\n\n            />\n    );\n\n}\n\nLight.defaultProps = {\n    nopaper: false,\n    showAll: false,\n}\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport ListIcon from '@material-ui/icons/List';\nimport CloseIcon from '@material-ui/icons/Close';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ButtonItem from \"./ButtonItem\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles(theme => {\n    return {        \n        listItem: {\n            padding: \"8px 8px\",\n        },\n        working: {\n            marginLeft: 4,\n        },\n    }\n});\n\n\nexport default function Scene(props) {\n    \n    const classes = useStyles();\n    const [working, setWorking] = useState(false)\n    \n    useEffect(() => {\n        setWorking(false)\n    }, [props.computedLevel]);\n    \n    function runScene() {\n        if (!props.editing && !props.remove) {\n            console.log('Activating', props.scene.friendlyName)\n            setWorking(true)\n            props.directive(props.scene.endpointId, 'SceneController', 'Activate')\n        }\n    }\n    \n    function deleteScene(endpointId) {\n        props.directive(props.scene.endpointId, 'SceneController', 'Delete')\n    }\n\n   return (\n        <ButtonItem noGrid={props.noGrid} nolist={true} noMargin={props.noMargin} highlight={props.highlight} noback={true}\n            avatarIcon={ working ?\n                <CircularProgress size={props.small ? 24 : 32} className={classes.working} />\n            :   \n                <>\n                    {props.shortcut==='x' ? <ListIcon /> : props.shortcut }\n                </>\n            }\n            avatarState={props.scene.endpointId===props.computedLevel ? 'on' : 'off'}\n            label={props.scene.friendlyName}\n            action={runScene}\n            small={props.small}\n            secondary={\n                <>\n                { props.remove &&\n                    <IconButton size={\"small\"} onClick={() => deleteScene() }><CloseIcon /></IconButton>   \n                }\n                { props.editing &&\n                    <IconButton size={\"small\"} onClick={() => props.edit(props.scene) }><EditIcon /></IconButton>   \n                }\n                </>\n            }\n        />\n    )\n};\n\n\n","import React, {useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { LayoutContext } from './layout/NewLayoutProvider';\nimport { DataContext } from './DataContext/DataProvider';\n\nimport Light from './light/Light';\nimport GridItem from './GridItem';\nimport Scene from './Scene'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DotLevel from './DotLevel';\n\n\nconst useStyles = makeStyles(theme => {\n    return {        \n        dialogActions: {\n            paddingBottom: \"env(safe-area-inset-bottom)\",\n        },\n        listDialogContent: {\n            padding: 0,\n        },\n        button: {\n            minWidth: 36\n        },\n        buttonspacer: {\n            minWidth: 36,\n            marginRight: 18\n        },\n        halves: {\n            flexGrow: 1,\n            flexBasis: 1,\n            boxSizing: \"border-box\",\n        },\n        dotLine: {\n            width: \"100%\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            padding: \"8px 8px 8px 8px\",\n            alignItems: \"center\",\n            height: 64,\n        },\n        dotLabel: {\n            height: 48,\n            maxWidth: \"50%\",\n            flexGrow:1,\n            '&:hover': {\n                backgroundColor: theme.palette.background.hover,\n            },\n            borderRadius:4,\n            padding: 8,\n            boxSizing: \"border-box\",\n            alignItems: \"center\",\n            display: \"flex\",\n        },\n        details: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: 0,\n        },\n        paper: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            flexGrow: 0,\n            width: \"100%\",\n        }\n    }\n});\n\nexport default function AreaLayout(props) {\n\n    const classes = useStyles();\n    const { deviceStateByEndpointId, directive } = useContext(DataContext);\n    const { isMobile } = useContext(LayoutContext);;\n    const [showDetail, setShowDetail] = useState(false);\n    //const area = deviceStateByEndpointId('logic:area:'+layout.props.name)\n\n    function runShortcut(level) {\n        var scene=deviceStateByEndpointId(props.area.AreaController.shortcuts.value[level])\n        directive(scene.endpointId, 'SceneController', 'Activate')\n    }\n    \n    function currentLevel() {\n        if (props.area.AreaController.shortcuts.value.includes(props.area.AreaController.scene.value)) {\n            return props.area.AreaController.shortcuts.value.indexOf(props.area.AreaController.scene.value)\n        }\n        return 0\n    }\n    \n    function hasShortcuts() {\n        try {\n            if (props.area.AreaController.shortcuts.value.length>0) {\n                return true\n            }\n        }\n        catch {\n            return false\n        }\n\n        return false\n    }\n    function childrenByArea(filter) {\n\n        var ads=[]\n        try {\n            var children=props.area.AreaController.children.value\n            for (var i = 0; i < children.length; i++) {\n                var dev=deviceStateByEndpointId(children[i])\n                if (!filter || filter==='ALL' || (dev && dev.displayCategories.includes(filter))) {\n                    ads.push(dev)\n                }\n            }\n            return ads    \n        } catch (e) {\n            console.log('Error getting children by area', e)\n        } finally {\n            return ads\n        }\n}\n\n    function nameSort(a,b) {\n      if (a.friendlyName < b.friendlyName)\n        return -1;\n      if (a.friendlyName > b.friendlyName)\n        return 1;\n      return 0;\n    }\n\n    function filterByTypeState(deviceType, filter) {\n        var lights=[]\n        var all=childrenByArea(deviceType)\n        if (filter.toUpperCase()===\"ALL\") { \n            return all.sort(nameSort) \n        }\n        for (var j = 0; j < all.length; j++) {\n            if (all[j].PowerController.powerState.value===filter.toUpperCase()) {\n                lights.push(all[j])\n            }\n        }\n        return lights.sort(nameSort)\n    }\n\n    function isAShortcut(scene) {\n        if (props.area.AreaController.shortcuts.value.indexOf(scene) >= 0) {\n            return props.area.AreaController.shortcuts.value.indexOf(scene)\n        } else {\n            return 'x'\n        }\n    }\n\n    function sortByShortcuts() {\n\n        var outscenes=[]\n        try {\n            var allscenes=childrenByArea('SCENE_TRIGGER')\n            var shortcutlist=[...props.area.AreaController.shortcuts.value].reverse()\n            for (var j = 0; j < shortcutlist.length; j++) {\n                outscenes.push(deviceStateByEndpointId(shortcutlist[j]))\n            }\n    \n            for (j = 0; j < allscenes.length; j++) {\n                if (!shortcutlist.includes(allscenes[j].endpointId)) {\n                    outscenes.push(allscenes[j])\n                }\n            }\n        } catch (e) {\n            console.log('Error getting children by area', e)\n        } finally {\n            return outscenes\n        }\n    }\n    \n    return (    \n        <GridItem xs={isMobile ? 12 : 3} container={true} nopad={true} >\n                <ListItem className={classes.dotLine}>\n                    <ListItemText className={classes.dotLabel} onClick={ () => setShowDetail(!showDetail) }>\n                        {props.area.friendlyName}\n                    </ListItemText>\n                    { hasShortcuts() &&\n                        <DotLevel level={currentLevel()} select={runShortcut} />\n                    }\n                </ListItem>\n                { showDetail && \n                <>\n                        { filterByTypeState('LIGHT').map(device =>\n                            <Light key={ device.endpointId } device={ device } directive={directive} noGrid={true} />\n                        )}\n                        { sortByShortcuts().map(scene => \n                            <Scene  scene={scene} key={scene.endpointId} shortcut={isAShortcut(scene.endpointId)} noGrid={true}\n                                    computedLevel={props.area.AreaController.scene.value} directive={directive} small={true} />\n                        )}\n                </>\n                }\n        </GridItem>\n    )\n};"],"sourceRoot":""}