function n(){}module.exports=function(o,e){var t,c,r={},i=(e=e||{}).timeout||1e3,f=0,u=e.maxAttempts||Infinity;for(t in e)"function"==typeof e[t]&&(r[t]=e[t]);return r.onclose=function(o){1e3!==o.code&&1005!==o.code&&r.reconnect(o),(e.onclose||n)(o)},r.onerror=function(o){o&&"ECONNREFUSED"===o.code?r.reconnect(o):(e.onerror||n)(o)},r.open=function(){for(t in c=new WebSocket(o,e.protocols),r)c[t]=r[t];return c},r.reconnect=function(o){++f<u&&setTimeout(function(e){(r.onreconnect||n)(o),r.open()},i)},r.json=function(n){c.send(JSON.stringify(n))},r.open()};
//# sourceMappingURL=sockette.js.map
