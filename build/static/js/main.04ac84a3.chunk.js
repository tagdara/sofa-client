(this["webpackJsonpsofa-client"]=this["webpackJsonpsofa-client"]||[]).push([[169],{104:function(e,t,r){var n={"./":[60,9],"./AdapterItem":[186,9,2,3,6,99],"./AdapterItem.js":[186,9,2,3,6,99],"./AdapterLayout":[217,9,2,3,6,64],"./AdapterLayout.js":[217,9,2,3,6,64],"./AdapterStatus":[187,9,100],"./AdapterStatus.js":[187,9,100],"./AlertSummary":[188,9,126],"./AlertSummary.js":[188,9,126],"./Area":[218,9,51],"./Area.js":[218,9,51],"./AreaHero":[219,9,0,1,46,60],"./AreaHero.js":[219,9,0,1,46,60],"./AreaLayout":[220,9,0,1,42,52],"./AreaLayout.js":[220,9,0,1,42,52],"./AreaLine":[167,9,69],"./AreaLine.js":[167,9,69],"./AreasLayout":[221,9,61],"./AreasLayout.js":[221,9,61],"./AutomationColumn":[191,9,4,5,28],"./AutomationColumn.js":[191,9,4,5,28],"./AutomationLayout":[222,9,2,3,4,5,26],"./AutomationLayout.js":[222,9,2,3,4,5,26],"./AutomationsLayout":[223,9,40],"./AutomationsLayout.js":[223,9,40],"./AvSummary":[197,9,101],"./AvSummary.js":[197,9,101],"./CameraLayout":[224,9,49,110],"./CameraLayout.js":[224,9,49,110],"./CameraSelect":[225,9,59,111],"./CameraSelect.js":[225,9,59,111],"./CameraSummary":[198,9,127],"./CameraSummary.js":[198,9,127],"./CompositeDevice":[145,9,47],"./CompositeDevice.js":[145,9,47],"./DataContext/AlexaDevice":[51,9],"./DataContext/AlexaDevice.js":[51,9],"./DataContext/DataProvider":[54,9],"./DataContext/DataProvider.js":[54,9],"./DeviceDialog":[147,9,4,5,53],"./DeviceDialog.js":[147,9,4,5,53],"./DeviceDirectiveLayout":[226,9,35],"./DeviceDirectiveLayout.js":[226,9,35],"./DeviceHero":[227,9,128],"./DeviceHero.js":[227,9,128],"./DeviceIcon":[132,9,54],"./DeviceIcon.js":[132,9,54],"./DeviceLayout":[228,9,5,50],"./DeviceLayout.js":[228,9,5,50],"./DevicePropertyLayout":[254,9,31],"./DevicePropertyLayout.js":[254,9,31],"./DeviceSummary":[199,9,129],"./DeviceSummary.js":[199,9,129],"./DotLevel":[148,9,87],"./DotLevel.js":[148,9,87],"./ErrorBoundary":[20,9],"./ErrorBoundary.js":[20,9],"./ErrorCard":[41,9],"./ErrorCard.js":[41,9],"./GridBreak":[140,9,148],"./GridBreak.js":[140,9,148],"./GridItem":[22,9],"./GridItem.js":[22,9],"./GridSearch":[142,9,149],"./GridSearch.js":[142,9,149],"./GridSection":[114,9,131],"./GridSection.js":[114,9,131],"./HistoryLayout":[229,9,2,3,6,88],"./HistoryLayout.js":[229,9,2,3,6,88],"./HistoryLine":[200,9,2,3,6,112],"./HistoryLine.js":[200,9,2,3,6,112],"./LightLayout":[230,9,0,1,39],"./LightLayout.js":[230,9,0,1,39],"./LightSummary":[201,9,132],"./LightSummary.js":[201,9,132],"./LightbulbOutline":[112,9,150],"./LightbulbOutline.js":[112,9,150],"./MasterButton":[63,9],"./MasterButton.js":[63,9],"./MiniLauncher":[231,9,134],"./MiniLauncher.js":[231,9,134],"./ModeLines":[158,9,113],"./ModeLines.js":[158,9,113],"./MoreDevicesLayout":[232,9,58,56],"./MoreDevicesLayout.js":[232,9,58,56],"./NetworkProvider":[11,9],"./NetworkProvider.js":[11,9],"./Opener":[233,9,4,17,102],"./Opener.js":[233,9,4,17,102],"./PlaceholderCard":[43,9],"./PlaceholderCard.js":[43,9],"./PlayerGroup":[234,9,55],"./PlayerGroup.js":[234,9,55],"./PlayerHero":[235,9,0,7,32],"./PlayerHero.js":[235,9,0,7,32],"./PlayersLayout":[236,9,70],"./PlayersLayout.js":[236,9,70],"./ReceiverHero":[237,9,0,18,74],"./ReceiverHero.js":[237,9,0,18,74],"./Scene":[189,9,76],"./Scene.js":[189,9,76],"./SceneAdd":[190,9,91],"./SceneAdd.js":[190,9,91],"./SecuritySummary":[210,9,114],"./SecuritySummary.js":[210,9,114],"./ShortcutHero":[238,9,135],"./ShortcutHero.js":[238,9,135],"./SmallSlider":[131,9,0,151],"./SmallSlider.js":[131,9,0,151],"./SofaApp":[62,9],"./SofaApp.js":[62,9],"./SofaAppContent":[64,9],"./SofaAppContent.js":[64,9],"./SofaAvatarSlider":[182,9,0,139],"./SofaAvatarSlider.js":[182,9,0,139],"./SofaLogin":[66,9],"./SofaLogin.js":[66,9],"./SofaPage":[65,9],"./SofaPage.js":[65,9],"./SofaSlider":[113,9,0,152],"./SofaSlider.js":[113,9,0,152],"./SofaSnackbar":[253,9,115],"./SofaSnackbar.js":[253,9,115],"./SummaryLayout":[239,9,29],"./SummaryLayout.js":[239,9,29],"./SystemLayout":[240,9,66],"./SystemLayout.js":[240,9,66],"./ThermostatHero":[241,9,140],"./ThermostatHero.js":[241,9,140],"./ThermostatHistory":[242,9,2,6,27,130],"./ThermostatHistory.js":[242,9,2,6,27,130],"./ThermostatLayout":[243,9,0,65],"./ThermostatLayout.js":[243,9,0,65],"./ThermostatSummary":[211,9,153],"./ThermostatSummary.js":[211,9,153],"./ToggleAvatar":[55,9],"./ToggleAvatar.js":[55,9],"./ToggleButton":[146,9,154],"./ToggleButton.js":[146,9,154],"./ToggleChip":[141,9,141],"./ToggleChip.js":[141,9,141],"./TvHero":[244,9,0,16,75],"./TvHero.js":[244,9,0,16,75],"./ZoneHero":[245,9,116],"./ZoneHero.js":[245,9,116],"./ZoneLayout":[246,9,2,3,6,73],"./ZoneLayout.js":[246,9,2,3,6,73],"./automation/AutomationItemBase":[247,9,155],"./automation/AutomationItemBase.js":[247,9,155],"./automation/ScheduleDays":[162,9,107],"./automation/ScheduleDays.js":[162,9,107],"./automation/ScheduleInterval":[161,9,92],"./automation/ScheduleInterval.js":[161,9,92],"./automation/ScheduleItem":[195,9,117],"./automation/ScheduleItem.js":[195,9,117],"./automation/ScheduleStart":[160,9,79],"./automation/ScheduleStart.js":[160,9,79],"./automation/UnitButton":[153,9,142],"./automation/UnitButton.js":[153,9,142],"./automation/automationAction":[168,9,4,5,33],"./automation/automationAction.js":[168,9,4,5,33],"./automation/automationActionNew":[248,9,37],"./automation/automationActionNew.js":[248,9,37],"./automation/automationAdd":[196,9,93],"./automation/automationAdd.js":[196,9,93],"./automation/automationCondition":[169,9,30],"./automation/automationCondition.js":[169,9,30],"./automation/automationDetails":[173,9,2,3,118],"./automation/automationDetails.js":[173,9,2,3,118],"./automation/automationHeader":[193,9,2,3,62],"./automation/automationHeader.js":[193,9,2,3,62],"./automation/automationItem":[194,9,108],"./automation/automationItem.js":[194,9,108],"./automation/automationSave":[192,9,143],"./automation/automationSave.js":[192,9,143],"./automation/automationSchedule":[171,9,44],"./automation/automationSchedule.js":[171,9,44],"./automation/automationTitle":[172,9,156],"./automation/automationTitle.js":[172,9,156],"./automation/automationTrigger":[170,9,4,5,34],"./automation/automationTrigger.js":[170,9,4,5,34],"./automation/automationTriggerReal":[249,9,38],"./automation/automationTriggerReal.js":[249,9,38],"./automation/operatorButton":[152,9,144],"./automation/operatorButton.js":[152,9,144],"./camera/cameraDialog":[154,9,80],"./camera/cameraDialog.js":[154,9,80],"./camera/securitycamera":[163,9,48],"./camera/securitycamera.js":[163,9,48],"./controllers/BrightnessController":[134,9,0,77],"./controllers/BrightnessController.js":[134,9,0,77],"./controllers/ColorController":[135,9,1,81],"./controllers/ColorController.js":[135,9,1,81],"./controllers/ColorTemperatureController":[136,9,0,78],"./controllers/ColorTemperatureController.js":[136,9,0,78],"./controllers/EndpointHealth":[137,9,94],"./controllers/EndpointHealth.js":[137,9,94],"./controllers/PowerController":[138,9,71],"./controllers/PowerController.js":[138,9,71],"./controllers/StateController":[139,9,82],"./controllers/StateController.js":[139,9,82],"./controllers/properties/brightness":[123,9,0,8],"./controllers/properties/brightness.js":[123,9,0,8],"./controllers/properties/color":[116,9,1,19],"./controllers/properties/color.js":[116,9,1,19],"./controllers/properties/connectivity":[117,9,20],"./controllers/properties/connectivity.js":[117,9,20],"./controllers/properties/detectionState":[118,9,21],"./controllers/properties/detectionState.js":[118,9,21],"./controllers/properties/duration":[124,9,14],"./controllers/properties/duration.js":[124,9,14],"./controllers/properties/input":[119,9,22],"./controllers/properties/input.js":[119,9,22],"./controllers/properties/onLevel":[125,9,0,9],"./controllers/properties/onLevel.js":[125,9,0,9],"./controllers/properties/powerLevel":[126,9,0,10],"./controllers/properties/powerLevel.js":[126,9,0,10],"./controllers/properties/powerState":[120,9,23],"./controllers/properties/powerState.js":[120,9,23],"./controllers/properties/surround":[121,9,24],"./controllers/properties/surround.js":[121,9,24],"./controllers/properties/targetSetpoint":[127,9,0,11],"./controllers/properties/targetSetpoint.js":[127,9,0,11],"./controllers/properties/targetTemperature":[128,9,0,12],"./controllers/properties/targetTemperature.js":[128,9,0,12],"./controllers/properties/thermostatMode":[122,9,25],"./controllers/properties/thermostatMode.js":[122,9,25],"./controllers/properties/time":[129,9,15],"./controllers/properties/time.js":[129,9,15],"./controllers/properties/volume":[130,9,0,13],"./controllers/properties/volume.js":[130,9,0,13],"./deviceSelect/Device":[143,9,5,133],"./deviceSelect/Device.js":[143,9,5,133],"./deviceSelect/deviceExpand":[166,9,41],"./deviceSelect/deviceExpand.js":[166,9,41],"./deviceSelect/deviceExpandActions":[155,9,120],"./deviceSelect/deviceExpandActions.js":[155,9,120],"./deviceSelect/deviceExpandEvents":[157,9,121],"./deviceSelect/deviceExpandEvents.js":[157,9,121],"./deviceSelect/deviceExpandProperties":[156,9,122],"./deviceSelect/deviceExpandProperties.js":[156,9,122],"./deviceSelect/deviceSelect":[250,9,36],"./deviceSelect/deviceSelect.js":[250,9,36],"./deviceSelect/sofaCategoryFilter":[215,9,57],"./deviceSelect/sofaCategoryFilter.js":[215,9,57],"./devices/Television":[213,9,0,16,90],"./devices/Television.js":[213,9,0,16,90],"./devices/TvRemote":[184,9,67],"./devices/TvRemote.js":[184,9,67],"./devices/Zone":[214,9,2,3,6,123],"./devices/Zone.js":[214,9,2,3,6,123],"./devices/receiver":[209,9,0,18,89],"./devices/receiver.js":[209,9,0,18,89],"./devices/statusLock":[206,9,124],"./devices/statusLock.js":[206,9,124],"./dialogs/PinDialog":[216,9,4,17],"./dialogs/PinDialog.js":[216,9,4,17],"./dialogs/SofaDialog":[144,9,4,165],"./dialogs/SofaDialog.js":[144,9,4,165],"./directives/SetBrightness":[251,9,0,138],"./directives/SetBrightness.js":[251,9,0,138],"./index":[60,9],"./index.css":[99,7],"./index.js":[60,9],"./layout/NewLayoutProvider":[23,9],"./layout/NewLayoutProvider.js":[23,9],"./light/Light":[159,9,0,1,43],"./light/Light.js":[159,9,0,1,43],"./light/LightSliderBrightness":[149,9,0,103],"./light/LightSliderBrightness.js":[149,9,0,103],"./light/LightSliderColor":[151,9,1,109],"./light/LightSliderColor.js":[151,9,1,109],"./light/LightSliderTemperature":[150,9,0,104],"./light/LightSliderTemperature.js":[150,9,0,104],"./logo.svg":[285,7,172],"./other/Computer":[175,9,95],"./other/Computer.js":[175,9,95],"./other/ComputerList":[203,9,83],"./other/ComputerList.js":[203,9,83],"./other/Device":[177,9,96],"./other/Device.js":[177,9,96],"./other/DeviceList":[205,9,84],"./other/DeviceList.js":[205,9,84],"./other/Mode":[176,9,97],"./other/Mode.js":[176,9,97],"./other/ModeList":[204,9,85],"./other/ModeList.js":[204,9,85],"./other/Shade":[174,9,72],"./other/Shade.js":[174,9,72],"./other/Sprinkler":[252,9,86],"./other/Sprinkler.js":[252,9,86],"./other/VirtualList":[202,9,68],"./other/VirtualList.js":[202,9,68],"./player/CoverDimmer":[165,9,166],"./player/CoverDimmer.js":[165,9,166],"./player/NoPlayer":[208,9,147],"./player/NoPlayer.js":[208,9,147],"./player/PlayerArtOverlay":[178,9,125],"./player/PlayerArtOverlay.js":[178,9,125],"./player/PlayerArtOverlayButtons":[179,9,63],"./player/PlayerArtOverlayButtons.js":[179,9,63],"./player/PlayerBase":[164,9,98],"./player/PlayerBase.js":[164,9,98],"./player/PlayerCard":[207,9,0,7,45],"./player/PlayerCard.js":[207,9,0,7,45],"./player/PlayerCover":[181,9,7,167],"./player/PlayerCover.js":[181,9,7,167],"./player/PlayerVolume":[180,9,0,105],"./player/PlayerVolume.js":[180,9,0,105],"./serviceWorker":[68,9],"./serviceWorker.js":[68,9],"./theme/SofaTheme":[61,9],"./theme/SofaTheme.js":[61,9],"./theme/sofaThemeDark":[34,9],"./theme/sofaThemeDark.js":[34,9],"./theme/sofaThemeLight":[33,9],"./theme/sofaThemeLight.js":[33,9],"./thermostat/TemperatureSensor":[183,9,168],"./thermostat/TemperatureSensor.js":[183,9,168],"./thermostat/Thermostat":[212,9,0,106],"./thermostat/Thermostat.js":[212,9,0,106],"./user/UserProvider":[67,9],"./user/UserProvider.js":[67,9]};function a(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return Promise.all(t.slice(2).map(r.e)).then((function(){return r.t(a,t[1])}))}a.keys=function(){return Object.keys(n)},a.id=104,e.exports=a},11:function(e,t,r){"use strict";r.r(t),r.d(t,"useStream",(function(){return c})),r.d(t,"useApi",(function(){return l})),r.d(t,"NetworkContext",(function(){return u})),r.d(t,"default",(function(){return d}));var n=r(79),a=r(6),o=r(0),i=r.n(o),s="https://"+window.location.hostname,c=function(e){var t=Object(o.useState)(e),r=Object(a.a)(t,2),i=r[0],c=r[1],l=Object(o.useState)(void 0),u=Object(a.a)(l,2),d=u[0],p=u[1],m=Object(o.useState)(!1),f=Object(a.a)(m,2),h=f[0],v=f[1],g=Object(o.useState)([]),y=Object(a.a)(g,2),j=y[0],b=y[1],S=Object(o.useState)(!1),O=Object(a.a)(S,2),w=O[0],C=O[1],E=Object(o.useCallback)((function(e){var t=Object(n.a)(j);t.push(e),b(Object(n.a)(new Set(t)))}),[j]);return Object(o.useEffect)((function(){var e=!1,t=function(){if(i&&j.length>0&&!w){C(!0),console.log(".. Connecting event source:",i,j);var e=new EventSource(s+"/sse",{headers:{authorization:i},withCredentials:!0});e.addEventListener("message",a),e.addEventListener("error",n),e.addEventListener("open",r),p(e)}},r=function(){v(!0),C(!1)},n=function(){v(!1),C(!1),t()},a=function(e){for(var t=JSON.parse(e.data),r=0;r<j.length;r++)j[r](t)};return e||w||h||t(),function(){e=!0}}),[i,j,w,h]),{connected:h,streamStatus:function(){return d.status},setToken:c,closeStream:function(){v(!1),p(void 0)},addSubscriber:E}},l=function(e,t,r){var n=Object(o.useState)(!0),i=Object(a.a)(n,2),c=i[0],l=i[1],u=Object(o.useState)(!1),d=Object(a.a)(u,2),p=d[0],m=d[1],f=Object(o.useState)(!1),h=Object(a.a)(f,2),v=h[0],g=h[1],y=Object(o.useState)(r),j=Object(a.a)(y,2),b=j[0],S=j[1];return Object(o.useEffect)((function(){var n=!1,a=function(e){return n?r:(g(400!==e.status&&401!==e.status),m(!e.ok),l(!1),400!==e.status&&401!==e.status&&e.ok&&e.json?e.json():r)};return e&&!n&&(l(!0),fetch(s+"/"+e,{method:"GET",headers:{authorization:t}}).then(a).catch(a)).then((function(e){return!n&&S(e)})),function(){n=!0}}),[e,t,r]),{isLoading:c,hasError:p,loggedIn:v,data:b}},u=Object(o.createContext)();function d(e){var t=Object(o.useState)(!0),r=Object(a.a)(t,2),n=r[0],l=r[1],d=Object(o.useState)(!1),p=Object(a.a)(d,2),m=p[0],f=p[1],h=Object(o.useState)(x("token")),v=Object(a.a)(h,2),g=v[0],y=v[1],j=c(g,[]),b=j.streamConnected,S=j.streamStatus,O=j.setStreamToken,w=j.closeStream,C=j.addSubscriber;function E(e){return 400===e.status?(l(!1),console.log("Not logged in",e.status,e.statusText),{error:"login"}):401===e.status?(l(!1),console.log("Not logged in",e.status,e.statusText),{error:"login"}):e.ok?(f(!1),e.json()):(console.log("Error connecting",e.status,e.statusText),f(!0),{error:e.statusText})}function x(e){for(var t=e+"=",r=decodeURIComponent(document.cookie).split(";"),n=0;n<r.length;n++){for(var a=r[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}return i.a.createElement(u.Provider,{value:{connectError:m,streamConnected:b,streamStatus:S,loggedIn:n,getJSON:function(e){return g?fetch(s+"/"+e,{method:"GET",headers:{authorization:g}}).then((function(e){return E(e)})):(l(!1),new Promise((function(e,t){e(void 0)})))},postJSON:function(e,t){return g?fetch(s+"/"+e,{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",authorization:g},body:JSON.stringify(t)}).then((function(e){return E(e)})):(l(!1),new Promise((function(e,t){e(void 0)})))},login:function(e,t){console.log("Logging in as user",e,t);var r=new FormData;return r.append("user",e),r.append("password",t),fetch(s+"/login",{method:"post",body:r}).then((function(e){return e.json()})).then((function(e){return function(e){if(e.hasOwnProperty("token"))return function(e,t,r){var n=new Date;r=r||365,n.setTime(+n+864e5*r),window.document.cookie=e+"="+t+"; expires="+n.toGMTString()+"; path=/"}("token",e.token,365),console.log("GetCookie",x("token")),y(e.token),O(e.token),l(!0),e.token}(e)}))},logout:function(){document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",console.log("logging out"),fetch(s+"/logout",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return l(!1)})).then((function(e){return w()}))},addSubscriber:C}},e.children)}},20:function(e,t,r){"use strict";r.r(t);var n=r(39),a=r(40),o=r(91),i=r(90),s=r(92),c=r(0),l=r.n(c),u=r(41),d=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={hasError:!1,error:"",info:""},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){return this.state.hasError?l.a.createElement(u.default,{wide:this.props.wide,name:this.state.error.name,message:this.state.error.message}):this.props.children}}]),t}(c.Component);t.default=d},22:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r(0),a=r.n(n),o=r(29),i=r(73),s=r.n(i),c=r(36),l=r(269),u=r(108),d=Object(o.a)((function(e){return{content:{borderWidth:"thin",borderStyle:"solid",borderColor:e.palette.divider,display:"flex",margin:0,boxSizing:"border-box",padding:"0 8px 0 0",flexWrap:"wrap",alignItems:"center",flexGrow:1,minWidth:"320px",minHeight:80,flexBasis:0,position:"relative"},hover:{"&:hover":{backgroundColor:e.palette.background.hover,borderColor:e.palette.primary.dark}},nopad:{padding:0},list:{width:"100%"},nopadlist:{padding:0,width:"100%"},colorband:{borderLeft:"solid 5px #44F"},thinmargin:{margin:2,padding:0},normal:{padding:"4px !important"}}}));function p(e){var t=d(),r=window.innerWidth<=800,n=a.a.createElement(a.a.Fragment,null,e.nolist?a.a.createElement(c.a,{container:!0},e.children):a.a.createElement(u.a,{className:e.nopad?t.nopadlist:t.list},e.children));return a.a.createElement(c.a,{item:!0,xs:e.xs?e.xs:r||e.wide?12:4,className:e.thinmargin?t.thinmargin:t.normal},e.nopaper?a.a.createElement(a.a.Fragment,null,n):a.a.createElement(l.a,{elevation:e.elevation,className:s()(t.content,e.hover&&t.hover,e.nopad&&t.nopad,e.colorband&&t.colorband)},n))}p.defaultProps={elevation:0,wide:!1,thinmargin:!1,nopaper:!1}},23:function(e,t,r){"use strict";r.r(t),r.d(t,"LayoutContext",(function(){return s})),r.d(t,"LayoutProvider",(function(){return c}));var n=r(6),a=r(0),o=r.n(a),i=r(11),s=Object(a.createContext)({}),c=function(e){var t=Object(a.useContext)(i.NetworkContext).getJSON,r=Object(a.useState)(void 0),c=Object(n.a)(r,2),l=c[0],u=c[1],d=Object(a.useState)(function(){for(var e=decodeURIComponent(document.cookie).split(";"),t=0;t<e.length;t++){for(var r=e[t];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf("layout="))return JSON.parse(r.substring("layout=".length,r.length))}return{name:"Home",props:{},data:{},page:""}}()),p=Object(n.a)(d,2),m=p[0],f=p[1],h=Object(a.useState)({name:"",props:{}}),v=Object(n.a)(h,2),g=v[0],y=v[1],j=Object(a.useState)({name:"",props:{}}),b=Object(n.a)(j,2),S=b[0],O=b[1],w=window.innerWidth<=800,C=Object(a.useState)("System"),E=Object(n.a)(C,2),x=E[0],k=E[1];function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k("Home");var r={name:e,props:t,data:{type:"single"},page:m.page};f(r),T(r)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O({name:e,props:t})}function T(e){var t=new Date;return t.setTime(+t+864e5),window.document.cookie="layout="+JSON.stringify(e)+"; expires="+t.toGMTString()+"; path=/",e}return Object(a.useEffect)((function(){t("layout").then((function(e){u(e)}))}),[t]),Object(a.useEffect)((function(){if(void 0!==l){if(l.hasOwnProperty("error"))return console.log("Error getting layout",l),void f(void 0);if(w&&l.Home.hasOwnProperty("mobile"))return void k("Home");var e={name:"Home",props:{},data:l.Home};return f(e),void T(e)}}),[l,w]),o.a.createElement(s.Provider,{value:{layouts:l,layout:m,backPage:S,returnPage:g,applyLayout:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k("Home"!==e?"Home":"System");var r={name:e,props:t,data:l[e],page:m.page};f(r),T(r)},applyLayoutCard:L,applyLayoutPage:function(e){var t={name:m.name,props:m.props,data:m.data,page:e};f({name:m.name,props:m.props,data:m.data,page:e}),T(t)},applyHomePage:function(e){k("Home");var t={name:"Home",props:m.props,data:l.Home,page:e};f(t),T(t)},applyReturnPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y({name:e,props:t})},applyBackPage:P,goBack:function(){L(S.name,S.props),P("",{})},goHome:function(){var e={name:"Home",props:{},data:l.Home,page:l.Home.order[0]};f(e),f(e),T(e),w&&l.Home.hasOwnProperty("mobile")&&L(l.Home.mobile),k("System")},isMobile:w,setMasterButtonState:k,masterButtonState:x}},e.children)}},258:function(e,t,r){e.exports=r(60)},33:function(e,t,r){"use strict";r.r(t);var n=r(75),a=r(27),o=r.n(a),i=r(28),s=r.n(i);t.default=Object(n.a)({palette:{primary:{light:o.a[300],main:o.a[500],dark:o.a[700]},secondary:{light:s.a[300],main:s.a[500],dark:s.a[700]},background:{page:"#eee",hover:"rgba(255, 87, 34, 0.1)"},type:"light"}})},34:function(e,t,r){"use strict";r.r(t);var n=r(75),a=r(27),o=r.n(a),i=r(28),s=r.n(i);t.default=Object(n.a)({direction:"ltr",palette:{primary:{light:o.a[300],main:o.a[500],dark:o.a[700]},secondary:{light:s.a[300],main:s.a[500],dark:s.a[700]},text:{primary:"#c0c0c0"},background:{default:"#000",page:"#111",hover:"rgba(188, 54, 12, 0.1)",paper:"#222"},type:"dark"}})},41:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r(0),a=r.n(n),o=r(22),i=r(55),s=r(108),c=r(21),l=r(53),u=r(106),d=r.n(u);function p(e){return a.a.createElement(o.default,{wide:e.wide},a.a.createElement(s.a,null,a.a.createElement(c.a,null,a.a.createElement(i.default,{avatarState:"open"},a.a.createElement(d.a,null)),a.a.createElement(l.a,{primary:e.name,secondary:e.message})),a.a.createElement(c.a,null,a.a.createElement(l.a,{primary:"Reload",onClick:function(){return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),void window.location.reload(!0)}}))))}},43:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return i}));var n=r(0),a=r.n(n),o=r(22);function i(e){return a.a.createElement(o.default,{wide:!0,nopaper:!0})}},51:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o})),r.d(t,"AlexaController",(function(){return i})),r.d(t,"AlexaControllerProperty",(function(){return s}));var n=r(39),a=r(40),o=function(){function e(t){Object(n.a)(this,e),this.endpointId=t.endpointId,this.friendlyName=t.friendlyName,this.manufacturerName=t.manufacturerName,this.description=t.description,this.displayCategories=t.displayCategories,this.interfaces=[],this.interfaceobjects=[];for(var r=0;r<t.capabilities.length;r++){var a=t.capabilities[r].interface.split(".")[1];t.capabilities[r].hasOwnProperty("instance")&&(a=t.capabilities[r].instance.split(".")[1]),t.capabilities[r].interface.split(".")[1]&&!this.interfaces.includes(a)&&(this[a]=new i(this,t.capabilities[r]),this.interfaces.push(a),this.interfaceobjects.push(this[a]))}}return Object(a.a)(e,[{key:"hasData",value:function(){for(var e in this.interfaceobjects)for(var t in e.propertyobjects)if(null===t.value)return console.log("device is missing data",this.endpointId,this.friendlyName,e.controller,t),!1;return!0}},{key:"newtoken",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return((15&(e^crypto.getRandomValues(new Uint8Array(1))[0]))>>e/4).toString(16)}))}},{key:"responseHandler",value:function(e){if(e.hasOwnProperty("context"))for(var t=0;t<e.context.properties.length;t++){var r=e.context.properties[t],n=r.namespace.split(".")[1];r.hasOwnProperty("instance")&&(n=r.instance.split(".")[1]),this[n][r.name].value=r.value,this[n][r.name].timeOfSample=r.timeOfSample}return e}},{key:"properties",value:function(){for(var e=[],t=0;t<this.interfaces.length;t++)e=e.concat(this[this.interfaces[t]].properties);return e}},{key:"controllerForProperty",value:function(e){for(var t=0;t<this.interfaces.length;t++)if(this[this.interfaces[t]].properties.includes(e))return this.interfaces[t];return""}}]),e}(),i=function(){function e(t,r){if(Object(n.a)(this,e),this.device=t,this.namespace=r.interface.split(".")[0],this.controller=r.interface.split(".")[1],this.properties=[],this.propertyobjects=[],r.hasOwnProperty("configuration")&&(this.configuration=r.configuration),r.hasOwnProperty("inputs")&&(this.inputs=r.inputs),r.hasOwnProperty("instance")&&(this.instance=r.instance),r.hasOwnProperty("capabilityResources")&&(this.capabilityResources=r.capabilityResources),r.hasOwnProperty("properties")&&r.properties.hasOwnProperty("supported"))for(var a=0;a<r.properties.supported.length;a++)this[r.properties.supported[a].name]=new s,this.properties.push(r.properties.supported[a].name),this.propertyobjects.push(this[r.properties.supported[a].name])}return Object(a.a)(e,[{key:"directive",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://"+window.location.hostname,o={name:e,namespace:this.namespace+"."+this.controller,payloadVersion:"3",messageId:this.device.newtoken(),correlationToken:this.device.newtoken()};this.hasOwnProperty("instance")&&(o.instance=this.instance);var i={endpointId:this.device.endpointId,cookie:n,scope:{type:"BearerToken",token:"sofa-interchange-token"}},s={directive:{header:o,endpoint:i,payload:r}};return console.log("Sending device-based alexa command:",s),fetch(a+"/directive",{withCredentials:!0,credentials:"include",method:"post",body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){return t.device.responseHandler(e)})).then((function(e){return e}))}}]),e}(),s=function(){function e(){Object(n.a)(this,e),this.value=null}return Object(a.a)(e,[{key:"deepvalue",get:function(){return this.value?this.value.hasOwnProperty("value")?this.value.value:this.value:null}}]),e}()},54:function(e,t,r){"use strict";r.r(t),r.d(t,"DataContext",(function(){return l})),r.d(t,"deviceReducer",(function(){return d})),r.d(t,"default",(function(){return p}));var n=r(6),a=r(89),o=r(0),i=r.n(o),s=r(11),c=r(51),l=Object(o.createContext)();function u(){try{return JSON.parse(localStorage.getItem("devices"))}catch(e){}return{}}var d=function(e,t){if(t==={})return e;if(!t.hasOwnProperty("event"))return e;var r=0,n=Object(a.a)({},e),o="",i="";switch(t.event.header.name){case"DeleteReport":for(r=0;r<t.event.payload.endpoints.length;r++)t.event.payload.endpoints[r].endpointId in n&&delete n[t.event.payload.endpoints[r].endpointId];return n;case"AddOrUpdateReport":var s=u();for(s||(s={}),r=0;r<t.event.payload.endpoints.length;r++)s[t.event.payload.endpoints[r].endpointId]=t.event.payload.endpoints[r],n[t.event.payload.endpoints[r].endpointId]=new c.default(t.event.payload.endpoints[r]);return localStorage.setItem("devices",JSON.stringify(s)),n;case"Multistate":for(var l in t.state)if(l in n)for(r=0;r<t.state[l].context.properties.length;r++)i=(o=t.state[l].context.properties[r]).namespace.split(".")[1],o.hasOwnProperty("instance")&&(i=o.instance.split(".")[1]),n[l][i][o.name].value=o.value,n[l][i][o.name].timeOfSample=o.timeOfSample;return n;case"ChangeReport":if(t.event.endpoint.endpointId in n){for(r=0;r<t.event.payload.change.properties.length;r++)i=(o=t.event.payload.change.properties[r]).namespace.split(".")[1],o.hasOwnProperty("instance")&&(i=o.instance.split(".")[1]),n[t.event.endpoint.endpointId][i][o.name].value=o.value,n[t.event.endpoint.endpointId][i][o.name].timeOfSample=o.timeOfSample;for(r=0;r<t.context.properties.length;r++)i=(o=t.context.properties[r]).namespace.split(".")[1],o.hasOwnProperty("instance")&&(i=o.instance.split(".")[1]),n[t.event.endpoint.endpointId][i][o.name].value=o.value,n[t.event.endpoint.endpointId][i][o.name].timeOfSample=o.timeOfSample}return n;default:return e}};function p(e){var t=Object(o.useContext)(s.NetworkContext),r=t.getJSON,a=t.postJSON,p=t.connectError,m=t.loggedIn,f=t.addSubscriber,h=function(){var e={},t=u();for(var r in t)e[t[r].endpointId]=new c.default(t[r]);return e}(),v=Object(o.useState)({}),g=Object(n.a)(v,2),y=g[0],j=g[1],b=Object(o.useState)({}),S=Object(n.a)(b,2),O=S[0],w=S[1],C=Object(o.useState)({}),E=Object(n.a)(C,2),x=E[0],k=E[1],L=Object(o.useState)("Main"),P=Object(n.a)(L,2),T=P[0],A=P[1],N=Object(o.useReducer)(d,h),D=Object(n.a)(N,2),H=D[0],B=D[1],I=Object(o.useState)("sonos:player:RINCON_B8E937ECE1F001400"),W=Object(n.a)(I,2),R=W[0],M=W[1],F=Object(o.useState)(""),G=Object(n.a)(F,2),U=G[0],z=G[1];function J(e){return"OK"===e.EndpointHealth.connectivity.value.value}function V(e,t){e||(e="ALL"),Array.isArray(e)||(e=[e]);for(var r=[],n=0;n<e.length;n++){var a=e[n];for(var o in H)(H[o].displayCategories.includes(a)||"ALL"===a)&&(t&&!H[o].friendlyName.toLowerCase().includes(t.toLowerCase())||H[o].hasData()&&r.push(H[o]))}return r.sort((function(e,t){var r=e.friendlyName.toLowerCase(),n=t.friendlyName.toLowerCase();return r<n?-1:r>n?1:0})),r}return Object(o.useEffect)((function(){}),[H]),Object(o.useEffect)((function(){console.log("logged in changed to",m),!0===m&&(f(B),r("directives").then((function(e){return w(e)})),r("properties").then((function(e){return j(e)})),r("list/logic/virtualDevices").then((function(e){return k(e)})))}),[m]),i.a.createElement(l.Provider,{value:{devices:H,virtualDevices:x,directives:O,controllerProperties:y,deviceByEndpointId:function(e){if(e in H)return H[e]},deviceByFriendlyName:function(e){for(var t in H)if(H[t].friendlyName===e)return H[t]},devicesByFriendlyName:function(e){var t=[];for(var r in H)(""===e||H[r].friendlyName.includes(e))&&t.push(H[r]);return t.sort((function(e,t){var r=e.friendlyName.toLowerCase(),n=t.friendlyName.toLowerCase();return r<n?-1:r>n?1:0})),t},devicesByCategory:V,devicesByController:function(e,t){if(!e)return[];Array.isArray(e)||(e=[e]);for(var r=[],n=0;n<e.length;n++){var a=e[n];for(var o in H)H[o].interfaces.includes(a)&&(t&&!H[o].friendlyName.toLowerCase().includes(t.toLowerCase())||H[o].hasData()&&r.push(H[o]))}return r.sort((function(e,t){var r=e.friendlyName.toLowerCase(),n=t.friendlyName.toLowerCase();return r<n?-1:r>n?1:0})),r},propertyNamesFromDevice:function(e){for(var t=[],r=0;r<e.capabilities.length;r++)t.push(e.capabilities[r].interface);return t},isReachable:J,sortByName:function(e){return e.sort((function(e,t){var r=e.friendlyName.toLowerCase(),n=t.friendlyName.toLowerCase();return r<n?-1:r>n?1:0})),e},getChangeTimesForDevices:function(e,t){for(var r=[],n=0;n<t.length;n++)r.push(t[n].endpointId);return a("list/influx/last/"+e,r).then((function(e){return e}))},getHistoryForDevice:function(e,t,n){var a="list/influx/history/"+e+"/"+t;return n&&(a=a+"/"+n),r(a)},setArea:A,area:T,lightCount:function(e){var t=0,r=V("LIGHT");for(var n in r)"all"===e.toLowerCase()?t+=1:"off"===e.toLowerCase()?"OFF"!==r[n].PowerController.powerState.value&&J(r[n])||(t+=1):"on"===e.toLowerCase()&&"ON"===r[n].PowerController.powerState.value&&J(r[n])&&(t+=1);return t},defaultPlayer:R,setDefaultPlayer:M,userPlayer:U,setUserPlayer:z,getModes:function(e){for(var t={},r=0;r<e.interfaces.length;r++)if("ModeController"===e[e.interfaces[r]].controller){for(var n=e[e.interfaces[r]],a=n.capabilityResources.friendlyNames[0].value.text,o=[],i=0;i<n.configuration.supportedModes.length;i++)o[n.configuration.supportedModes[i].value]=n.configuration.supportedModes[i].modeResources.friendlyNames[0].value.text;t[a]=o}return t},loggedIn:m,connectError:p}},e.children)}},55:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r(0),a=r.n(n),o=r(29),i=r(73),s=r.n(i),c=r(270),l=r(274),u=Object(o.a)((function(e){return{off:{color:e.palette.primary.contrastText},on:{color:e.palette.primary.contrastText,background:e.palette.primary.main},notready:{color:e.palette.primary.contrastText,backgroundColor:"#bbb"},closed:{color:e.palette.primary.contrastText,backgroundColor:"#6a6"},open:{color:e.palette.primary.contrastText,backgroundColor:"#e66"},cool:{color:e.palette.primary.contrastText,backgroundColor:"#00796B"},mid:{color:e.palette.primary.contrastText,backgroundColor:"#558B2F"},hot:{color:e.palette.primary.contrastText,backgroundColor:"#E65100"},none:{color:e.palette.primary.dark,padding:"0 8px",fontSize:20}}})),d=Object(o.a)((function(e){return{normal:{color:e.palette.primary.main},off:{color:e.palette.text.disabled},on:{color:e.palette.primary.main},notready:{color:"#bbb"},closed:{color:"#6a6"},open:{color:"#e66"},cool:{color:"#00796B"},mid:{color:"#558B2F"},hot:{color:"#E65100"},base:{padding:"0 8px",fontSize:20}}}));function p(e){var t=u(),r=d();return a.a.createElement(c.a,{onClick:e.onClick,className:e.noback?s()(r.base,r[e.avatarState]):""},e.noback?a.a.createElement(a.a.Fragment,null,e.children):a.a.createElement(l.a,{className:t[e.avatarState],onClick:e.onClick},e.children))}},60:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(8),i=r.n(o),s=(r(99),r(62)),c=r(68);i.a.render(a.a.createElement(s.default,null),document.getElementById("root")),c.register()},61:function(e,t,r){"use strict";r.r(t),r.d(t,"ThemeContext",(function(){return u})),r.d(t,"default",(function(){return d})),r.d(t,"withThemeChange",(function(){return p}));var n=r(6),a=r(0),o=r.n(a),i=r(33),s=r(34),c=r(273),l=r(110),u=o.a.createContext();function d(e){var t=Object(a.useState)(""),r=Object(n.a)(t,2),d=r[0],p=r[1],m=Object(a.useState)({}),f=Object(n.a)(m,2),h=f[0],v=f[1];function g(){if(h.hasOwnProperty("palette"))return h;var e=(new Date).getHours();return e>17||e<8?s.default:i.default}return Object(a.useEffect)((function(){var e=(new Date).getHours();e>17||e<8?(p("dark"),v(s.default)):(p("light"),v(i.default))}),[]),o.a.createElement(u.Provider,{value:{colorScheme:d,sofaTheme:h,applyTheme:function(e){return"dark"===e?(p("dark"),v(s.default),s.default):"light"===e?(p("light"),v(i.default),i.default):g()},getTheme:g}},o.a.createElement(c.a,{theme:g()},o.a.createElement(l.a,null),e.children))}function p(e){return function(t){return o.a.createElement(u.Consumer,null,(function(r){return o.a.createElement(e,Object.assign({},t,r,{context:r,colorScheme:r.colorScheme,sofaTheme:r.sofaTheme,applyTheme:r.applyTheme}))}))}}},62:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r(6),a=r(0),o=r.n(a),i=r(63),s=r(64),c=r(20),l=r(110),u=r(54),d=r(23),p=r(67),m=r(61),f=r(11);function h(e){var t=Object(a.useState)(!1),r=Object(n.a)(t,2),h=r[0],v=r[1],g=Object(a.useState)(window.innerWidth),y=Object(n.a)(g,2),j=y[0],b=y[1],S=j<=800;function O(){b(window.innerWidth)}return Object(a.useEffect)((function(){window.addEventListener("resize",O)}),[]),o.a.createElement(m.default,null,o.a.createElement(f.default,null,o.a.createElement(p.default,null,o.a.createElement(d.LayoutProvider,null,o.a.createElement(u.default,null,o.a.createElement(i.default,{open:function(){v(!h)},mobile:S}),o.a.createElement(c.default,null,o.a.createElement(s.default,null))),o.a.createElement(l.a,null)))))}},63:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var n=r(0),a=r.n(n),o=r(29),i=r(23),s=r(11),c=r(105),l=r.n(c),u=r(93),d=r.n(u),p=r(94),m=r.n(p),f=r(103),h=r.n(f),v=r(81),g=Object(o.a)((function(e){return{list:{minWidth:320},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:20},desktopTop:{paddingTop:"env(safe-area-inset-top)"},phoneTop:{paddingTop:"env(safe-area-inset-top)",height:2},fab:{position:"fixed",bottom:16,right:16,marginBottom:"env(safe-area-inset-bottom)",zIndex:1200},fabBack:{position:"fixed",bottom:24,right:80,padding:0,marginBottom:"env(safe-area-inset-bottom)",boxSizing:"content-box",zIndex:1200}}}));function y(e){var t=g(),r=Object(n.useContext)(i.LayoutContext),o=r.applyLayoutCard,c=r.masterButtonState,u=r.goBack,p=r.goHome,f=r.backPage,y=Object(n.useContext)(s.NetworkContext),j=y.loggedIn,b=y.connectError;return!1===j||b?a.a.createElement(v.a,{className:t.fab,color:"primary",onClick:function(){return"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),void window.location.reload(!0)}},a.a.createElement(h.a,null)):a.a.createElement(a.a.Fragment,null,a.a.createElement(v.a,{className:t.fab,color:"primary",onClick:function(){return"Home"===c&&p(),void("System"===c&&o("SystemLayout"))}},"System"===c&&a.a.createElement(l.a,null),"Home"===c&&a.a.createElement(d.a,null)),f.name&&a.a.createElement(v.a,{size:"small",color:"primary",onClick:function(){return u()},className:t.fabBack},a.a.createElement(m.a,null)))}},64:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return j}));var n=r(6),a=r(0),o=r.n(a),i=r(23),s=r(11),c=r(29),l=r(36),u=r(20),d=r(43),p=r(65),m=r(21),f=r(53),h=r(47),v=r(66),g=r(41),y=Object(c.a)({controlArea:{margin:"8px auto",maxWidth:1440,boxSizing:"border-box",overflowY:"auto",width:"100%"},mobileControlArea:{margin:"8px auto",maxWidth:600,width:"100%",marginTop:"env(safe-area-inset-top)",paddingTop:8,boxSizing:"border-box",overflowY:"auto",minHeight:"100%",alignContent:"flex-start"},version:{paddingLeft:16,opacity:"0.5"}});function j(e){var t=Object(a.useContext)(i.LayoutContext),c=t.layout,j=t.layouts,b=t.isMobile,S=Object(a.useContext)(s.NetworkContext),O=S.connectError,w=S.streamError,C=S.loggedIn,E=y(),x=Object(a.useState)([]),k=Object(n.a)(x,2),L=k[0],P=k[1];return Object(a.useEffect)((function(){function e(e){var t={};e.forEach((function(e){var n;console.log("adding module",e),t[e]=(n=e,o.a.lazy((function(){return r(104)("./"+n)})))})),P(t)}console.log("layout",c),console.log("layouts",j),C&&(void 0===j?console.log("layouts not ready"):c&&c.hasOwnProperty("error")?console.log("Layout not ready",c.error):c&&b?j&&j.hasOwnProperty(c.name)&&j[c.name].hasOwnProperty("mobile")?e([j[c.name].mobile]):e([c.name]):(c&&j&&j.hasOwnProperty(c.name)&&j[c.name].hasOwnProperty("pages"),e([c.name])))}),[c,j,b,C]),C?o.a.createElement(l.a,{container:!0,spacing:b&&"single"===c.data.type?2:8,className:b?E.mobileControlArea:E.controlArea},"pages"===c.data.type&&o.a.createElement(u.default,{wide:e.wide},c.data.order.map((function(e){return e!==c.page&&b?null:o.a.createElement(p.default,{key:e,name:e,page:c.data.pages[e]})}))),"single"===c.data.type?o.a.createElement(o.a.Fragment,null,o.a.createElement(u.default,{wide:e.wide},function(e,t){if(L.hasOwnProperty(e)){var r=L[e];return o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(d.default,null)},o.a.createElement(r,Object.assign({key:e},t)))}return null}(c.name,c.props))):null,(w||O)&&o.a.createElement(l.a,{container:!0,spacing:2,className:b?E.mobileControlArea:E.controlArea},o.a.createElement(m.a,null,o.a.createElement(f.a,{primary:"Network not ready",secondary:w?"Server Side Event Stream not connected":null}))),o.a.createElement(h.a,{className:E.version,variant:"caption"},"2.2.12")):o.a.createElement(o.a.Fragment,null,O&&o.a.createElement(g.default,null),o.a.createElement(l.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:b?E.mobileControlArea:E.controlArea},o.a.createElement(v.default,null)))}},65:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return f}));var n=r(6),a=r(0),o=r.n(a),i=r(29),s=r(36),c=r(43),l=r(20),u=r(271),d=r(21),p=r(53),m=Object(i.a)((function(e){return{gridColumn:{margin:1,overflowX:"hidden",overflowY:"hidden",alignContent:"start",padding:"3px !important",backgroundColor:e.palette.background.page,borderRadius:"4px 4px 4px 4px",maxWidth:"33%"},mobileGridColumn:{margin:1,overflowX:"hidden",overflowY:"hidden",alignContent:"start",padding:"3px !important",backgroundColor:e.palette.background.page,borderRadius:"4px 4px 4px 4px"},paddedToolbar:{paddingBottom:"env(safe-area-inset-bottom)",marginBottom:"env(safe-area-inset-bottom)"}}}));function f(e){var t=m(),i=window.innerWidth<=800,f=Object(a.useState)([]),h=Object(n.a)(f,2),v=h[0],g=h[1];return Object(a.useEffect)((function(){if(e.page){var t=[];e.page.map((function(e){return t.push(e.module)})),function(e){var t={};e.forEach((function(e){console.log("Loading module",e),t[e]=o.a.lazy((function(){return r(104)("./"+e)}))})),g(t)}(t)}}),[e.page]),o.a.createElement(s.a,{container:!0,item:!0,spacing:1,key:e.name,xs:i?12:4,className:i?t.mobileGridColumn:t.gridColumn},o.a.createElement(d.a,null,o.a.createElement(p.a,{primary:e.name})),e.page.map((function(t,r){return o.a.createElement(l.default,{wide:!0,key:e.name+r},function(e,t,r){if(v.hasOwnProperty(e.module)){var n=v[e.module];return e.props.wide=!0,o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(c.default,{name:e.module})},o.a.createElement(n,Object.assign({key:e.module},e.props)))}return null}(t,e.name))})),i&&o.a.createElement(u.a,{className:t.paddedToolbar}))}},66:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var n=r(6),a=r(0),o=r.n(a),i=r(11),s=r(29),c=r(36),l=r(22),u=r(21),d=r(53),p=r(109),m=r(272),f=r(47),h=Object(s.a)({loginBox:{marginTop:"30%",margin:"auto"},controlArea:{height:"90%",margin:"8px auto",maxWidth:1440,boxSizing:"border-box",overflowY:"auto",width:"100%"}});function v(e){var t=Object(a.useContext)(i.NetworkContext).login,r=Object(a.useState)(""),s=Object(n.a)(r,2),v=s[0],g=s[1],y=Object(a.useState)(""),j=Object(n.a)(y,2),b=j[0],S=j[1],O=Object(a.useState)(""),w=Object(n.a)(O,2),C=w[0],E=w[1],x=h();function k(){t(v,b).then((function(e){return function(e){console.log("resulting token",e),e?(E(""),window.location.replace(window.location)):E("Incorrect credentials")}(e)}))}return o.a.createElement(c.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:x.controlArea},o.a.createElement(l.default,{wide:e.wide,className:x.loginBox},o.a.createElement(u.a,{style:{display:"flex",justifyContent:"center"}},o.a.createElement(f.a,{variant:"h6"},"Sofa Login")),o.a.createElement(u.a,null,o.a.createElement(p.a,{fullWidth:!0,variant:"outlined",onChange:function(e){return g(e.target.value)},id:"user",label:"User",type:"mail",defaultValue:""})),o.a.createElement(u.a,null,o.a.createElement(p.a,{fullWidth:!0,variant:"outlined",onChange:function(e){return S(e.target.value)},id:"password",label:"Password",type:"password",defaultValue:""})),o.a.createElement(u.a,null,o.a.createElement(d.a,{primary:C})),o.a.createElement(u.a,{style:{display:"flex",justifyContent:"center"}},o.a.createElement(m.a,{fullWidth:!0,onClick:function(){return k()}},"Login"))))}},67:function(e,t,r){"use strict";r.r(t),r.d(t,"UserContext",(function(){return i})),r.d(t,"default",(function(){return s}));var n=r(6),a=r(0),o=r.n(a),i=Object(a.createContext)();function s(e){var t=Object(a.useState)(""),r=Object(n.a)(t,2),s=r[0],c=r[1];return o.a.createElement(i.Provider,{value:{userPlayer:s,setUserPlayer:c}},e.children)}},68:function(e,t,r){"use strict";r.r(t),r.d(t,"register",(function(){return a})),r.d(t,"unregister",(function(){return i}));var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e){if("serviceWorker"in navigator){if(new URL("/client",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/client","/service-worker.js");n?(!function(e,t){fetch(e).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):o(t,e)}))}}function o(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function i(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},99:function(e,t,r){}},[[258,170,171]]]);
//# sourceMappingURL=main.04ac84a3.chunk.js.map