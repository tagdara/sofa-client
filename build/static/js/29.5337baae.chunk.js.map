{"version":3,"sources":["LightbulbOutline.js","GridSection.js","ToggleButton.js","automation/AutomationDevice.js","GridSearch.js","deviceSelect/Device.js","dialogs/SofaDialog.js","DeviceIcon.js","automation/AutomationInput.js","../node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js","CompositeDevice.js","automation/operatorButton.js","automation/UnitButton.js","DeviceDialog.js","automation/ScheduleStart.js","automation/ScheduleInterval.js","automation/ScheduleDays.js","automation/automationAction.js","automation/automationCondition.js","automation/automationTrigger.js","automation/automationSchedule.js","automation/automationTitle.js","automation/automationDetails.js","AutomationColumn.js","automation/automationSave.js","automation/automationHeader.js","AutomationLayout.js","../node_modules/@material-ui/icons/Close.js","../node_modules/@material-ui/icons/ExpandLess.js","../node_modules/@material-ui/icons/ExpandMore.js","../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js","../node_modules/@material-ui/icons/Remove.js","../node_modules/@material-ui/icons/Schedule.js","controllers lazy /^/.//.*$/ groupOptions: {} namespace object","../node_modules/@material-ui/icons/Favorite.js","controllers/properties lazy /^/.//.*$/ groupOptions: {} namespace object","../node_modules/@material-ui/icons/Add.js","../node_modules/@material-ui/icons/Event.js","../node_modules/@material-ui/core/esm/DialogContent/DialogContent.js","../node_modules/@material-ui/core/esm/DialogActions/DialogActions.js","../node_modules/@material-ui/icons/CropFree.js","../node_modules/@material-ui/icons/PlaylistPlay.js","../node_modules/@material-ui/icons/LowPriority.js","../node_modules/@material-ui/icons/UnfoldMore.js","../node_modules/@material-ui/icons/Save.js"],"names":["LightbulbOutlineIcon","props","d","muiName","useStyles","makeStyles","theme","base","margin","overflowX","alignContent","padding","borderRadius","gridColumn","overflowY","scrollColumn","height","nopad","background","backgroundColor","palette","page","GridSection","isMobile","useContext","LayoutContext","classes","useState","show","setShow","container","item","spacing","key","name","xs","className","classNames","scroll","primary","onClick","break","secondary","children","defaultProps","off","minWidth","marginLeft","on","light","main","color","contrastText","ToggleButton","size","buttonState","label","AutomationDevice","deviceSelect","setDeviceSelect","wide","undefined","device","displayCategories","friendlyName","remove","delete","index","reorder","moveUp","moveDown","open","close","select","newdevice","selectDevice","content","borderWidth","borderStyle","borderColor","divider","display","boxSizing","flexWrap","alignItems","flexGrow","minHeight","flexBasis","position","thinmargin","normal","GridItem","window","innerWidth","elevation","fullWidth","value","searchValue","onChange","e","setSearchValue","target","nopaper","Device","icons","TuneIcon","ListIcon","TouchAppIcon","SpeakerIcon","DataUsageIcon","SpeakerGroupIcon","TvIcon","showDetail","setShowDetail","button","category","pxSize","RealIcon","DeveloperBoardIcon","hasOwnProperty","fontSize","getIcon","edge","aria-label","showDevice","interfaces","map","iface","mode","properties","iprop","hover","deepvalue","JSON","stringify","slice","Object","keys","directives","idir","dialogPaper","maxHeight","Transition","React","forwardRef","ref","direction","SofaDialog","fullScreen","maxWidth","onClose","TransitionComponent","paper","tabs","tabValue","tabChange","withMobileDialog","DeviceIcon","AutomationInput","withStyles","input","border","transition","transitions","create","boxShadow","InputBase","DialogTitle","_props$disableTypogra","disableTypography","other","_objectWithoutProperties","createElement","_extends","clsx","root","Typography","component","variant","flex","placeholder","TableRow","TableCell","iconSize","width","stack","paddingLeft","justifyContent","tile","paddingRight","sliderPaper","flexDirection","nostack","marginRight","lightSwitch","lightbar","listItem","tableAuto","tableLayout","cola","colb","colc","CompositeDevice","modules","setModules","errorBlock","modulename","useEffect","mods","j","lazy","catch","default","length","Dialog","aria-labelledby","aria-describedby","id","DialogContent","Table","TableBody","Module","fallback","interface","renderSuspenseModule","DialogActions","Button","autoFocus","fontWeight","bigtext","operators","OperatorButton","anchor","setAnchor","Fragment","event","currentTarget","disabled","anchorEl","Boolean","option","selected","indexOf","setOperator","units","UnitButton","setUnit","DeviceDialog","devtype","DeviceContext","devicesByCategory","controllers","limit","setLimit","nameFilter","setNameFilter","setShowDevice","executeDirective","directive","console","log","handleScroll","innerHeight","document","documentElement","scrollTop","offsetHeight","addEventListener","removeEventListener","tall","endpointId","shortLabel","marginTop","marginBottom","ScheduleStart","type","thisdate","longdate","Date","toISOString","replace","split","shortTimeFormat","change","ScheduleInterval","toggle","unit","newunit","ScheduleDays","day","includes","sdays","splice","push","editDays","wideSelect","BootstrapInput","AutomationAction","pfd","propertyFromDirective","controllerForDirective","command","loadPropMod","propMod","setPropMod","interfaceProperty","controller","interfaceobj","capabilities","instance","getInterface","controllerName","directiveName","actionValues","av","otherdev","dev","dirs","shortIf","concat","payload","save","dir","prop","nolist","newitem","newval","handleChangeDirectiveName","action","deviceName","AutomationCondition","propertyName","controllerProperties","controllerForProperty","operator","AutomationTrigger","devProp","AutomationSchedule","schedule","setSchedule","editValues","edsc","changeValue","aspect","newschedule","toggleType","start","interval","days","AutomationTitle","newvalue","AutomationDetails","deviceByEndpointId","DataContext","runAutomation","conditions","SceneController","automation","lastrun","format","dialogActions","paddingBottom","listDialogContent","AutomationColumn","setReorder","setRemove","modmap","AutomationProperty","memo","getControllerProperties","devprops","controllerProp","deleteItem","newitems","items","itemtype","element","headerButtons","newItem","addItem","fabSave","bottom","right","zIndex","bottomSpacer","AutomationSave","saved","AutomationHeader","favorite","saveFavorite","AutomationLayout","setAutomation","setFavorite","actions","setActions","setConditions","triggers","setTriggers","schedules","setSchedules","gotReturn","setGotReturn","setSaved","title","setTitle","serverurl","location","hostname","applyLayoutCard","NetworkContext","getJSON","postJSON","saveType","checkCallbackItems","then","result","newauto","newactions","addaction","newconditions","addcondition","newtriggers","addtrigger","newschedules","addschedule","loadAutomation","newfavorite","automationName","itemModule","selector","goBack","_interopRequireDefault","require","defineProperty","exports","_react","_default","MenuItem","tabIndex","_props$component","_props$disableGutters","disableGutters","_props$role","role","tabIndexProp","ListItem","dense","gutters","typography","body1","_defineProperty","paddingTop","overflow","whiteSpace","breakpoints","up","body2","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","Error","code","ids","all","module","_props$dividers","dividers","WebkitOverflowScrolling","borderTop","borderBottom","_props$disableSpacing","disableSpacing"],"mappings":"0LAAA,mCAKA,SAASA,EAAqBC,GAC5B,OACE,kBAAC,IAAYA,EACX,0BAAMC,EAAE,wSAKdF,EAAqBG,QAAU,UAEhBH,a,sLCJTI,EAAYC,aAAW,SAAAC,GACzB,MAAO,CACHC,KAAM,CACFC,OAAQ,EACRC,UAAW,SACXC,aAAc,QACdC,QAAS,iBACTC,aAAc,mBAElBC,WAAY,CACRC,UAAW,UAEfC,aAAc,CACVD,UAAW,OACXE,OAAQ,QAEZC,MAAO,CACHN,QAAS,GAEbO,WAAY,CACRC,gBAAiBb,EAAMc,QAAQF,WAAWG,UAMvC,SAASC,EAAYrB,GAAQ,IAEhCsB,EAAaC,qBAAWC,iBAAxBF,SACFG,EAAUtB,IAHuB,EAIfuB,mBAAS1B,EAAM2B,MAJA,mBAIhCA,EAJgC,KAI1BC,EAJ0B,KAMvC,OACI,kBAAC,IAAD,CAAMC,WAAS,EAACC,MAAI,EAACC,QAAS,EAAGC,IAAKhC,EAAMiC,KAAMC,GAAIlC,EAAMkC,GACxDC,UAAYC,IAAWX,EAAQnB,KAAMN,EAAMqC,OAASZ,EAAQX,aAAeW,EAAQb,WAAYZ,EAAMiB,WAAaQ,EAAQR,WAAa,OAGtIjB,EAAMiC,MACH,kBAAC,IAAD,CAAMH,MAAI,EAACI,GAAI,GAAIC,UAAWV,EAAQT,OACtC,kBAAC,IAAD,CAAMmB,UAAWV,EAAQT,OACrB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAcsB,QAAStC,EAAMiC,KAAMM,QAAU,kBAAMX,GAASD,QACxDL,IAAatB,EAAMwC,QACnB,kBAAC,IAAD,KACKxC,EAAMyC,YAIhBnB,GAAYtB,EAAMwC,OACjB,kBAAC,IAAD,KACI,kBAAC,IAAD,KACKxC,EAAMyC,cAOzBd,GAAQ3B,EAAM0C,UAK5BrB,EAAYsB,aAAe,CACvBH,OAAO,EACPb,MAAM,EACNU,QAAQ,EACRH,GAAI,GACJjB,YAAY,I,iCC/EhB,oFAIMd,EAAYC,aAAW,SAAAC,GACzB,MAAO,CACHuC,IAAK,CACDC,SAAU,GACVC,WAAY,GAEhBC,GAAI,CACAD,WAAY,EACZD,SAAU,GACV,UAAY,CACR3B,gBAAiBb,EAAMc,QAAQmB,QAAQU,OAE3C9B,gBAAiBb,EAAMc,QAAQmB,QAAQW,KACvCC,MAAO7C,EAAMc,QAAQmB,QAAQa,kBAK1B,SAASC,EAAapD,GAEjC,IAAMyB,EAAUtB,IAEhB,OACI,kBAAC,IAAD,CAAQkD,KAAK,QAAQlB,UAAYV,EAAQzB,EAAMsD,aAAef,QAAUvC,EAAMuC,SACzEvC,EAAMuD,MAAQvD,EAAMuD,MAAQvD,EAAM0C,Y,iQCThC,SAASc,EAAiBxD,GAAQ,IAAD,EAEJ0B,oBAAS,GAFL,mBAErC+B,EAFqC,KAEvBC,EAFuB,KAa5C,OACI,kBAAC,IAAD,CAAM5B,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,GAC7B,kBAAC,IAAD,UACqBC,IAAf5D,EAAM6D,OACJ,oCACI,kBAAC,IAAD,KAAc,kBAAC,IAAD,OACd,kBAAC,IAAD,CAAQR,KAAK,SAASd,QAAS,kBAAMmB,GAAgB,KAArD,oBAGJ,oCACI,kBAAC,IAAD,KAAc,kBAAC,UAAD,CAAYzB,KAAMjC,EAAM6D,OAAOC,kBAAkB,MAC/D,kBAAC,IAAD,CAAcxB,QAAStC,EAAM6D,OAAOE,aAActB,UAAWzC,EAAM6D,OAAOC,kBAAkB,GAAIvB,QAAS,kBAAMmB,GAAgB,OAGrI1D,EAAM2D,MACJ,oCACM3D,EAAMgE,QACJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAYX,KAAK,QAAQd,QAAS,kBAAMvC,EAAMiE,OAAOjE,EAAMkE,SAAQ,kBAAC,IAAD,QAGzElE,EAAMmE,SACJ,kBAAC,IAAD,KACMnE,EAAMkE,MAAQ,GACZ,kBAAC,IAAD,CAAYb,KAAK,QAAQd,QAAS,kBAAMvC,EAAMoE,OAAOpE,EAAMkE,SAAQ,kBAAC,IAAD,OAEvE,kBAAC,IAAD,CAAYb,KAAK,QAAQd,QAAS,kBAAMvC,EAAMqE,SAASrE,EAAMkE,SAAQ,kBAAC,IAAD,UAMvFT,GACE,kBAAC,UAAD,CAAca,MAAM,EAAMC,MA1CtC,WACIb,GAAgB,IAyCsCc,OAtC1D,SAAsBC,GAClBzE,EAAM0E,aAAaD,GACnBf,GAAgB,S,iCC7BxB,qGAOMvD,EAAYC,aAAW,SAAAC,GACzB,MAAO,CAEHsE,QAAS,CACLC,YAAa,OACbC,YAAa,QACbC,YAAazE,EAAMc,QAAQ4D,QAC3BC,QAAS,OACTzE,OAAQ,EACR0E,UAAW,aACXvE,QAAS,WACTwE,SAAU,OACVC,WAAY,SACZC,SAAU,EACVvC,SAAU,QACVwC,UAAW,GACXC,UAAW,EACXC,SAAU,WACV1E,UAAW,QAEf2E,WAAY,CACRjF,OAAQ,EACRG,QAAS,GAEb+E,OAAQ,CACJ/E,QAAS,sBAMN,SAASgF,EAAS1F,GAE7B,IACMyB,EAAUtB,IACVmB,EAAWqE,OAAOC,YAFC,IAIzB,OACI,kBAAC,IAAD,CAAM9D,MAAI,EAACI,GAAIlC,EAAMkC,GAAKlC,EAAMkC,GAAMZ,GAAYtB,EAAM2D,KAAO,GAAK,EAAKxB,UAAYnC,EAAMwF,WAAa/D,EAAQ+D,WAAY/D,EAAQgE,QAChI,kBAAC,IAAD,CAAOI,UAAW7F,EAAM6F,UAAW1D,UAAWV,EAAQkD,SAClD,kBAAC,IAAD,CACImB,WAAS,EACTvC,MAAO,SACPwC,MAAO/F,EAAMgG,YACbC,SAAU,SAACC,GAAD,OAAOlG,EAAMmG,eAAeD,EAAEE,OAAOL,YAOnEL,EAAS/C,aAAe,CACpBkD,UAAW,EACXlC,MAAM,EACN6B,YAAY,EACZa,SAAS,I,sXChCE,SAASC,EAAOtG,GAE3B,IAAMuG,EAAQ,CAAC,cAAgBC,IAAU,iBAAmBC,IAAU,MAAQ1G,UAAsB,OAAS2G,IAAc,QAAUC,IAAa,WAAaC,IAAe,SAAWC,IAAkB,GAAKC,KAF9K,EAGEpF,oBAAS,GAHX,mBAG3BqF,EAH2B,KAGfC,EAHe,KAmBlC,OACI,kBAAC,UAAD,CAAUhG,OAAO,GACb,kBAAC,IAAD,CAAUiG,QAAM,EAAC1E,QAASvC,EAAMwE,OAAQ,kBAAMxE,EAAMwE,OAAOxE,EAAM6D,SAAU,kBAAMmD,GAAeD,KAC5F,kBAAC,IAAD,KAjBZ,SAAiBG,GAA2B,IAAjB7D,EAAgB,uDAAX,UAExB8D,EAAO,GACPC,EAASC,IAQb,MAPW,UAAPhE,IACA8D,EAAO,IAEPZ,EAAMe,eAAeJ,KACrBE,EAASb,EAAMW,IAGZ,kBAACE,EAAD,CAAU/D,KAAM8D,EAAQI,SAAUlE,IAMlBmE,CAAQxH,EAAM6D,OAAOC,oBACpC,kBAAC,IAAD,CAAcxB,QAAStC,EAAM6D,OAAOE,aAActB,UAAWzC,EAAM6D,OAAOC,oBAC1E,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAY2D,KAAK,MAAMC,aAAW,cAAcnF,QAAS,kBAAMvC,EAAM2H,WAAW3H,EAAM6D,UAClF,kBAAC,IAAD,SAIVkD,GACF,oCACM/G,EAAM6D,OAAO+D,WAAWC,KAAK,SAAAC,GAAK,OAChC,kBAAC,IAAD,CAAU9F,IAAK8F,GACX,kBAAC,IAAD,CAAOzE,KAAK,SACR,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,KAAYyE,GACZ,kBAAC,IAAD,gBAGR,kBAAC,IAAD,MACqB,QAAb9H,EAAM+H,MAA6B,aAAb/H,EAAM+H,MAAkC,KAAb/H,EAAM+H,OAC3D,oCACM/H,EAAM6D,OAAOiE,GAAOE,WAAWH,KAAK,SAAAI,GAAK,OAC3C,kBAAC,IAAD,CAAUC,OAAK,EAAClG,IAAK8F,EAAMG,EAAO1F,QAAS,kBAAMvC,EAAMwE,OAAOsD,EAAOG,KACjE,kBAAC,IAAD,KAAYA,GACoC,kBAAvCjI,EAAM6D,OAAOiE,GAAOG,GAAOE,UAChC,kBAAC,IAAD,KAAYC,KAAKC,UAAUrI,EAAM6D,OAAOiE,GAAOG,GAAOE,WAAWG,MAAM,EAAG,KAE1E,kBAAC,IAAD,KAAYtI,EAAM6D,OAAOiE,GAAOG,GAAOE,iBAMlC,QAAbnI,EAAM+H,MAA6B,cAAb/H,EAAM+H,MAAmC,KAAb/H,EAAM+H,OAC5D,oCACMQ,OAAOC,KAAKxI,EAAMyI,WAAWX,IAAQD,KAAK,SAAAa,GAAI,OAC5C,kBAAC,IAAD,CAAUR,OAAK,EAAClG,IAAK8F,EAAMY,EAAMnG,QAAS,kBAAMvC,EAAMwE,OAAOsD,EAAOY,KAChE,kBAAC,IAAD,KAAYA,GACZ,kBAAC,IAAD,iC,iCC3F5C,8DAOMvI,EAAYC,YAAW,CAEzBuI,YAAa,CACTtD,UAAW,OACXuD,UAAW,OACXpI,UAAW,YAKbqI,EAAaC,IAAMC,YAAW,SAAoB/I,EAAOgJ,GAC3D,OAAO,kBAAC,IAAD,eAAOC,UAAU,OAAOD,IAAKA,GAAShJ,OAGjD,SAASkJ,EAAWlJ,GAEhB,IAAMyB,EAAUtB,IAEhB,OACI,kBAAC,IAAD,CACIgJ,WAAYnJ,EAAMmJ,WAClBrD,UAAW9F,EAAM8F,UACjBsD,SAAUpJ,EAAMoJ,SAChB9E,KAAMtE,EAAMsE,KACZ+E,QAASrJ,EAAMuE,MACf+E,oBAAqBT,EACrBpH,QAAS,CAAE8H,MAAO9H,EAAQkH,cAEzB3I,EAAM0C,UAKnBwG,EAAWvG,aAAe,CACtByG,SAAU,KACVI,KAAM,GACNC,SAAU,GACVC,UAAW,GACX5D,WAAW,GAGA6D,wBAAmBT,I,iCChDlC,4NAae,SAASU,EAAW5J,GAE/B,IAAMuG,EAAQ,CAAC,cAAgBC,IAAU,iBAAmBC,IAAU,MAAQ1G,UAAsB,OAAS2G,IAAc,QAAUC,IAAa,WAAaC,IAAe,SAAWC,IAAkB,GAAKC,KAWhN,OATA,SAAiBI,GAA2B,IAAjB7D,EAAgB,uDAAX,UAExB+D,EAASC,IAIb,OAHId,EAAMe,eAAeJ,KACrBE,EAASb,EAAMW,IAEZ,kBAACE,EAAD,CAAU/D,KAAM,GAAIkE,SAAUlE,IAGlCmE,CAAQxH,EAAMiC,Q,iCC1BzB,6BAGM4H,EAAkBC,aAAW,SAAAzJ,GAAK,MAAK,CACzC0J,MAAO,CACHlH,SAAU,QACVlC,aAAc,EACd4E,SAAU,WACVrE,gBAAiBb,EAAMc,QAAQF,WAAWsI,MAC1CS,OAAQ,oBACRzC,SAAU,GACV7G,QAAS,sBACTuJ,WAAY5J,EAAM6J,YAAYC,OAAO,CAAC,eAAgB,eACtD,UAAW,CACPxJ,aAAc,EACdmE,YAAa,UACbsF,UAAW,wCAbCN,CAgBpBO,KAEWR,a,0JCNXS,EAAcxB,IAAMC,YAAW,SAAqB/I,EAAOgJ,GAC7D,IAAItG,EAAW1C,EAAM0C,SACjBjB,EAAUzB,EAAMyB,QAChBU,EAAYnC,EAAMmC,UAClBoI,EAAwBvK,EAAMwK,kBAC9BA,OAA8C,IAA1BD,GAA2CA,EAC/DE,EAAQC,YAAyB1K,EAAO,CAAC,WAAY,UAAW,YAAa,sBAEjF,OAAO8I,IAAM6B,cAAc,MAAOC,YAAS,CACzCzI,UAAW0I,YAAKpJ,EAAQqJ,KAAM3I,GAC9B6G,IAAKA,GACJyB,GAAQD,EAAoB9H,EAAWoG,IAAM6B,cAAcI,IAAY,CACxEC,UAAW,KACXC,QAAS,MACRvI,OAyBUoH,cA/CK,CAElBgB,KAAM,CACJvK,OAAQ,EACRG,QAAS,YACTwK,KAAM,aA0CwB,CAChCjJ,KAAM,kBADO6H,CAEZQ,G,4ECzCH,IAAMa,EAAc,kBAACC,EAAA,EAAD,KAAU,kBAACC,EAAA,EAAD,oBAExBlL,EAAYC,YAAW,CAEzBkL,SAAU,CACNvK,OAAQ,GACRwK,MAAO,IAEXC,MAAO,CACHzK,OAAQ,GACRiE,QAAS,OACTI,SAAU,EACVqG,YAAa,GACbC,eAAgB,gBAChBxG,SAAU,QAEdyG,KAAM,CACF3G,QAAS,OACTI,SAAU,EACVrE,OAAQ,GACR6K,aAAc,GAElBC,YAAa,CACT7G,QAAS,OACT8G,cAAe,MACfpL,QAAS,aACTyE,WAAY,UAEhB4G,QAAS,CACLhL,OAAQ,GACRiE,QAAS,OACTI,SAAU,EACVsG,eAAgB,gBAChBvG,WAAY,SACZD,SAAU,OACVkE,SAAU,IACVvG,SAAU,IACVoC,UAAW,aACX+G,YAAa,GAEjBC,YAAa,CACTnJ,WAAY,GAEhBoJ,SAAU,CACNX,MAAO,OACPvG,QAAS,OACTG,WAAY,SACZ2G,cAAe,UAEnBX,YAAa,CACTpK,OAAQ,GACRwK,MAAO,QAEXY,SAAU,CACNvD,UAAW,GACX2C,MAAO,QAEXa,UAAW,CACPC,YAAa,QAEjBC,KAAK,CACDf,MAAO,OAEXgB,KAAK,CACDhB,MAAO,MAEXiB,KAAK,CACDjB,MAAO,OAEXvK,MAAO,CACHN,QAAS,KAKF,SAAS+L,EAAgBzM,GAEpC,IAAMyB,EAAUtB,IACVmB,EAAWqE,OAAOC,YAAc,IAHK,EAIblE,mBAAS,IAJI,mBAIpCgL,EAJoC,KAI3BC,EAJ2B,KAuB3C,SAASC,EAAWC,GAChB,OAAO,kBAACzB,EAAA,EAAD,CAAUpJ,IAAK6K,EAAW,KAAK,kBAACxB,EAAA,EAAD,UAAwB,kBAACA,EAAA,EAAD,UAAwB,kBAACA,EAAA,EAAD,yBAA6BwB,IAevH,OAjCAC,qBAAU,WAGN,IADA,IAAIC,EAAK,GAFG,aAIR,IAAIF,EAAW7M,EAAM6D,OAAO+D,WAAWoF,GACvCD,EAAKF,GAAY/D,IAAMmE,MAAK,WACxB,IACI,OAAO,OAAO,KAAiBJ,GAAYK,OAAM,iBAAO,CAAEC,QAAS,kBAAMP,EAAWC,QAExF,SACI,OAAOD,EAAWC,QAPrBG,EAAI,EAAGA,EAAIhN,EAAM6D,OAAO+D,WAAWwF,OAAQJ,IAAM,IAW1DL,EAAWI,KACZ,CAAC/M,EAAM6D,OAAO+D,aAmBb,kBAACyF,EAAA,EAAD,CAAQlE,WAAY7H,EAAUwE,WAAS,EAACsD,SAAU,KAAO9E,MAAM,EAAMgJ,kBAAgB,qBAAqBC,mBAAiB,4BACvH,kBAAC,EAAD,CAAaC,GAAG,oBAAoBxN,EAAM6D,OAAOE,cACjD,kBAAC0J,EAAA,EAAD,CAAetL,UAAWb,EAAUG,EAAQT,MAAQ,MAChD,kBAAC0M,EAAA,EAAD,CAAOrK,KAAK,QAAQlB,UAAWV,EAAQ2K,WACnC,kBAACuB,EAAA,EAAD,KACQ,kBAACvC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAWlJ,UAAWV,EAAQ6K,MAA9B,QACA,kBAACjB,EAAA,EAAD,CAAWlJ,UAAWV,EAAQ8K,MAA9B,SACA,kBAAClB,EAAA,EAAD,CAAWlJ,UAAWV,EAAQ+K,MAA9B,QAGNxM,EAAM6D,OAAO+D,WAAWC,KAAK,SAAAC,GAAK,OAxBxD,SAA+B+E,GAE3B,GAAIH,EAAQpF,eAAeuF,GAAa,CACpC,IAAIe,EAAOlB,EAAQG,GACnB,OAAQ,kBAAC,WAAD,CAAU7K,IAAM6K,EAAagB,SAAU1C,GACnC,kBAACyC,EAAD,CAAQE,UAAY9N,EAAM6D,OAAOgJ,GAAchJ,OAAQ7D,EAAM6D,UAGzE,OAAO,kBAACuH,EAAA,EAAD,CAAUpJ,IAAK6K,GAAa,kBAACxB,EAAA,EAAD,oBAiBnB0C,CAAqBjG,SAKrC,kBAACkG,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAQ1L,QAASvC,EAAMuE,MAAOrB,MAAM,UAAUgL,WAAS,GAAvD,U,8IC5IV/N,EAAYC,YAAW,CAEzB6G,OAAQ,CACJmC,SAAU,GACVvG,SAAU,GACVC,WAAY,EACZyE,SAAU,GACV4G,WAAY,QAEhBC,QAAS,CACL7G,SAAU,GACV4G,WAAY,UAKdE,EAAY,CACd,IACA,KACA,IACA,KACA,IACA,MAGW,SAASC,EAAetO,GAEnC,IAAMyB,EAAUtB,IAF0B,EAGduB,mBAAS,MAHK,mBAGnC6M,EAHmC,KAG3BC,EAH2B,KAmB1C,OACI,kBAAC,IAAMC,SAAP,KACI,kBAAC,IAAD,CAAQjB,GAAI,KAAKxN,EAAMkE,MAAO3B,QAftC,SAAqBmM,GACjBF,EAAUE,EAAMC,gBAcwCxM,UAAWV,EAAQwF,OAAQ2H,SAAU5O,EAAM4O,UAC1F5O,EAAM+F,MAAQ/F,EAAM+F,MAAQ,KAGjC,kBAAC,IAAD,CAAMyH,GAAG,YAAYqB,SAAUN,EAAQjK,KAAMwK,QAAQP,GAASlF,QAftE,SAAqBqF,GACjBF,EAAU,QAeDH,EAAUxG,KAAI,SAACkH,EAAQ7K,GAAT,OACX,kBAAC,IAAD,CACIlC,IAAK+M,EACLC,SAAU9K,IAAUmK,EAAUY,QAAQjP,EAAM+F,OAC5CxD,QAAS,SAAAmM,GAAK,OAhBD5M,EAgB6BoC,EAf1DsK,EAAU,WACVxO,EAAMkP,YAAYb,EAAUvM,IAFhC,IAAiCA,GAiBbK,UAAWV,EAAQ2M,SAElBW,U,8IC1DnB5O,EAAYC,YAAW,CAEzB6G,OAAQ,CACJmC,SAAU,GACVvG,SAAU,MAKZsM,EAAQ,CACV,MACA,QACA,QAGW,SAASC,EAAWpP,GAE/B,IAAMyB,EAAUtB,IAFsB,EAGVuB,mBAAS,MAHC,mBAG/B6M,EAH+B,KAGvBC,EAHuB,KAmBtC,OACI,kBAAC,IAAMC,SAAP,KACI,kBAAC,IAAD,CAAQjB,GAAI,KAAKxN,EAAMkE,MAAO3B,QAftC,SAAqBmM,GACjBF,EAAUE,EAAMC,gBAcwCxM,UAAWV,EAAQwF,QAClEjH,EAAM+F,MAAQ/F,EAAM+F,MAAQ,OAGjC,kBAAC,IAAD,CAAMyH,GAAG,YAAYqB,SAAUN,EAAQjK,KAAMwK,QAAQP,GAASlF,QAftE,SAAqBqF,GACjBF,EAAU,QAeDW,EAAMtH,KAAI,SAACkH,EAAQ7K,GAAT,OACP,kBAAC,IAAD,CACIlC,IAAK+M,EACLC,SAAU9K,IAAUiL,EAAMF,QAAQjP,EAAM+F,OACxCxD,QAAS,SAAAmM,GAAK,OAhBD5M,EAgB6BoC,EAf1DsK,EAAU,WACVxO,EAAMqP,QAAQF,EAAMrN,IAFxB,IAAiCA,IAkBZiN,U,yKC3CV,SAASO,EAAatP,GAAQ,IAoBnBuP,EApBkB,EAEehO,qBAAWiO,iBAA1DC,EAFgC,EAEhCA,kBAAmBC,EAFa,EAEbA,YAAajH,EAFA,EAEAA,WAFA,EAGzB/G,mBAAS,OAAjBqG,EAHiC,sBAIdrG,mBAAS,IAJK,mBAIjCiO,EAJiC,KAI1BC,EAJ0B,OAKJlO,mBAAS,IALL,mBAKjCmO,EALiC,KAKrBC,EALqB,OAMJpO,mBAAS,MANL,mBAMjCiG,EANiC,KAMrBoI,EANqB,KA8BxC,SAASC,EAAiBlI,EAAOY,GAC2B,IAApDH,OAAOC,KAAKxI,EAAMyI,WAAWX,GAAOY,IAAO0E,OAC3CpN,EAAM6D,OAAOiE,GAAOmI,UAAUvH,GAE9BwH,QAAQC,IAAI,gCAAiCnQ,EAAMyI,WAAWX,GAAOY,IAoB7E,OA9CAoE,qBAAU,WACN,SAASsD,IAEDzK,OAAO0K,YAAcC,SAASC,gBAAgBC,YAAcF,SAASC,gBAAgBE,eACzFP,QAAQC,IAAI,qBAAsBR,EAAOA,EAAM,IAC/CC,EAASD,EAAM,KAInB,OADAhK,OAAO+K,iBAAiB,SAAUN,GAC3B,kBAAMzK,OAAOgL,oBAAoB,SAAUP,MACnD,CAACT,IAqCA,kBAAC,UAAD,CAAYrL,KAAMtE,EAAMsE,KAAMC,MAAOvE,EAAMuE,MAAO6E,SAAU,MACxD,kBAAC,UAAD,CAAanH,KAAM,UAAWQ,UAAW,kBAAC,IAAD,CAAQF,QAASvC,EAAMuE,OAAvB,SAA8ClC,QAAQ,EAAMuO,MAAM,GAC3G,kBAAC,UAAD,CAAYjN,MAAM,EAAMqC,YAAa6J,EAAY1J,eAAgB2J,KArCnDP,EAsCK,MApCT,QAAVA,GAA6B,KAAVA,EACVE,EAAkB,MAAOI,GAEtBvH,MAAM,EAAGqH,GAElBF,EAAkBF,IA+BK1H,KAAI,SAAChE,GAAD,OACtB,kBAAC,UAAD,CAAQ7B,IAAM6B,EAAOgN,WAAahN,OAAQA,EAAQkE,KAAMA,EAAM2H,YAAaA,EAAalL,OAAQxE,EAAMwE,OAASxE,EAAMwE,OAASwL,EAAkBvH,WAAYA,EAAYd,WAAYoI,OAEtLpI,GACE,kBAAC,UAAD,CAAiB9D,OAAQ8D,EAAYpD,MAxBrD,WACIwL,EAAc,OAuBuDtH,WAAYA,Q,iCC1EzF,2KAcMtI,EAAYC,YAAW,CACzB0Q,WAAY,CACR1L,SAAS,GAEb7B,MAAO,CACH6B,SAAS,EACTE,UAAU,EACV5E,QAAS,GAEbqJ,MAAO,CACHjH,WAAW,EACXiO,UAAU,EACV3L,SAAS,EACT4L,aAAa,EACbtQ,QAAS,KAKF,SAASuQ,EAAcjR,GAElC,IAAMyB,EAAUtB,IAehB,OACI,oCACA,kBAAC,IAAD,CAAM2B,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,GAC7B,kBAAC,IAAD,KACI,kBAAC,IAAD,KAAc,kBAAC,IAAD,OACd,kBAAC,IAAD,CAAcxB,UAAWV,EAAQ8B,MAAOjB,QAAQ,aAC9CtC,EAAMgE,OACJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAYzB,QAAS,kBAAMvC,EAAMiE,OAAOjE,EAAMkE,SAAQ,kBAAC,IAAD,QAExD,OAId,kBAAC,IAAD,CAAMpC,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,GAC7B,kBAAC,IAAD,CACIxB,UAAWV,EAAQsI,MACnBmH,KAAK,iBACL1D,GAAI,YACJjN,OAAQ,SACRwF,MAAO/F,EAAM+F,MAAQ/F,EAAM+F,MAjCvC,SAAyBoL,GACrB,IAAIC,GAAS,IAAIC,MAAOC,cAAcC,QAAQ,IAAI,IASlD,OARIJ,IACAC,EAASD,GAGTC,EAASI,MAAM,KAAKpE,OAAO,IAC3BgE,EAASA,EAASI,MAAM,KAAK,GAAG,IAAIJ,EAASI,MAAM,KAAK,IAGrDJ,EAuBoCK,GACnCxL,SAAU,SAACC,GAAD,OAAOlG,EAAM0R,OAAO1R,EAAMoG,OAAQF,EAAEE,OAAOL,c,iCCvErE,wIAUM5F,EAAYC,YAAW,CACzB0Q,WAAY,CACR1L,SAAS,GAEb2E,MAAO,CACHgH,UAAU,EACV3L,SAAS,EACT4L,aAAa,EACb5H,SAAU,GACV4C,YAAa,MAIN,SAAS2F,EAAiB3R,GAErC,IAAMyB,EAAUtB,IAMhB,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAcoC,QAASvC,EAAM4R,QAAQ,kBAAC,IAAD,OACrC,kBAAC,IAAD,CAAczP,UAAYV,EAAQqP,WAAYxO,QAAQ,UACtD,kBAAC,IAAD,CACIH,UAAWV,EAAQsI,MACnByD,GAAI,UACJjN,OAAQ,SACR2Q,KAAK,SACLnL,MAAO/F,EAAM+F,MACbE,SAAU,SAACC,GAAD,OAAOlG,EAAM0R,OAAO,WAAYxL,EAAEE,OAAOL,UAEvD,kBAAC,UAAD,CAAYA,MAAO/F,EAAM6R,KAAMxC,QAhBvC,SAAoByC,GAChB9R,EAAM0R,OAAO,OAAQI,S,iCC5B7B,oFAIe,SAASC,EAAa/R,GAiBjC,OACI,kBAAC,IAAD,KAhBkB,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OAiBnC6H,KAAI,SAACmK,GAAD,OAChB,kBAAC,UAAD,CAAchQ,IAAKgQ,EAAKzO,MAAOyO,EAAK1O,YAAatD,EAAM+F,OAAS/F,EAAM+F,MAAMkM,SAASD,GAAO,KAAO,MAAQzP,QAAS,SAAC2D,GAAD,OAhBhI,SAAkB8L,GACd,IAAIE,EAAM,GACNlS,EAAM+F,QACNmM,EAAMlS,EAAM+F,OAEZmM,EAAMD,SAASD,GACfE,EAAMC,OAAOD,EAAMjD,QAAQ+C,GAAK,GAEhCE,EAAME,KAAKJ,GAEfhS,EAAM0R,OAAO,OAAQQ,GAM8GG,CAASL,KAC/HA,S,iRCLf7R,EAAYC,YAAW,CAEzB8K,KAAM,CACFlG,QAAS,QAEbsN,WAAY,CACR/G,MAAO,UAITgH,EAAiBzI,aAAW,SAAAzJ,GAAK,MAAK,CACxC0J,MAAO,CACHlH,SAAU,QACVlC,aAAc,EACd4E,SAAU,WACVrE,gBAAiBb,EAAMc,QAAQF,WAAWsI,MAC1CS,OAAQ,oBACRzC,SAAU,GACV7G,QAAS,sBACTuJ,WAAY5J,EAAM6J,YAAYC,OAAO,CAAC,eAAgB,eACtD,UAAW,CACPxJ,aAAc,EACdmE,YAAa,UACbsF,UAAW,wCAbAN,CAgBnBO,KAGW,SAASmI,EAAiBxS,GAErC,IAAMyB,EAAUtB,IACVsS,EAAMC,EAAsBC,EAAuB3S,EAAM8B,KAAK8Q,SAAU5S,EAAM8B,KAAK8Q,SAH7C,EAIdlR,mBAASmR,EAAYJ,IAJP,mBAIrCK,EAJqC,KAI5BC,EAJ4B,KAKtCC,EAAoBN,EAAsB1S,EAAM8B,KAAKmR,WAAYjT,EAAM8B,KAAK8Q,SAC5EM,EA8EN,WAEI,QAAmBtP,IAAf5D,EAAM6D,OAAsB,OAChC,GAAI7D,EAAM6D,OAAOyD,eAAe,gBAC5B,IAAK,IAAI0F,EAAI,EAAGA,EAAIhN,EAAM6D,OAAOsP,aAAa/F,OAAQJ,IAClD,GAAIhN,EAAM6D,OAAOsP,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,KAAKxR,EAAM8B,KAAKmR,WAAY,CAC9E,QAA0BrP,IAAtB5D,EAAM8B,KAAKsR,eAA0ExP,IAAlD5D,EAAM6D,OAAOsP,aAAanG,GAAGc,UAAUsF,SAC1E,OAAOpT,EAAM6D,OAAOsP,aAAanG,GAErC,GAAIhN,EAAM8B,KAAKwF,eAAe,aAAetH,EAAM6D,OAAOsP,aAAanG,GAAG1F,eAAe,aACjFtH,EAAM8B,KAAKsR,WAAWpT,EAAM6D,OAAOsP,aAAanG,GAAGoG,SAAS5B,MAAM,KAAK,GACvE,OAAOxR,EAAM6D,OAAOsP,aAAanG,GAOrD,YADAkD,QAAQC,IAAI,uBAAuBnQ,EAAM8B,KAAKmR,WAAYjT,EAAM8B,KAAKsR,SAAUpT,EAAM6D,QA/FtEwP,GAEnB,SAASzG,EAAWC,GAChB,OAAO,kBAAC,IAAD,CAAW9G,MAAO,SAAS8G,IAGtC,SAASgG,EAAY5Q,GAEjB,YAAW2B,IAAP3B,EACO,KAEF6G,IAAMmE,MAAK,WAChB,IACI,OAAO,OAAO,KAA6BhL,GAAMiL,OAAM,iBAAO,CAAEC,QAAS,kBAAMP,EAAW3K,QAE9F,SACI,OAAO2K,EAAW3K,OAM9B,SAASyQ,EAAsBY,EAAgBC,GAC3C,QAAqB3P,IAAjB0P,QAA8C1P,IAAhB2P,GAG9BvT,EAAMyI,WAAWnB,eAAegM,IAAmBtT,EAAMyI,WAAW6K,GAAgBhM,eAAeiM,GAAgB,CACnH,IAAIC,EAAexT,EAAMyI,WAAW6K,GAAgBC,GACpD,IAAK,IAAIE,KAAMD,EACX,OAAOC,GAMnB,SAAShL,EAAWiL,GAEhB,IAAIC,EAAI3T,EAAM6D,OACV6P,IAAYC,EAAID,GACpB,IAAIE,EAAK,GACT,GAAID,EAAIrM,eAAe,gBACnB,IAAK,IAAI0F,EAAI,EAAGA,EAAI2G,EAAIR,aAAa/F,OAAQJ,IAAK,CAC9C,IAAI6G,EAAQF,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,GACvC,mBAAVqC,EACAD,EAAKA,EAAKE,OAAO,WAAWH,EAAIR,aAAanG,GAAGoG,SAAS5B,MAAM,KAAK,IAC7DxR,EAAMyI,WAAWnB,eAAeuM,KACvCD,EAAKA,EAAKE,OAAOvL,OAAOC,KAAKxI,EAAMyI,WAAWoL,MAI1D,OAAOD,EAGX,SAASzI,EAAY0B,GACjB,OAAO,kBAAC,IAAD,CAAW9G,MAAO8G,IAkB7B,SAASoD,EAAWY,EAAYyC,EAAgBV,GAA2C,IAAlCmB,EAAiC,uDAAzB,GAAeX,GAAU,gGACxE,WAAVR,IAAsBmB,EAAQ,MACpB,YAAVnB,IAAuBmB,EAAQ,OACnC/T,EAAMgU,KAAKhU,EAAMkE,MAAjB,eAA4BlE,EAAM8B,KAAlC,CAAwCmR,WAAWK,EAAgBV,QAAQA,EAASQ,SAAUA,EAAUrN,MAAOgO,KAwBnH,SAASpB,EAAuBsB,GAC5B,QAAmBrQ,IAAf5D,EAAM6D,aAA4BD,IAANqQ,EAEhC,IAAK,IAAIC,KAAQlU,EAAMyI,WAAY,CAE/B,GAAIzI,EAAMyI,WAAWyL,GAAM5M,eAAe2M,GACtC,OAAOC,EAEX,GAAIlU,EAAM8B,KAAKwF,eAAe,kBAAqC1D,IAAtB5D,EAAM8B,KAAKsR,UAChDpT,EAAMyI,WAAWyL,GAAM5M,eAAetH,EAAM8B,KAAK8Q,SACjD,OAAOsB,GAkCvB,OACI,kBAAC,UAAD,CAAUC,QAAQ,EAAMtO,UAAW,EAAGlC,MAAM,EAAMzB,GAAI,IAClD,kBAAC,UAAD,CAAoB2B,OAAQ7D,EAAM6D,OAAQK,MAAOlE,EAAMkE,MAAOQ,aApBtE,SAAsBD,GAElB,IAAI2P,EADJlE,QAAQC,IAAI,sBAAsB1L,GAElCsO,EAAWF,EAAYH,EAAsBjO,EAAU0O,aAAa,GAAGrF,UAAWrF,EAAWhE,EAAU0O,aAAa,GAAGrF,WAAW,MAClIsG,EAAQ,eAAIpU,EAAM8B,KAAX,CAAiBsR,SAAU3O,EAAU0O,aAAa,GAAGC,SAAUnR,KAAKwC,EAAUV,aAAc8M,WAAYpM,EAAUoM,WAAYoC,WAAWxO,EAAU0O,aAAa,GAAIP,QAAQnK,EAAWhE,EAAU0O,aAAa,GAAGrF,WAAW,GAAI/H,WAAOnC,IAC9O5D,EAAMgU,KAAKhU,EAAMkE,MAAOkQ,IAesEzQ,KAAM3D,EAAM2D,KAClFK,OAAQhE,EAAMgE,OAAQG,QAASnE,EAAMmE,QACrCC,OAAQpE,EAAMoE,OAAQC,SAAUrE,EAAMqE,SAAUJ,OAAQjE,EAAMiE,cACjEL,IAAf5D,EAAM6D,QACJ,kBAAC,IAAD,CAAM/B,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,EAAIxB,UAAWV,EAAQyJ,MACpD,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQ/I,UAAWV,EAAQ6Q,WAAYvM,WAjB9BnC,IAArB5D,EAAM8B,KAAK8Q,QACP5S,EAAM8B,KAAKwF,eAAe,kBAAqC1D,IAAtB5D,EAAM8B,KAAKsR,SAC7CpT,EAAM8B,KAAK8Q,QAAQ,IAAI5S,EAAM8B,KAAKsR,SAEtCpT,EAAM8B,KAAK8Q,QAEf,GAWqE3M,SAAU,SAACC,GAAD,OAnC1F,SAAmCmO,GAC/B,IAAId,EAAcc,EAIlBtB,EAAWF,EAAYH,EAAsBC,EAAuBY,EAAc/B,MAAM,KAAK,IAAK+B,EAAc/B,MAAM,KAAK,MAC3HxR,EAAMgU,KAAKhU,EAAMkE,MAAjB,eAA4BlE,EAAM8B,KAAlC,CAAwCmR,WAAWN,EAAuBY,EAAc/B,MAAM,KAAK,IAAKoB,QAAQW,EAAc/B,MAAM,KAAK,GAAI4B,SAAUG,EAAc/B,MAAM,KAAK,GAAIzL,WAAOnC,KA6B9F0Q,CAA0BpO,EAAEE,OAAOL,QAAQgE,MAAO,kBAACwI,EAAD,CAAgBtQ,KAAK,UAAUuL,GAAG,oBAC/J/E,IAAaZ,KAAI,SAAA0M,GAAM,OACrB,kBAAC,IAAD,CAAUvS,IAAKhC,EAAM6D,OAAOgN,WAAW0D,EAAQxO,MAAOwO,GAASA,cAM9D3Q,IAAf5D,EAAM6D,QACJ,kBAAC,IAAD,CAAM/B,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,EAAGxB,UAAWV,EAAQyJ,MACnD,kBAAC,IAAD,KACMgI,EAzGtB,SAA+BrG,GAE3B,QAAcjJ,IAAVkP,EAAqB,CACrB,GAAc,OAAVA,EACA,OAAO,KAEX,IAAIlF,EAAOkF,EACX,OAAQ,kBAAC,WAAD,CAAU9Q,IAAM6K,EAAagB,SAAW1C,KACpC,kBAACyC,EAAD,CAAQ9L,KAAM9B,EAAM8B,KAAMgM,UAAYoF,EAAerP,OAAQ7D,EAAM6D,OAAQuP,SAAUpT,EAAM8B,KAAKsR,SAAUnD,UAAWA,KAGjI,OAAO,kBAAC,IAAD,CAAWlK,MAAO,eA+FTgI,CAAsBiF,GACpB,QAKfhT,EAAM2D,MACL,oCACM3D,EAAMgE,QACJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAYX,KAAK,QAAQd,QAAS,kBAAMvC,EAAMiE,OAAOjE,EAAMkE,SAAQ,kBAAC,IAAD,QAGzElE,EAAMmE,SACJ,kBAAC,IAAD,KACMnE,EAAMkE,MAAQ,GACZ,kBAAC,IAAD,CAAYb,KAAK,QAAQd,QAAS,kBAAMvC,EAAMoE,OAAOpE,EAAMkE,SAAQ,kBAAC,IAAD,OAEvE,kBAAC,IAAD,CAAYb,KAAK,QAAQd,QAAS,kBAAMvC,EAAMqE,SAASrE,EAAMkE,SAAQ,kBAAC,IAAD,Y,yMC/N3F/D,EAAYC,YAAW,CAEzB2J,MAAO,CACHgH,UAAU,EACVjO,WAAY,EACZsC,SAAS,EACTE,UAAU,GAEdkP,WAAY,CACRpP,SAAS,EACTE,UAAU,EACV5E,QAAS,GAEbyL,SAAU,CACNzL,QAAS,SAEbwK,KAAM,CACFlG,QAAS,QAEbsN,WAAY,CACR/G,MAAO,UAKA,SAASkJ,EAAoBzU,GAExC,IAAMyB,EAAUtB,IACV+S,EAWN,WAEI,QAAmBtP,IAAf5D,EAAM6D,OAAsB,OAChC,GAAI7D,EAAM6D,OAAOyD,eAAe,gBAC5B,IAAK,IAAI0F,EAAI,EAAGA,EAAIhN,EAAM6D,OAAOsP,aAAa/F,OAAQJ,IAClD,GAAIhN,EAAM6D,OAAOsP,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,KAAKxR,EAAM8B,KAAKmR,WAAY,CAC9E,QAA0BrP,IAAtB5D,EAAM8B,KAAKsR,eAA0ExP,IAAlD5D,EAAM6D,OAAOsP,aAAanG,GAAGc,UAAUsF,SAC1E,OAAOpT,EAAM6D,OAAOsP,aAAanG,GAErC,GAAIhN,EAAM8B,KAAKwF,eAAe,aAAetH,EAAM6D,OAAOsP,aAAanG,GAAG1F,eAAe,aACjFtH,EAAM8B,KAAKsR,WAAWpT,EAAM6D,OAAOsP,aAAanG,GAAGoG,SAAS5B,MAAM,KAAK,GACvE,OAAOxR,EAAM6D,OAAOsP,aAAanG,GAOrD,YADAkD,QAAQC,IAAI,uBAAuBnQ,EAAM8B,KAAKmR,WAAYjT,EAAM8B,KAAKsR,SAAUpT,EAAM6D,QA5BtEwP,GAH4B,EAIjB3R,mBAASmR,EAAY7S,EAAM8B,KAAK4S,eAJf,mBAIxC5B,EAJwC,KAI/BC,EAJ+B,KAQ/C,SAAS9C,EAAWY,EAAYyC,EAAgBV,GAA2C,IAAlCmB,EAAiC,uDAAzB,GAAeX,GAAU,gGACxE,WAAVR,IAAsBmB,EAAQ,MACpB,YAAVnB,IAAuBmB,EAAQ,OACnC/T,EAAMgU,KAAKhU,EAAMkE,MAAjB,eAA4BlE,EAAM8B,KAAlC,CAAwCmR,WAAWK,EAAgBV,QAAQA,EAASQ,SAAUA,EAAUrN,MAAOgO,KAwBnH,SAASlB,EAAY5Q,GASjB,OARS6G,IAAMmE,MAAK,WACZ,IACI,OAAO,OAAO,KAA6BhL,GAAMiL,OAAM,iBAAO,CAAEC,QAAS,kBASrEN,EATsF5K,EAU/F,kBAAC,IAAD,CAAW8D,MAAO,SAAS8G,IADtC,IAAoBA,OAPR,SACI,OAAO,kBAAC,IAAD,CAAW9G,MAAO,UAAU9D,QAUnD,SAASkJ,EAAY0B,GACjB,OAAO,kBAAC,IAAD,CAAW9G,MAAO8G,IA2B7B,SAASpE,EAAWiL,GAEhB,IAAIC,EAAI3T,EAAM6D,OACV6P,IAAYC,EAAID,GACpB,IAAIE,EAAK,GACT,GAAID,EAAIrM,eAAe,gBACnB,IAAK,IAAI0F,EAAI,EAAGA,EAAI2G,EAAIR,aAAa/F,OAAQJ,IAAK,CAC9C,IAAI6G,EAAQF,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,GACvC,mBAAVqC,EACAD,EAAKA,EAAKE,OAAO,WAAWH,EAAIR,aAAanG,GAAGoG,SAAS5B,MAAM,KAAK,IAC7DxR,EAAMyI,WAAWnB,eAAeuM,KACvCD,EAAKA,EAAKE,OAAOvL,OAAOC,KAAKxI,EAAMyI,WAAWoL,MAI1D,OAAOD,EAyBX,OAjHA1D,QAAQC,IAAI,YAAanQ,EAAM2U,sBAkH3B,kBAAC,UAAD,CAAUR,QAAQ,EAAMtO,UAAW,EAAGlC,MAAM,EAAMzB,GAAI,IAClD,kBAAC,UAAD,CAAoB2B,OAAQ7D,EAAM6D,OAAQK,MAAOlE,EAAMkE,MAAOQ,aAXtE,SAAsBD,GAElB,IAAI2P,EADJlE,QAAQC,IAAI,sBAAsB1L,GAElCsO,EAAWF,EAhBf,SAA+BS,EAAgBC,GAC3C,QAAqB3P,IAAjB0P,QAA8C1P,IAAhB2P,GAG9BvT,EAAMyI,WAAWnB,eAAegM,IAAmBtT,EAAMyI,WAAW6K,GAAgBhM,eAAeiM,GAAgB,CACnH,IAAIC,EAAexT,EAAMyI,WAAW6K,GAAgBC,GACpD,IAAK,IAAIE,KAAMD,EACX,OAAOC,GASQf,CAAsBjO,EAAU0O,aAAa,GAAGrF,UAAWrF,EAAWhE,EAAU0O,aAAa,GAAGrF,WAAW,MAClIsG,EAAQ,eAAIpU,EAAM8B,KAAX,CAAiBsR,SAAU3O,EAAU0O,aAAa,GAAGC,SAAUnR,KAAKwC,EAAUV,aAAc8M,WAAYpM,EAAUoM,WAAYoC,WAAWxO,EAAU0O,aAAa,GAAIP,QAAQnK,EAAWhE,EAAU0O,aAAa,GAAGrF,WAAW,GAAI/H,WAAOnC,IAC9O5D,EAAMgU,KAAKhU,EAAMkE,MAAOkQ,IAMsEzQ,KAAM3D,EAAM2D,KAClFK,OAAQhE,EAAMgE,OAAQG,QAASnE,EAAMmE,QACrCC,OAAQpE,EAAMoE,OAAQC,SAAUrE,EAAMqE,SAAUJ,OAAQjE,EAAMiE,cACjEL,IAAf5D,EAAM6D,QACJ,kBAAC,IAAD,CAAM/B,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,EAAIxB,UAAWV,EAAQyJ,MACpD,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQ/I,UAAWV,EAAQ6Q,WAAYvM,MAAO/F,EAAM8B,KAAK4S,aACjDzO,SAAU,SAACC,GAAD,OAtDJmO,EAsDoCnO,EAAEE,OAAOL,MArD3EgN,EAAWF,EAAYwB,SACvBrU,EAAMgU,KAAKhU,EAAMkE,MAAjB,eAA4BlE,EAAM8B,KAAlC,CAAwC,WAAS8B,EAAW,WAAa5D,EAAM4U,sBAAsB5U,EAAM6D,OAAOgN,WAAYwD,GAAS,aAAgBA,KAF3J,IAAkCA,GAuDNtK,MAAO,kBAAC,UAAD,CAAiB9H,KAAK,UAAUuL,GAAG,oBAChDxN,EAAM2U,qBAAqB9M,KAAI,SAAA0M,GAAM,OACnC,kBAAC,IAAD,CAAUvS,IAAKhC,EAAM6D,OAAOgN,WAAW0D,EAAQxO,MAAOwO,GAASA,OAGnE,kBAAC,UAAD,CAAgBrQ,MAAOlE,EAAMkE,MAAO6B,MAAO/F,EAAM8B,KAAK+S,SAAW7U,EAAM8B,KAAK+S,SAAW,IAAM3F,YAhEjH,SAA2BnJ,GACvB/F,EAAMgU,KAAKhU,EAAMkE,MAAjB,eAA4BlE,EAAM8B,KAAlC,CAAwC,SAAYiE,eAmE9BnC,IAAf5D,EAAM6D,aAAgDD,IAA1B5D,EAAM8B,KAAK4S,cACtC,kBAAC,IAAD,CAAM5S,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,EAAIxB,UAAWV,EAAQyJ,MACpD,kBAAC,IAAD,KArFhB,SAA+B2B,GAE3B,QAAcjJ,IAAVkP,EAAqB,CACrB,GAAc,OAAVA,EACA,OAAO,KAEX,IAAIlF,EAAOkF,EACX,OAAQ,kBAAC,WAAD,CAAU9Q,IAAM6K,EAAagB,SAAW1C,KACpC,kBAACyC,EAAD,CAAQ9L,KAAM9B,EAAM8B,KAAMgM,UAAYoF,EAAerP,OAAQ7D,EAAM6D,OAAQuP,SAAUpT,EAAM8B,KAAKsR,SAAUnD,UAAWA,KAGjI,OAAO,kBAAC,IAAD,CAAWlK,MAAO,eA2EXgI,CAAqB/N,EAAM8B,KAAK4S,mB,wQC9JpDvU,EAAYC,YAAW,CAEzB8K,KAAM,CACFlG,QAAS,QAEbsN,WAAY,CACR/G,MAAO,UAKA,SAASuJ,EAAkB9U,GAEtC,IAAMyB,EAAUtB,IACV+S,EAGN,WAEI,QAAmBtP,IAAf5D,EAAM6D,OAAsB,OAChC,IAAI8P,EAAI3T,EAAM6D,OACd,GAAI8P,EAAIrM,eAAe,gBACnB,IAAK,IAAI0F,EAAI,EAAGA,EAAI2G,EAAIR,aAAa/F,OAAQJ,IACzC,GAAI2G,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,KAAKxR,EAAM8B,KAAKmR,WAAY,CACrE,QAA0BrP,IAAtB5D,EAAM8B,KAAKsR,eAAiExP,IAAzC+P,EAAIR,aAAanG,GAAGc,UAAUsF,SACjE,OAAOO,EAAIR,aAAanG,GAE5B,GAAIhN,EAAM8B,KAAKwF,eAAe,aAAeqM,EAAIR,aAAanG,GAAG1F,eAAe,aACxEtH,EAAM8B,KAAKsR,WAAWO,EAAIR,aAAanG,GAAGoG,SAAS5B,MAAM,KAAK,GAC9D,OAAOmC,EAAIR,aAAanG,GAO5C,YADAkD,QAAQC,IAAI,uBAAuBnQ,EAAM8B,KAAKmR,WAAYjT,EAAM8B,KAAKsR,SAAUpT,EAAM6D,QArBtEwP,GAH0B,EAIf3R,mBAASmR,EAAY7S,EAAM8B,KAAK4S,eAJjB,mBAItC5B,EAJsC,KAI7BC,EAJ6B,KAgC7C,SAASF,EAAY5Q,GACjB,QAAW2B,IAAP3B,EASJ,OARS6G,IAAMmE,MAAK,WACZ,IACI,OAAO,OAAO,KAA6BhL,GAAMiL,OAAM,iBAAO,CAAEC,QAAS,kBARrEN,EAQsF5K,EAP/F,kBAAC,IAAD,CAAW8D,MAAO,SAAS8G,IADtC,IAAoBA,OAUR,SACI,OAAO,kBAAC,IAAD,CAAW9G,MAAO,UAAU9D,QAoBnD,SAASwG,EAAWiL,GAEhB,QAAmB9P,IAAf5D,EAAM6D,aAAiCD,IAAX8P,EAAwB,MAAO,GAC/D,IAAIC,EAAI3T,EAAM6D,OACV6P,IAAYC,EAAID,GACpB,IAAIE,EAAK,GAET,GADA1D,QAAQC,IAAI,YAAYwD,IACnBA,EAAIrM,eAAe,gBAAmB,MAAO,GAClD,IAAK,IAAI0F,EAAI,EAAGA,EAAI2G,EAAIR,aAAa/F,OAAQJ,IACrChN,EAAMyI,WAAWnB,eAAeqM,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,MACzEoC,EAAKA,EAAKE,OAAOvL,OAAOC,KAAKxI,EAAMyI,WAAWkL,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,OAG/F,OAAOoC,EAGX,SAASzI,EAAY0B,GACjB,OAAO,kBAAC,IAAD,CAAW9G,MAAO8G,IA+B7B,SAASoD,EAAWY,EAAYyC,EAAgBV,GAA2C,IAAlCmB,EAAiC,uDAAzB,GAAeX,GAAU,gGACxE,WAAVR,IAAsBmB,EAAQ,MACpB,YAAVnB,IAAuBmB,EAAQ,OACnC7D,QAAQC,IAAI,cAAenQ,EAAMkE,MAAjC,eAA4ClE,EAAM8B,KAAlD,CAAwDmR,WAAWK,EAAgBV,QAAQA,EAASQ,SAAUA,EAAUrN,MAAOgO,KAC/H/T,EAAMgU,KAAKhU,EAAMkE,MAAjB,eAA4BlE,EAAM8B,KAAlC,CAAwCmR,WAAWK,EAAgBV,QAAQA,EAASQ,SAAUA,EAAUrN,MAAOgO,KAInH,OACI,kBAAC,UAAD,CAAUI,QAAQ,EAAMtO,UAAW,EAAGlC,MAAM,EAAMzB,GAAI,IAClD,kBAAC,UAAD,CAAoB2B,OAAQ7D,EAAM6D,OAAQK,MAAOlE,EAAMkE,MAAOQ,aAlBtE,SAAsBD,GAElB,IAAI2P,EADJlE,QAAQC,IAAI,sBAAsB1L,GAElCsO,EAAWF,EAxDf,SAA+BS,EAAgBC,GAC3C,QAAqB3P,IAAjB0P,QAA8C1P,IAAhB2P,GAG9BvT,EAAMyI,WAAWnB,eAAegM,IAAmBtT,EAAMyI,WAAW6K,GAAgBhM,eAAeiM,GAAgB,CACnH,IAAIC,EAAexT,EAAMyI,WAAW6K,GAAgBC,GACpD,IAAK,IAAIE,KAAMD,EACX,OAAOC,GAiDQf,CAAsBjO,EAAU0O,aAAa,GAAGrF,UAAWrF,EAAWhE,EAAU0O,aAAa,GAAGrF,WAAW,MAClIsG,EAAQ,eAAIpU,EAAM8B,KAAX,CAAiBsR,SAAU3O,EAAU0O,aAAa,GAAGC,SAAUnR,KAAKwC,EAAUV,aAAc8M,WAAYpM,EAAUoM,WAAYoC,WAAWxO,EAAU0O,aAAa,GAAIP,QAAQnK,EAAWhE,EAAU0O,aAAa,GAAGrF,WAAW,GAAI/H,WAAOnC,IAC9O5D,EAAMgU,KAAKhU,EAAMkE,MAAOkQ,IAasEzQ,KAAM3D,EAAM2D,KAClFK,OAAQhE,EAAMgE,OAAQG,QAASnE,EAAMmE,QACrCC,OAAQpE,EAAMoE,OAAQC,SAAUrE,EAAMqE,SAAUJ,OAAQjE,EAAMiE,cAEjEL,IAAf5D,EAAM6D,QACJ,kBAAC,IAAD,CAAM/B,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,EAAIxB,UAAWV,EAAQyJ,MACpD,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQ/I,UAAWV,EAAQ6Q,WAAYvM,MAAO/F,EAAM8B,KAAK4S,aAAe1U,EAAM8B,KAAK4S,aAAe,GAC1FzO,SAAU,SAACC,GAAD,OAhCJmO,EAgCoCnO,EAAEE,OAAOL,MA/B3EgN,EAAWF,EAAYwB,SACvBrU,EAAMgU,KAAKhU,EAAMkE,MAAjB,eAA4BlE,EAAM8B,KAAlC,CAAwC,WAAS8B,EAAW,WAAa5D,EAAM4U,sBAAsB5U,EAAM6D,OAAOgN,WAAYwD,GAAS,aAAgBA,KAF3J,IAAkCA,GAiCNtK,MAAO,kBAAC,UAAD,CAAiB9H,KAAK,WAAWuL,GAAG,qBACjDxN,EAAM2U,qBAAqB9M,KAAI,SAAAkN,GAAO,OACpC,kBAAC,IAAD,CAAU/S,IAAKhC,EAAM6D,OAAOgN,WAAWkE,EAAShP,MAAOgP,GAAUA,cAMhEnR,IAAf5D,EAAM6D,QACJ,kBAAC,IAAD,CAAM/B,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,EAAGxB,UAAWV,EAAQyJ,MACnD,kBAAC,IAAD,KAzDhB,SAA+B2B,GAC3B,QAAcjJ,IAAVkP,EAAqB,CACrB,GAAc,OAAVA,EACA,OAAO,KAEX,IAAIlF,EAAOkF,EACX,OAAQ,kBAAC,WAAD,CAAU9Q,IAAM6K,EAAagB,SAAW1C,KACnC,kBAACyC,EAAD,CAAQ9L,KAAM9B,EAAM8B,KAAMgM,UAAYoF,EAAerP,OAAQ7D,EAAM6D,OAAQuP,SAAUpT,EAAM8B,KAAKsR,SAAUnD,UAAWA,KAGlI,OAAO,KAgDOlC,CAAqB/N,EAAM8B,KAAK4S,iBAI3C1U,EAAM2D,MACL,oCACM3D,EAAMgE,QACJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAYX,KAAK,QAAQd,QAAS,kBAAMvC,EAAMiE,OAAOjE,EAAMkE,SAAQ,kBAAC,IAAD,QAGzElE,EAAMmE,SACJ,kBAAC,IAAD,KACMnE,EAAMkE,MAAQ,GACZ,kBAAC,IAAD,CAAYb,KAAK,QAAQd,QAAS,kBAAMvC,EAAMoE,OAAOpE,EAAMkE,SAAQ,kBAAC,IAAD,OAEvE,kBAAC,IAAD,CAAYb,KAAK,QAAQd,QAAS,kBAAMvC,EAAMqE,SAASrE,EAAMkE,SAAQ,kBAAC,IAAD,Y,8KChL3F/D,EAAYC,YAAW,CACzB8K,KAAM,CACFlG,QAAS,OACTtE,QAAS,KAIF,SAASsU,EAAmBhV,GAAQ,IAAD,EAEd0B,mBAAS1B,EAAM8B,MAFD,mBAEvCmT,EAFuC,KAE7BC,EAF6B,KAGxCzT,EAAUtB,IAEhB,SAASgV,EAAWZ,EAAQxO,GACxB,IAAIqP,EAAKH,EACTG,EAAKb,GAAQxO,EACbmP,EAAYE,GACZpV,EAAMgU,KAAKhU,EAAMkE,MAAOkR,GACxBlF,QAAQC,IAAInQ,EAAMkE,MAAOkR,GACzBlF,QAAQC,IAAIoE,EAAQxO,GAGxB,SAASsP,EAAYC,EAAQvP,GACzBmK,QAAQC,IAAI,cAAcmF,EAAQvP,GAClC,IAAIwP,EAAY,eAAKvV,EAAM8B,KAAZ,eAAmBwT,EAAUvP,IAC5C/F,EAAMgU,KAAKhU,EAAMkE,MAAOqR,GAG5B,SAASC,IACLtF,QAAQC,IAAI,UACR8E,EAAS3N,eAAe,SAA2B,aAAhB2N,EAAS/D,KAC5CmE,EAAY,OAAO,QAEnBA,EAAY,OAAO,YAI3B,OACI,kBAAC,UAAD,CAAUlB,QAAQ,EAAMtO,UAAW,EAAGlC,MAAM,EAAMzB,GAAI,IAClD,kBAAC,UAAD,CAAeyB,KAAM3D,EAAM2D,KAAMM,OAAQjE,EAAMiE,OAAQD,OAAQhE,EAAMgE,OAAQoC,OAAO,QAAQsL,OAAQyD,EAAYpP,MAAOkP,EAASQ,QAChI,kBAAC,IAAD,CAAM3T,MAAI,EAACI,GAAIlC,EAAM2D,KAAO,GAAK,EAAIxB,UAAWV,EAAQyJ,MAClD+J,EAAS3N,eAAe,SAA2B,aAAhB2N,EAAS/D,KAC1C,kBAAC,UAAD,CAAkBU,OAAQ4D,EAAY9D,OAAQyD,EAAYtD,KAAMoD,EAASpD,KAAM9L,MAAOkP,EAASS,WAE/F,kBAAC,UAAD,CAAc9D,OAAQ4D,EAAY9D,OAAQyD,EAAYpP,MAAOkP,EAASU,W,iCCpD1F,oGAOMxV,EAAYC,YAAW,CAEzB0K,KAAM,CACF3F,WAAY,WACZzE,QAAS,+BACTK,OAAQ,GACRiE,QAAS,QAEbzB,MAAO,CACHyB,QAAS,OACTI,SAAS,KAIF,SAASwQ,EAAgB5V,GAEpC,IAAMyB,EAAUtB,IAMhB,OACI,kBAAC,UAAD,CAAUgU,QAAQ,EAAMtO,UAAW,EAAGlC,MAAM,GAC5C,kBAAC,IAAD,CAAM7B,MAAI,EAACI,GAAK,GAAKC,UAAWV,EAAQqJ,MACpC,kBAAC,IAAD,CACIhF,WAAS,EACTvC,MAAO,OACPwC,WAAqBnC,IAAb5D,EAAMiC,KAAmB,GAAKjC,EAAMiC,KAC5CgE,SAAU,SAACC,GAAD,OAXH2P,EAWoB3P,EAAEE,OAAOL,WAV5C/F,EAAMgU,KAAK,QAAQ6B,GADvB,IAAmBA,KAaV7V,EAAM0C,a,iCCtCnB,kLAeMvC,EAAYC,YAAW,CAEzB0K,KAAM,CACF3F,WAAY,WACZH,QAAS,QAEbzB,MAAO,CACHyB,QAAS,OACTI,SAAS,KAIF,SAAS0Q,EAAkB9V,GAEtC,IAAMyB,EAAUtB,IACR4V,EAAuBxU,qBAAWyU,eAAlCD,mBAER,SAASE,IAAgC,IAAlBC,IAAiB,yDACpCH,EAAmB,kBAAkB/V,EAAMiC,MAAMkU,gBAAgBlG,UAAU,WAAY,GAAI,CAAC,WAAciG,IAG9G,OACI,kBAAC,UAAD,CAAU/B,QAAQ,EAAMtO,UAAW,EAAGlC,MAAM,GACxC,kBAAC,IAAD,CAAM7B,MAAI,EAACI,GAAK,GAAKC,UAAWV,EAAQqJ,MACpC,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAcxI,QAAS,WAAYG,UAAuC,UAA3BzC,EAAMoW,WAAWC,QAAoB,kBAAC,IAAD,CAAQC,OAAO,qBAAqBtW,EAAMoW,WAAWC,SAAqB,UAC9J,kBAAC,IAAD,CAAQ9T,QAAS,kBAAM0T,MAAiB,kBAAC,IAAD,OACxC,kBAAC,IAAD,CAAQ1T,QAAS,kBAAM0T,GAAc,KAAQ,kBAAC,IAAD,Y,+PCvB3D9V,EAAYC,YAAW,CAEzBmW,cAAe,CACXC,cAAe,+BAEnBC,kBAAmB,CACf/V,QAAS,KAKF,SAASgW,EAAiB1W,GAErC,IAAMyB,EAAUtB,IACRmB,EAAaC,qBAAWC,iBAAxBF,SAHoC,EAIqBC,qBAAWiO,iBAApEuG,EAJoC,EAIpCA,mBAAoBpB,EAJgB,EAIhBA,qBAAsBlM,EAJN,EAIMA,WAJN,EAMd/G,oBAAS,GANK,mBAMrCyC,EANqC,KAM5BwS,EAN4B,OAOhBjV,oBAAS,GAPO,mBAOrCsC,EAPqC,KAO7B4S,EAP6B,KAStCC,EAAO,CAAC,SAAY/B,UAAoB,WAAaL,UAAqB,QAAUjC,UAAkB,UAAYwC,WAClH8B,EAAqBhO,IAAMiO,KAAKF,EAAO7W,EAAMiC,OAqBnD,SAAS+U,EAAwBnG,GAE7B,IAAIoG,EAAS,GACb,GAAIpG,EAEA,IADA,IAAI8C,EAAIoC,EAAmBlF,GAClB7D,EAAI,EAAGA,EAAI2G,EAAIR,aAAa/F,OAAQJ,SAC+BpJ,IAApE+Q,EAAqBhB,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,MAC9DtB,QAAQC,IAAI,WAAY5H,OAAOC,KAAKmM,EAAqBhB,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,KAAMmD,EAAqBhB,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,KACtKyF,EAASA,EAASnD,OAAOvL,OAAOC,KAAKmM,EAAqBhB,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,OAM/G,OADAtB,QAAQC,IAAI,WAAW8G,GAChBA,EAGX,SAASrC,EAAsB/D,EAAYqG,GAEvC,GAAIrG,EAEA,IADA,IAAI8C,EAAIoC,EAAmBlF,GAClB7D,EAAI,EAAGA,EAAI2G,EAAIR,aAAa/F,OAAQJ,IACzC,QAAwEpJ,IAApE+Q,EAAqBhB,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,KAC1DjJ,OAAOC,KAAKmM,EAAqBhB,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,KAAKS,SAASiF,GACxF,OAAOvD,EAAIR,aAAanG,GAAGc,UAAU0D,MAAM,KAAK,GAUpE,SAAS2F,EAAWjT,GAChBgM,QAAQC,IAAI,gBAAgBjM,EAAM,OAAOlE,EAAMiC,MAC/C,IAAImV,EAAS,YAAIpX,EAAMqX,OACvBD,EAASjF,OAAOjO,EAAO,GACvBlE,EAAMgU,KAAKhU,EAAMsX,SAASF,GAG9B,SAASpD,EAAK9P,EAAOpC,GACjBoO,QAAQC,IAAI,gBAAgBjM,EAAMpC,GAClC,IAAIsV,EAAS,YAAIpX,EAAMqX,OACvBD,EAASlT,GAAOpC,EAChB9B,EAAMgU,KAAKhU,EAAMsX,SAAUF,GAC3BlH,QAAQC,IAAI,eAAenQ,EAAMsX,SAAS,UAAUF,GAGxD,SAAShT,EAAOF,GACZ,GAAIA,EAAM,GAAG,EAAG,CACZgM,QAAQC,IAAI,iBAAiBjM,EAAMlE,EAAMqX,MAAMnT,GAAQlE,EAAMqX,OAC7D,IAAID,EAAS,YAAIpX,EAAMqX,OACnBE,EAAUH,EAASlT,GACvBkT,EAASjF,OAAOjO,EAAO,GACvBkT,EAASjF,OAAOjO,EAAM,EAAG,EAAGqT,GAC5BrH,QAAQC,IAAI,gBAAiBiH,EAASlT,EAAM,GAAIkT,GAChDpX,EAAMgU,KAAKhU,EAAMsX,SAAUF,IAInC,SAAS/S,EAASH,GACd,GAAIA,EAAM,GAAGlE,EAAMqX,MAAMjK,OAAQ,CAC7B,IAAIgK,EAAS,YAAIpX,EAAMqX,OACnBE,EAAUH,EAASlT,GACvBkT,EAASjF,OAAOjO,EAAO,GACvBkT,EAASjF,OAAOjO,EAAM,EAAG,EAAGqT,GAC5BvX,EAAMgU,KAAKhU,EAAMsX,SAAUF,IAInC,SAAS3F,EAAgBN,GACrB,IAAIC,GAAS,IAAIC,MAAOC,cAAcC,QAAQ,IAAI,IAUlD,OARIJ,IACAC,EAASD,GAGTC,EAASI,MAAM,KAAKpE,OAAO,IAC3BgE,EAASA,EAASI,MAAM,KAAK,GAAG,IAAIJ,EAASI,MAAM,KAAK,IAGrDJ,EAwCX,IAAMoG,EAAgB,oCACV,kBAAC,IAAD,CAAYjV,QAAU,kBAtClC,WACI,IAAIkV,EAAQ,GACS,aAAjBzX,EAAMsX,UACNG,EAAQ,CAAC,KAAO,WAAY,SAAW,EAAG,KAAO,OAAQ,MAAQhG,KACjEzR,EAAMgU,KAAKhU,EAAMsX,SAAjB,sBAA8BtX,EAAMqX,OAApC,CAA2CI,MACnB,WAAjBzX,EAAMsX,UACbG,EAAQ,CACJ,KAAQ,UACR,gBAAc7T,EACd,gBAAcA,EACd,aAAWA,EACX,gBAAcA,GAElB5D,EAAMgU,KAAKhU,EAAMsX,SAAjB,sBAA8BtX,EAAMqX,OAApC,CAA2CI,MACnB,cAAjBzX,EAAMsX,UACbG,EAAQ,CACJ,KAAQ,WACR,gBAAc7T,EACd,WAASA,EACT,kBAAgBA,EAChB,gBAAcA,EACd,gBAAcA,GAElB5D,EAAMgU,KAAKhU,EAAMsX,SAAjB,sBAA8BtX,EAAMqX,OAApC,CAA2CI,MACnB,YAAjBzX,EAAMsX,WACbG,EAAQ,CACJ,KAAQ,WACR,gBAAc7T,EACd,WAASA,EACT,kBAAgBA,EAChB,gBAAcA,EACd,gBAAcA,GAElB5D,EAAMgU,KAAKhU,EAAMsX,SAAjB,sBAA8BtX,EAAMqX,OAApC,CAA2CI,MAKXC,IAAYvV,UAAWV,EAAQwF,QACvD,kBAAC,IAAD,CAASM,SAAS,WAEpBgB,OAAOC,KAAKxI,EAAMqX,OAAOjK,OAAO,GAClC,kBAAC,IAAD,CAAY7K,QAAU,WAAQqU,GAAW5S,GAAS2S,GAAW,IAAWxU,UAAWV,EAAQwF,QACvF,kBAAC,IAAD,CAAYM,SAAS,WAGL,YAAjBvH,EAAMsX,UAAwB/O,OAAOC,KAAKxI,EAAMqX,OAAOjK,OAAO,GACjE,kBAAC,IAAD,CAAY7K,QAAU,WAAQqU,GAAU,GAAQD,GAAYxS,IAAYhC,UAAWV,EAAQwF,QACvF,kBAAC,IAAD,CAAgBM,SAAS,YAKzC,OAEQ,kBAAC,UAAD,CAAatF,KAAMjC,EAAMiC,KAAMQ,UAAY+U,GAEzCjP,OAAOC,KAAKxI,EAAMqX,OAAOjK,OAAO,GAC9B,kBAAC,IAAMqB,SAAP,KACMzO,EAAMqX,MAAMxP,KAAI,SAAC/F,EAAKoC,GAAN,OACd,kBAAC,UAAD,CAAelC,IAAKhC,EAAMsX,SAASpT,GAChB,aAAjBlE,EAAMsX,SACJ,kBAACR,EAAD,CAAoB9U,IAAKF,EAAK+O,WAAW/O,EAAKiE,MAAOiO,KAAMA,EAAMhQ,OAAQA,EAAQC,OAAQkT,EAAYjT,MAAOA,EAAOpC,KAAMA,EAAM6B,KAAMrC,IAErI,kBAACwV,EAAD,CAAoB9U,IAAKF,EAAK+O,WAAW/O,EAAKiE,MAAO3B,OAAQA,EAAQC,SAAUA,EAAU2P,KAAMA,EAAMhQ,OAAQA,EAAQG,QAASA,EAASF,OAAQkT,EAC3IjT,MAAOA,EAAOpC,KAAMA,EAAM+B,YAA2BD,IAAlB9B,EAAK+O,gBAAyBjN,EAAYmS,EAAmBjU,EAAK+O,YACrG+D,sBAAuBA,EACvBnM,WAAYA,EAAYkM,qBAAuBqC,EAAwBlV,EAAK+O,YAAalN,KAAMrC,Y,iCCrN/H,8GAQMnB,EAAYC,YAAW,CACzBuX,QAAS,CACLpS,SAAU,QACVqS,OAAQ,GACRC,MAAO,GACPnX,QAAS,EACTsQ,aAAc,8BACd/L,UAAW,cACX6S,OAAQ,MAEZC,aAAc,CACVhH,UAAW,GACXC,aAAc,iCAIP,SAASgH,EAAehY,GAEnC,IAAMyB,EAAUtB,IAEhB,OACI,kBAAC,IAAMsO,SAAP,KACI,kBAAC,IAAD,CAAStM,UAAWV,EAAQsW,gBACzB/X,EAAMiY,OACL,kBAAC,IAAD,CAAK5U,KAAK,QAAQH,MAAM,UAAUX,QAAU,SAAC2D,GAAD,OAAMlG,EAAMgU,QAAS7R,UAAWV,EAAQkW,SAChF,kBAAC,IAAD,U,iCCjCpB,yHAOe,SAASO,EAAiBlY,GAErC,OACI,kBAAC,UAAD,CAAaiC,KAAM,cACf,kBAAC,UAAD,CAAiBA,KAAMjC,EAAMiC,KAAM+R,KAAMhU,EAAMgU,MAC3C,kBAAC,UAAD,CAAc1Q,YAAatD,EAAMmY,SAAW,KAAO,MAAQ5V,QAAU,kBAAMvC,EAAMoY,cAAcpY,EAAMmY,YACjG,kBAAC,IAAD,CAAc5Q,SAAS,YAG/B,kBAAC,UAAD,CAAmB6O,WAAYpW,EAAMoW,WAAYnU,KAAMjC,EAAMiC,U,uKCP1D,SAASoW,EAAiBrY,GAAQ,IAAD,EAER0B,mBAAS,IAFD,mBAErC0U,EAFqC,KAEzBkC,EAFyB,OAGZ5W,oBAAS,GAHG,mBAGrCyW,EAHqC,KAG3BI,EAH2B,OAId7W,mBAAS,IAJK,mBAIrC8W,EAJqC,KAI5BC,EAJ4B,OAKR/W,mBAAS,IALD,mBAKrCwU,EALqC,KAKzBwC,EALyB,OAMZhX,mBAAS,IANG,mBAMrCiX,EANqC,KAM3BC,EAN2B,OAOVlX,mBAAS,IAPC,mBAOrCmX,EAPqC,KAO1BC,EAP0B,OAQXpX,oBAAS,GARE,mBAQrCqX,EARqC,KAQ3BC,EAR2B,OASlBtX,oBAAS,GATS,mBASrCuW,EATqC,KAS9BgB,EAT8B,OAUlBvX,mBAAS1B,EAAMiC,MAVG,mBAUrCiX,EAVqC,KAU9BC,EAV8B,KAWtCC,EAAU,WAAWzT,OAAO0T,SAASC,SAXC,EAYN/X,qBAAWC,iBAAzC+X,EAZoC,EAYpCA,gBAAiBjY,EAZmB,EAYnBA,SAZmB,EAadC,qBAAWiY,kBAAjCC,EAboC,EAapCA,QAASC,EAb2B,EAa3BA,SAuFjB,SAASC,GAASrC,EAAUD,GAET,UAAXC,EACA6B,EAAS9B,GACS,aAAXC,GACPpH,QAAQC,IAAI,cAAckH,GAC1BkB,EAAYlB,IACM,WAAXC,EACPmB,EAAWpB,GACO,YAAXC,EACPsB,EAAYvB,GACM,cAAXC,GACPpH,QAAQC,IAAI,qBAAsBkH,GAClCqB,EAAcrB,IACI,aAAXC,GACPwB,EAAazB,GAEjB4B,GAAS,GAiBb,OAvHAnM,qBAAU,WACN,SAAS8M,EAAmBtC,GACxB,IAAKyB,GAAa/Y,EAAMkR,OAAOoG,GAAYtX,EAAM8B,KAE7C,OADAkX,GAAa,GACNhZ,EAAM8B,KAsErBoO,QAAQC,IAAI,YAAYnQ,EAAMiC,WACb2B,IAAb5D,EAAMiC,KACNwX,EAAQ,yBAAyBzZ,EAAMiC,MAClC4X,MAAK,SAAAC,GAAM,OArEpB,SAAwBC,GACpB,IAAIC,EAAW,GAGf1B,EAAcyB,GAEVA,EAAQzS,eAAe,YACvBiR,EAAYwB,EAAO,UAEnBxB,GAAY,GAGZwB,EAAQzS,eAAe,aACvB0S,EAAWD,EAAO,SAGtB,IAAIE,EAAUL,EAAmB,UAC7BK,EAEAN,GAAS,SADTK,EAAW,GAAD,mBAAKA,GAAL,CAAgBC,KAG1BxB,EAAWuB,GAGf,IAAIE,EAAc,GACdH,EAAQzS,eAAe,gBACvB4S,EAAgBH,EAAO,YAE3B,IAAII,EAAaP,EAAmB,aAChCO,EAEAR,GAAS,YADTO,EAAc,GAAD,mBAAKA,GAAL,CAAmBC,KAGhCzB,EAAcwB,GAGlB,IAAIE,EAAY,GACZL,EAAQzS,eAAe,cACvB8S,EAAYL,EAAO,UAEvB,IAAIM,EAAWT,EAAmB,WAC9BS,EAEAV,GAAS,UADTS,EAAY,GAAD,mBAAKA,GAAL,CAAkBC,KAG7BzB,EAAYwB,GAGhB,IAAIE,EAAa,GACbP,EAAQzS,eAAe,eACvBgT,EAAaP,EAAO,WAExB,IAAIQ,EAAYX,EAAmB,YAC/BW,EAEAZ,GAAS,WADTW,EAAa,GAAD,mBAAKA,GAAL,CAAmBC,KAG/BzB,EAAawB,GAYCE,CAAeV,MAEjC5J,QAAQC,IAAI,iCAEjB,CAACnQ,EAAMiC,KAAMjC,EAAM8B,KAAMiX,EAAW/Y,EAAMkR,KAAMkI,EAAWK,IAuC1D,kBAAC,UAAD,CAAavX,GAAIZ,EAAW,GAAK,EAAGL,YAAY,GAC5C,kBAAC,UAAD,CAAkBgB,KAAMiX,EAAOlF,KAAM2F,GAAUxB,SAAUA,EAAUC,aAV3E,SAAsBqC,GAClBd,GAAS,WAAWc,IAS+ErE,WAAYA,IAC3G,kBAAC,UAAD,CAAkBiB,MAAOwB,EAAWZ,MAAOA,EAAOjE,KAAM2F,GAAUe,eAAgB1a,EAAMiC,KAAMA,KAAM,YAAa0Y,WAAY,qBAAsBrD,SAAU,aAC7J,kBAAC,UAAD,CAAkBD,MAAOsB,EAAUV,MAAOA,EAAOjE,KAAM2F,GAAUe,eAAgB1a,EAAMiC,KAAMA,KAAM,WAAY2Y,SAAU,uBAAwBD,WAAY,oBAAqBrD,SAAU,YAC5L,kBAAC,UAAD,CAAkBD,MAAOnB,EAAY+B,MAAOA,EAAOjE,KAAM2F,GAAUe,eAAgB1a,EAAMiC,KAAMA,KAAM,aAAc2Y,SAAU,uBAAwBD,WAAY,sBAAuBrD,SAAU,cAClM,kBAAC,UAAD,CAAkBD,MAAOmB,EAASP,MAAOA,EAAOjE,KAAM2F,GAAUe,eAAgB1a,EAAMiC,KAAMA,KAAM,UAAW2Y,SAAU,wBAAyBD,WAAY,mBAAoBrD,SAAU,WAC1L,kBAAC,UAAD,CAAgBrV,KAAMiX,EAAOjB,MAAOA,EAAOjE,KArBnD,WACI0F,EAAS,yBAAyBR,EAAO,CAAC,WAAchD,EAAY,QAAWsC,EAAS,SAAWG,EAAU,UAAaE,EAAW,SAAYV,IAC5I0B,KAAKZ,GAAS,KAmBqD4B,OAX5E,WACItB,EAAgB,2B,iCC1IxB,IAAIuB,EAAyBC,EAAQ,IAErCxS,OAAOyS,eAAeC,EAAS,aAAc,CAC3ClV,OAAO,IAETkV,EAAQ9N,aAAU,EAElB,IAAI+N,EAASJ,EAAuBC,EAAQ,IAIxCI,GAAW,EAFML,EAAuBC,EAAQ,KAElB5N,SAAS+N,EAAO/N,QAAQxC,cAAc,OAAQ,CAC9E1K,EAAG,0GACD,SAEJgb,EAAQ9N,QAAUgO,G,iCCflB,IAAIL,EAAyBC,EAAQ,IAErCxS,OAAOyS,eAAeC,EAAS,aAAc,CAC3ClV,OAAO,IAETkV,EAAQ9N,aAAU,EAElB,IAAI+N,EAASJ,EAAuBC,EAAQ,IAIxCI,GAAW,EAFML,EAAuBC,EAAQ,KAElB5N,SAAS+N,EAAO/N,QAAQxC,cAAc,OAAQ,CAC9E1K,EAAG,mDACD,cAEJgb,EAAQ9N,QAAUgO,G,iCCflB,IAAIL,EAAyBC,EAAQ,IAErCxS,OAAOyS,eAAeC,EAAS,aAAc,CAC3ClV,OAAO,IAETkV,EAAQ9N,aAAU,EAElB,IAAI+N,EAASJ,EAAuBC,EAAQ,IAIxCI,GAAW,EAFML,EAAuBC,EAAQ,KAElB5N,SAAS+N,EAAO/N,QAAQxC,cAAc,OAAQ,CAC9E1K,EAAG,iDACD,cAEJgb,EAAQ9N,QAAUgO,G,iCCjBlB,uEAoCIC,EAAWtS,IAAMC,YAAW,SAAkB/I,EAAOgJ,GACvD,IAYIqS,EAZA5Z,EAAUzB,EAAMyB,QAChBU,EAAYnC,EAAMmC,UAClBmZ,EAAmBtb,EAAMgL,UACzBA,OAAiC,IAArBsQ,EAA8B,KAAOA,EACjDC,EAAwBvb,EAAMwb,eAC9BA,OAA2C,IAA1BD,GAA2CA,EAC5DE,EAAczb,EAAM0b,KACpBA,OAAuB,IAAhBD,EAAyB,WAAaA,EAC7CzM,EAAWhP,EAAMgP,SACjB2M,EAAe3b,EAAMqb,SACrB5Q,EAAQC,YAAyB1K,EAAO,CAAC,UAAW,YAAa,YAAa,iBAAkB,OAAQ,WAAY,aAQxH,OAJKA,EAAM4O,WACTyM,OAA4BzX,IAAjB+X,EAA6BA,GAAgB,GAGnD7S,IAAM6B,cAAciR,IAAUhR,YAAS,CAC5C3D,QAAQ,EACRyU,KAAMA,EACNL,SAAUA,EACVrQ,UAAWA,EACXgE,SAAUA,EACVwM,eAAgBA,EAChB/Z,QAAS,CACPoa,MAAOpa,EAAQoa,OAEjB1Z,UAAW0I,YAAKpJ,EAAQqJ,KAAM3I,EAAW6M,GAAYvN,EAAQuN,UAAWwM,GAAkB/Z,EAAQqa,SAClG9S,IAAKA,GACJyB,OAuDUX,iBAlHK,SAAgBzJ,GAClC,MAAO,CAELyK,KAAMF,YAAS,GAAIvK,EAAM0b,WAAWC,MAAOC,YAAgB,CACzD5W,UAAW,GACX6W,WAAY,EACZ1F,cAAe,EACfvR,UAAW,aACXsG,MAAO,OACP4Q,SAAU,SACVC,WAAY,UACX/b,EAAMgc,YAAYC,GAAG,MAAO,CAC7BjX,UAAW,UAKbyW,QAAS,GAGT9M,SAAU,GAGV6M,MAAOjR,YAAS,GAAIvK,EAAM0b,WAAWQ,MAAO,CAC1ClX,UAAW,YA0FiB,CAChCpD,KAAM,eADO6H,CAEZsR,I,iCC1HH,IAAIN,EAAyBC,EAAQ,IAErCxS,OAAOyS,eAAeC,EAAS,aAAc,CAC3ClV,OAAO,IAETkV,EAAQ9N,aAAU,EAElB,IAAI+N,EAASJ,EAAuBC,EAAQ,IAIxCI,GAAW,EAFML,EAAuBC,EAAQ,KAElB5N,SAAS+N,EAAO/N,QAAQxC,cAAc,OAAQ,CAC9E1K,EAAG,sBACD,UAEJgb,EAAQ9N,QAAUgO,G,iCCflB,IAAIL,EAAyBC,EAAQ,IAErCxS,OAAOyS,eAAeC,EAAS,aAAc,CAC3ClV,OAAO,IAETkV,EAAQ9N,aAAU,EAElB,IAAI+N,EAASJ,EAAuBC,EAAQ,IAIxCI,GAAW,EAFML,EAAuBC,EAAQ,KAElB5N,SAAS+N,EAAO/N,QAAQxC,cAAcuQ,EAAO/N,QAAQsB,SAAU,KAAMyM,EAAO/N,QAAQxC,cAAc,OAAQ,CAC1I1K,EAAG,oJACDib,EAAO/N,QAAQxC,cAAc,OAAQ,CACvC1K,EAAG,8CACA,YAELgb,EAAQ9N,QAAUgO,G,oBCnBlB,IAAItT,EAAM,CACT,yBAA0B,CACzB,IACA,EACA,KAED,4BAA6B,CAC5B,IACA,EACA,KAED,oBAAqB,CACpB,IACA,EACA,KAED,uBAAwB,CACvB,IACA,EACA,KAED,+BAAgC,CAC/B,IACA,EACA,KAED,kCAAmC,CAClC,IACA,EACA,KAED,mBAAoB,CACnB,IACA,KAED,sBAAuB,CACtB,IACA,KAED,oBAAqB,CACpB,IACA,KAED,uBAAwB,CACvB,IACA,KAED,oBAAqB,CACpB,IACA,KAED,uBAAwB,CACvB,IACA,KAED,0BAA2B,CAC1B,IACA,EACA,GAED,6BAA8B,CAC7B,IACA,EACA,GAED,qBAAsB,CACrB,IACA,EACA,IAED,wBAAyB,CACxB,IACA,EACA,IAED,4BAA6B,CAC5B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,8BAA+B,CAC9B,IACA,IAED,iCAAkC,CACjC,IACA,IAED,wBAAyB,CACxB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,qBAAsB,CACrB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,oBAAqB,CACpB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,uBAAwB,CACvB,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,IAED,6BAA8B,CAC7B,IACA,EACA,IAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,8BAA+B,CAC9B,IACA,EACA,IAED,iCAAkC,CACjC,IACA,EACA,IAED,iCAAkC,CACjC,IACA,EACA,IAED,oCAAqC,CACpC,IACA,EACA,IAED,8BAA+B,C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","file":"static/js/29.5337baae.chunk.js","sourcesContent":["/* eslint-disable max-len */\n\nimport React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction LightbulbOutlineIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z\" />\n    </SvgIcon>\n  );\n}\n\nLightbulbOutlineIcon.muiName = 'SvgIcon';\n\nexport default LightbulbOutlineIcon;\n","import React, { useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { LayoutContext } from './layout/NewLayoutProvider';\nimport classNames from 'classnames';\n\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nconst useStyles = makeStyles(theme => {\n    return {\n        base: {\n            margin: 1,\n            overflowX: \"hidden\",\n            alignContent: \"start\",\n            padding: \"3px !important\",\n            borderRadius: \"4px 4px 4px 4px\",\n        },\n        gridColumn: {\n            overflowY: \"hidden\",\n        },\n        scrollColumn: {\n            overflowY: \"auto\",\n            height: \"100%\",\n        },\n        nopad: {\n            padding: 0,\n        },\n        background: {\n            backgroundColor: theme.palette.background.page,\n        }\n    }\n});\n\n\nexport default function GridSection(props) {\n    \n    const { isMobile } = useContext(LayoutContext);\n    const classes = useStyles();\n    const [show, setShow] = useState(props.show);\n\n    return (\n        <Grid container item spacing={1} key={props.name} xs={props.xs} \n            className={ classNames(classes.base, props.scroll ? classes.scrollColumn : classes.gridColumn, props.background ? classes.background : null)} \n        >\n\n            {props.name &&\n                <Grid item xs={12} className={classes.nopad}>\n                <List className={classes.nopad} >\n                    <ListItem>\n                        <ListItemText primary={props.name} onClick={ () => setShow(!show) } />\n                        { (!isMobile || !props.break) &&\n                            <ListItemSecondaryAction>\n                                {props.secondary}\n                            </ListItemSecondaryAction>\n                        }\n                    </ListItem>\n                    { (isMobile && props.break) &&\n                        <ListItem>\n                            <ListItemSecondaryAction>\n                                {props.secondary}\n                            </ListItemSecondaryAction>\n                        </ListItem>\n                    }\n                </List>\n                </Grid>\n            }\n            { show && props.children}\n        </Grid>\n    );\n}\n\nGridSection.defaultProps = {\n    break: false,\n    show: true,\n    scroll: false,\n    xs: 12,\n    background: true,\n}\n \n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(theme => {\n    return {        \n        off: {\n            minWidth: 36,\n            marginLeft: 2,\n        },\n        on: {\n            marginLeft: 2,\n            minWidth: 36,\n            \"&:hover\" : {\n                backgroundColor: theme.palette.primary.light,\n            },\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText,\n        },\n    }\n});\n\nexport default function ToggleButton(props) {\n\n    const classes = useStyles();\n    \n    return (\n        <Button size=\"small\" className={ classes[props.buttonState] } onClick={ props.onClick} >\n            {props.label ? props.label : props.children}\n        </Button>\n    )\n};\n","import React from 'react';\nimport { useState } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport CropFreeIcon from '@material-ui/icons/CropFree';\n\nimport DeviceDialog from '../DeviceDialog';\nimport DeviceIcon from '../DeviceIcon';\nimport Grid from '@material-ui/core/Grid';\n\nexport default function AutomationDevice(props) {\n\n    const [deviceSelect, setDeviceSelect] = useState(false);\n\n    function closeDialog() {\n        setDeviceSelect(false)\n    }\n    \n    function selectDevice(newdevice) {\n        props.selectDevice(newdevice)\n        setDeviceSelect(false)\n    }\n\n    return (\n        <Grid item xs={props.wide ? 12 : 4 } >\n            <ListItem>\n                { props.device===undefined ?\n                    <>  \n                        <ListItemIcon><CropFreeIcon /></ListItemIcon>\n                        <Button size=\"medium\" onClick={() => setDeviceSelect(true) }>Choose a device</Button>\n                    </>\n                :\n                    <>\n                        <ListItemIcon><DeviceIcon name={props.device.displayCategories[0]} /></ListItemIcon>\n                        <ListItemText primary={props.device.friendlyName} secondary={props.device.displayCategories[0]} onClick={() => setDeviceSelect(true) } />\n                    </>\n                }\n                { props.wide && \n                    <>\n                        { props.remove &&\n                            <ListItemSecondaryAction>\n                                <IconButton size=\"small\" onClick={() => props.delete(props.index)}><CloseIcon /></IconButton>     \n                            </ListItemSecondaryAction>\n                        }\n                        { props.reorder &&\n                            <ListItemSecondaryAction>\n                                { props.index > 0 &&\n                                    <IconButton size=\"small\" onClick={() => props.moveUp(props.index)}><ExpandLessIcon /></IconButton>\n                                }\n                                <IconButton size=\"small\" onClick={() => props.moveDown(props.index)}><ExpandMoreIcon /></IconButton>\n                            </ListItemSecondaryAction>\n                        }\n                    </>\n                }\n            </ListItem>\n            { deviceSelect &&\n                <DeviceDialog open={true} close={closeDialog} select={selectDevice} />\n            }\n        </Grid>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles(theme => {\n    return {\n   \n        content: {\n            borderWidth: \"thin\",\n            borderStyle: \"solid\",\n            borderColor: theme.palette.divider,\n            display: 'flex',\n            margin: 0,\n            boxSizing: \"border-box\",\n            padding: \"8px 16px\",\n            flexWrap: 'wrap',\n            alignItems: \"center\",\n            flexGrow: 1,\n            minWidth: \"320px\",\n            minHeight: 80,\n            flexBasis: 0,\n            position: \"relative\",\n            overflowY: \"auto\",\n        },\n        thinmargin: {\n            margin: 2,\n            padding: 0,\n        },\n        normal: {\n            padding: \"4px !important\",\n        }\n    }\n});\n\n\nexport default function GridItem(props) {\n    \n    const mobileBreakpoint = 800\n    const classes = useStyles();\n    const isMobile = window.innerWidth <= mobileBreakpoint;\n\n    return (\n        <Grid item xs={props.xs ? props.xs : (isMobile || props.wide ? 12 : 4) } className={ props.thinmargin ? classes.thinmargin: classes.normal}>\n            <Paper elevation={props.elevation} className={classes.content} >\n                <TextField\n                    fullWidth\n                    label={'Search'}\n                    value={props.searchValue}\n                    onChange={(e) => props.setSearchValue(e.target.value)}\n                />\n            </Paper>\n        </Grid>\n    );\n}\n\nGridItem.defaultProps = {\n    elevation: 0,\n    wide: false,\n    thinmargin: false,\n    nopaper: false,\n}\n","import React, { useState } from 'react';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\n\nimport GridItem from '../GridItem';\n\nimport CommentIcon from '@material-ui/icons/Comment';\nimport DataUsageIcon from '@material-ui/icons/DataUsage';\nimport DeveloperBoardIcon from '@material-ui/icons/DeveloperBoard';\nimport SpeakerIcon from '@material-ui/icons/Speaker';\nimport SpeakerGroupIcon from '@material-ui/icons/SpeakerGroup';\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport ListIcon from '@material-ui/icons/List';\nimport TvIcon from '@material-ui/icons/Tv';\nimport LightbulbOutlineIcon from '../LightbulbOutline';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nimport IconButton from '@material-ui/core/IconButton';\n\n\nexport default function Device(props) {\n\n    const icons = {'SCENE_TRIGGER':TuneIcon, 'ACTIVITY_TRIGGER':ListIcon, 'LIGHT':LightbulbOutlineIcon, 'BUTTON':TouchAppIcon, 'SPEAKER':SpeakerIcon, 'THERMOSTAT':DataUsageIcon, 'RECEIVER':SpeakerGroupIcon, 'TV':TvIcon}\n    const [showDetail, setShowDetail] = useState(false);     \n\n    function getIcon(category, size='default') {\n            \n        var pxSize=24;\n        var RealIcon=DeveloperBoardIcon \n        if (size==='small') {\n            pxSize=16\n        }\n        if (icons.hasOwnProperty(category)) {\n            RealIcon=icons[category]\n        } \n\n        return <RealIcon size={pxSize} fontSize={size} />\n    }\n\n    return (\n        <GridItem nopad={true}>\n            <ListItem button onClick={props.select? () => props.select(props.device) : () => setShowDetail(!showDetail)}>\n                <ListItemIcon>{getIcon(props.device.displayCategories)}</ListItemIcon>\n                <ListItemText primary={props.device.friendlyName} secondary={props.device.displayCategories} />\n                <ListItemSecondaryAction>\n                    <IconButton edge=\"end\" aria-label=\"See Details\" onClick={() => props.showDevice(props.device) }>\n                        <CommentIcon />\n                    </IconButton>\n                </ListItemSecondaryAction>\n            </ListItem>\n            { showDetail &&\n            <>\n                { props.device.interfaces.map( iface => \n                    <ListItem key={iface}>\n                        <Table size=\"small\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>{iface}</TableCell>\n                                    <TableCell>Value</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                { ( props.mode==='all' || props.mode==='property' || props.mode==='' ) &&\n                                <>\n                                    { props.device[iface].properties.map( iprop =>\n                                    <TableRow hover key={iface+iprop} onClick={() => props.select(iface, iprop)}>\n                                        <TableCell>{iprop}</TableCell>\n                                        { typeof props.device[iface][iprop].deepvalue==='object' ?\n                                            <TableCell>{JSON.stringify(props.device[iface][iprop].deepvalue).slice(0, 10)}</TableCell>\n                                            :\n                                            <TableCell>{props.device[iface][iprop].deepvalue}</TableCell>\n                                        }\n                                    </TableRow>\n                                    )}\n                                </>\n                                }\n                                { ( props.mode==='all' || props.mode==='directive' || props.mode==='' ) &&\n                                <>\n                                    { Object.keys(props.directives[iface]).map( idir =>\n                                        <TableRow hover key={iface+idir} onClick={() => props.select(iface, idir)}>\n                                            <TableCell>{idir}</TableCell>\n                                            <TableCell>directive</TableCell>\n                                        </TableRow>\n                                    )}\n                                </>\n                                }\n                            </TableBody>\n                        </Table>\n                    </ListItem>\n                )}\n            </>\n            }\n        </GridItem>\n    )\n}\n\n","import React from \"react\";\nimport { makeStyles } from '@material-ui/styles';\nimport withMobileDialog from '@material-ui/core/withMobileDialog';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from  '@material-ui/core/Slide';\n\nconst useStyles = makeStyles({\n\n    dialogPaper: {\n        minHeight: '90vh',\n        maxHeight: '90vh',\n        overflowX: \"hidden\",\n    },\n});\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nfunction SofaDialog(props) {\n\n    const classes = useStyles();\n    \n    return (\n        <Dialog\n            fullScreen={props.fullScreen}\n            fullWidth={props.fullWidth}\n            maxWidth={props.maxWidth}\n            open={props.open}  \n            onClose={props.close}\n            TransitionComponent={Transition}\n            classes={{ paper: classes.dialogPaper }}\n        >\n            {props.children}\n        </Dialog>\n    )\n}\n\nSofaDialog.defaultProps = {\n    maxWidth: 'sm',\n    tabs: '',\n    tabValue: '',\n    tabChange: '',\n    fullWidth: true,\n}\n\nexport default withMobileDialog()(SofaDialog);\n","import React from 'react';\n\nimport DataUsageIcon from '@material-ui/icons/DataUsage';\nimport DeveloperBoardIcon from '@material-ui/icons/DeveloperBoard';\nimport SpeakerIcon from '@material-ui/icons/Speaker';\nimport SpeakerGroupIcon from '@material-ui/icons/SpeakerGroup';\nimport TouchAppIcon from '@material-ui/icons/TouchApp';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport ListIcon from '@material-ui/icons/List';\nimport TvIcon from '@material-ui/icons/Tv';\nimport LightbulbOutlineIcon from './LightbulbOutline';\n\n\nexport default function DeviceIcon(props) {\n\n    const icons = {'SCENE_TRIGGER':TuneIcon, 'ACTIVITY_TRIGGER':ListIcon, 'LIGHT':LightbulbOutlineIcon, 'BUTTON':TouchAppIcon, 'SPEAKER':SpeakerIcon, 'THERMOSTAT':DataUsageIcon, 'RECEIVER':SpeakerGroupIcon, 'TV':TvIcon}\n\n    function getIcon(category, size='default') {\n        \n        var RealIcon=DeveloperBoardIcon\n        if (icons.hasOwnProperty(category)) {\n            RealIcon=icons[category]\n        }\n        return <RealIcon size={24} fontSize={size} />\n    }\n\n    return getIcon(props.name)\n\n}","import { withStyles } from '@material-ui/styles';\nimport InputBase from '@material-ui/core/InputBase';\n\nconst AutomationInput = withStyles(theme => ({\n    input: {\n        minWidth: '100px',\n        borderRadius: 4,\n        position: 'relative',\n        backgroundColor: theme.palette.background.paper,\n        border: '1px solid #ced4da',\n        fontSize: 16,\n        padding: '10px 26px 10px 12px',\n        transition: theme.transitions.create(['border-color', 'box-shadow']),\n        '&:focus': {\n            borderRadius: 4,\n            borderColor: '#80bdff',\n            boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n        },\n    },\n}))(InputBase);\n\nexport default AutomationInput\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    margin: 0,\n    padding: '16px 24px',\n    flex: '0 0 auto'\n  }\n};\nvar DialogTitle = React.forwardRef(function DialogTitle(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), disableTypography ? children : React.createElement(Typography, {\n    component: \"h2\",\n    variant: \"h6\"\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogTitle.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the children won't be wrapped by a typography component.\n   * For instance, this can be useful to render an h4 instead of the default h2.\n   */\n  disableTypography: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogTitle'\n})(DialogTitle);","import React, { Suspense, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Button from '@material-ui/core/Button';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst placeholder = <TableRow><TableCell>Loading...</TableCell></TableRow>\n\nconst useStyles = makeStyles({\n \n    iconSize: {\n        height: 24,\n        width: 24,\n    },\n    stack: {\n        height: 44,\n        display: \"flex\",\n        flexGrow: 1,\n        paddingLeft: 16,\n        justifyContent: \"space-between\",\n        flexWrap: \"wrap\",\n    },\n    tile: {\n        display: \"flex\",\n        flexGrow: 1,\n        height: 90,\n        paddingRight: 8,\n    },\n    sliderPaper: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        padding: \"16 8 16 16\",\n        alignItems: \"center\",\n    },\n    nostack: {\n        height: 44,\n        display: \"flex\",\n        flexGrow: 1,\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        flexWrap: \"wrap\",\n        maxWidth: 480,\n        minWidth: 240,\n        boxSizing: \"border-box\",\n        marginRight: 8,\n    },\n    lightSwitch: {\n        marginLeft: 8,\n    },\n    lightbar: {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n    },\n    placeholder: {\n        height: 57,\n        width: \"100%\",\n    },\n    listItem: {\n        maxHeight: 64,\n        width: \"100%\",\n    },\n    tableAuto: {\n        tableLayout: \"auto\",\n    },\n    cola:{\n        width: \"25%\"\n    },\n    colb:{\n        width: \"5%\"\n    },\n    colc:{\n        width: \"70%\"\n    },\n    nopad: {\n        padding: 0,\n    }\n\n});\n\nexport default function CompositeDevice(props) {\n    \n    const classes = useStyles();\n    const isMobile = window.innerWidth <= 800;\n    const [modules, setModules] = useState({})\n\n    useEffect(() => {\n    \n        var mods={}\n        for (var j = 0; j < props.device.interfaces.length; j++) {\n            let modulename=props.device.interfaces[j]\n            mods[modulename]=React.lazy(() => { \n                try { \n                    return import('./controllers/'+modulename).catch(() => ({ default: () => errorBlock(modulename) }))\n                }\n                catch {\n                    return errorBlock(modulename)\n                }\n            })\n        }\n        setModules(mods)\n    }, [props.device.interfaces])\n\n    function errorBlock(modulename) {\n        return <TableRow key={modulename+'e'}><TableCell>-</TableCell><TableCell>-</TableCell><TableCell>Loading failed - {modulename}</TableCell></TableRow>;\n    }\n        \n    function renderSuspenseModule( modulename ) {\n\n        if (modules.hasOwnProperty(modulename)) {\n            var Module=modules[modulename]\n            return  <Suspense key={ modulename } fallback={placeholder}>\n                        <Module interface={ props.device[modulename] } device={props.device} />\n                    </Suspense>\n        } else {\n            return <TableRow key={modulename} ><TableCell>Loading...</TableCell></TableRow>\n        }\n    }\n    \n    return (\n        <Dialog fullScreen={isMobile} fullWidth maxWidth={'sm'}  open={true} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\n            <DialogTitle id=\"composite-device\">{props.device.friendlyName}</DialogTitle>\n            <DialogContent className={isMobile? classes.nopad : null} >\n                <Table size=\"small\" className={classes.tableAuto} >\n                    <TableBody>\n                            <TableRow>\n                                <TableCell className={classes.cola} >Name</TableCell>\n                                <TableCell className={classes.colb} >Value</TableCell>\n                                <TableCell className={classes.colc} >Set</TableCell>\n                            </TableRow>\n\n                        { props.device.interfaces.map( iface => \n                            renderSuspenseModule(iface)\n                        )}\n                    </TableBody>\n                </Table>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.close} color=\"primary\" autoFocus>\n                    OK\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\n","import React from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n\nconst useStyles = makeStyles({\n        \n    button: {\n        maxWidth: 64,\n        minWidth: 64,\n        marginLeft: 8,\n        fontSize: 18,\n        fontWeight: \"bold\",\n    },\n    bigtext: {\n        fontSize: 16,\n        fontWeight: \"bold\",\n    }\n    \n});\n\nconst operators = [\n    '=',\n    '!=',\n    '>',\n    '>=',\n    '<',\n    '=<',\n];\n\nexport default function OperatorButton(props) {\n\n    const classes = useStyles();\n    const [anchor, setAnchor] = useState(null)\n\n\n    function handleClick(event) {\n        setAnchor(event.currentTarget);\n    };\n    \n    function handleClose(event) {\n        setAnchor(null)\n    };\n    \n    function handleMenuSelect(event, item) {\n        setAnchor(null)\n        props.setOperator(operators[item])\n    };\n\n    return (\n        <React.Fragment>\n            <Button id={\"op\"+props.index} onClick={handleClick} className={classes.button} disabled={props.disabled}>\n                {props.value ? props.value : \"=\"}\n            </Button>\n    \n            <Menu id=\"lock-menu\" anchorEl={anchor} open={Boolean(anchor)} onClose={handleClose}>\n                {operators.map((option, index) => (\n                    <MenuItem\n                        key={option}\n                        selected={index === operators.indexOf(props.value)}\n                        onClick={event => handleMenuSelect(event, index)}\n                        className={classes.bigtext}\n                    >\n                        {option}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </React.Fragment>\n    )\n}\n","import React from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n\nconst useStyles = makeStyles({\n        \n    button: {\n        maxWidth: 64,\n        minWidth: 64,\n    },\n    \n});\n\nconst units = [\n    'min',\n    'hours',\n    'days',\n];\n\nexport default function UnitButton(props) {\n\n    const classes = useStyles();\n    const [anchor, setAnchor] = useState(null)\n\n\n    function handleClick(event) {\n        setAnchor(event.currentTarget);\n    };\n    \n    function handleClose(event) {\n        setAnchor(null)\n    };\n    \n    function handleMenuSelect(event, item) {\n        setAnchor(null)\n        props.setUnit(units[item])\n    };\n\n    return (\n        <React.Fragment>\n            <Button id={\"op\"+props.index} onClick={handleClick} className={classes.button}>\n                {props.value ? props.value : \"min\"}\n            </Button>\n    \n            <Menu id=\"lock-menu\" anchorEl={anchor} open={Boolean(anchor)} onClose={handleClose}>\n                {units.map((option, index) => (\n                    <MenuItem\n                        key={option}\n                        selected={index === units.indexOf(props.value)}\n                        onClick={event => handleMenuSelect(event, index)}\n                    >\n                        {option}\n                    </MenuItem>\n                ))}\n            </Menu>\n        </React.Fragment>\n    )\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport { DeviceContext } from './DataContext/DeviceProvider';\n\nimport GridSection from './GridSection';\nimport GridSearch from './GridSearch';\n\nimport Device from './deviceSelect/Device';\nimport CompositeDevice from './CompositeDevice';\n\nimport SofaDialog from \"./dialogs/SofaDialog\";\nimport Button from '@material-ui/core/Button';\n\nexport default function DeviceDialog(props) {\n\n    const { devicesByCategory, controllers, directives } = useContext(DeviceContext);\n    const [mode] = useState('all');\n    const [limit, setLimit] = useState(50);\n    const [nameFilter, setNameFilter] = useState('')\n    const [showDevice, setShowDevice] = useState(null)\n    \n    useEffect(() => {\n        function handleScroll() {\n            //var lastDiv = document.querySelector(\"#scroll-content > div:last-child\");\n            if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight) return;\n            console.log('Fetch more devices', limit, limit+20);\n            setLimit(limit+20)\n        }   \n\n        window.addEventListener('scroll', handleScroll);\n        return () => window.removeEventListener('scroll', handleScroll);\n    }, [limit]);\n\n    function filterByType(devtype) {\n\n        if (devtype==='all' || devtype==='') {\n            var devs=devicesByCategory('ALL', nameFilter)\n            //return devs\n            return devs.slice(0, limit)\n        }\n        return devicesByCategory(devtype)\n    }\n\n    function executeDirective(iface, idir) {\n        if (Object.keys(props.directives[iface][idir]).length===0) {\n            props.device[iface].directive(idir)\n        } else {\n            console.log('directive requires parameters', props.directives[iface][idir])\n        }\n    }\n    \n    function closeDevice() {\n        setShowDevice(null)\n    }\n \n    //function select(itemtype, deviceName, endpointId, controller, directive) { \n    //    if (mode==='action') {\n    //        var item={  \"type\": itemtype,\n    //                    \"endpointId\": endpointId,\n    //                    \"command\": directive,\n    //                    \"controller\": controller,\n    //                    \"deviceName\": deviceName\n    //        }\n    //    }\n    //    applyLayoutCard(returnPage.name, {...returnPage.props, 'item':item, 'noBottom':'true'} )\n    //}\n    \n    return (\n        <SofaDialog open={props.open} close={props.close} maxWidth={'lg'} >\n            <GridSection name={\"Devices\"} secondary={<Button onClick={props.close}>Close</Button>} scroll={true} tall={true}>\n            <GridSearch wide={true} searchValue={nameFilter} setSearchValue={setNameFilter} />\n                { filterByType('all').map((device) =>\n                    <Device key={ device.endpointId } device={device} mode={mode} controllers={controllers} select={props.select ? props.select : executeDirective} directives={directives} showDevice={setShowDevice} />\n                )}\n                { showDevice && \n                    <CompositeDevice device={showDevice} close={closeDevice} directives={directives} />\n                }\n            </GridSection>\n        </SofaDialog>\n    )\n\n};","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TextField from  '@material-ui/core/TextField';\nimport EventIcon from '@material-ui/icons/Event';\n\nconst useStyles = makeStyles({\n    shortLabel: {\n        flexGrow:0,\n    },\n    label: {\n        flexGrow:1,\n        flexBasis:0,\n        padding: 0,\n    },\n    input: {\n        marginLeft:8,\n        marginTop:0,\n        flexGrow:0,\n        marginBottom:0,\n        padding: 6,\n    },\n});\n\n\nexport default function ScheduleStart(props) {\n    \n    const classes = useStyles();\n\n    function shortTimeFormat(thisdate) {\n        var longdate=new Date().toISOString().replace('Z','')\n        if (thisdate) {\n            longdate=thisdate\n        }\n\n        if (longdate.split(':').length>2) {\n            longdate=longdate.split(':')[0]+\":\"+longdate.split(':')[1]\n        }\n\n        return longdate\n    }\n\n    return (\n        <>\n        <Grid item xs={props.wide ? 12 : 4 } >\n            <ListItem> \n                <ListItemIcon><EventIcon /></ListItemIcon>\n                <ListItemText className={classes.label} primary=\"Starting\" />\n                { props.remove ?\n                    <ListItemSecondaryAction>\n                        <IconButton onClick={() => props.delete(props.index)}><CloseIcon /></IconButton>     \n                    </ListItemSecondaryAction>\n                    : null\n                }\n            </ListItem>\n        </Grid>\n        <Grid item xs={props.wide ? 12 : 4 } >\n            <TextField\n                className={classes.input}\n                type=\"datetime-local\"\n                id={'specstart'}\n                margin={\"normal\"}\n                value={props.value ? props.value : shortTimeFormat() }\n                onChange={(e) => props.change(props.target, e.target.value)}\n            />\n        </Grid>\n        </>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport TextField from  '@material-ui/core/TextField';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport UnitButton from './UnitButton';\n\nconst useStyles = makeStyles({\n    shortLabel: {\n        flexGrow:0,\n    },\n    input: {\n        marginTop:0,\n        flexGrow:0,\n        marginBottom:0,\n        maxWidth: 50,\n        marginRight: 16,\n    },\n});\n\nexport default function ScheduleInterval(props) {\n    \n    const classes = useStyles();\n\n    function changeUnit(newunit) {\n        props.change('unit', newunit)    \n    }\n    \n    return (\n        <ListItem> \n            <ListItemIcon onClick={props.toggle}><ScheduleIcon /></ListItemIcon>\n            <ListItemText className={ classes.shortLabel} primary=\"Every\" />\n            <TextField\n                className={classes.input}\n                id={'specint'}\n                margin={\"normal\"}\n                type=\"number\"\n                value={props.value}\n                onChange={(e) => props.change('interval', e.target.value)}\n            />\n            <UnitButton value={props.unit} setUnit={changeUnit} />\n        </ListItem>\n    )\n}\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ToggleButton from '../ToggleButton';\n\nexport default function ScheduleDays(props) {\n\n    const daysOfTheWeek = ['sun','mon','tue','wed','thu','fri','sat'];\n\n    function editDays(day) {\n        var sdays=[]\n        if (props.value) {\n            sdays=props.value \n        }\n        if (sdays.includes(day)) {\n            sdays.splice(sdays.indexOf(day),1)\n        } else {\n            sdays.push(day)\n        }\n        props.change('days', sdays)\n    }\n    \n    return (\n        <ListItem>\n            { daysOfTheWeek.map((day) => \n                <ToggleButton key={day} label={day} buttonState={props.value && props.value.includes(day) ? 'on' : 'off' } onClick={(e) => editDays(day)} >\n                    {day}\n                </ToggleButton>\n                )\n            }\n        </ListItem>\n    )\n}\n","import React, { useState, Suspense } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport TextField from '@material-ui/core/TextField';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport AutomationDevice from './AutomationDevice';\nimport GridItem from '../GridItem';\nimport Grid from '@material-ui/core/Grid';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputBase from '@material-ui/core/InputBase';\n\nconst useStyles = makeStyles({\n\n    flex: {\n        display: \"flex\",\n    },\n    wideSelect: {\n        width: \"100%\",\n    }\n});\n\nconst BootstrapInput = withStyles(theme => ({\n    input: {\n        minWidth: '100px',\n        borderRadius: 4,\n        position: 'relative',\n        backgroundColor: theme.palette.background.paper,\n        border: '1px solid #ced4da',\n        fontSize: 16,\n        padding: '10px 26px 10px 12px',\n        transition: theme.transitions.create(['border-color', 'box-shadow']),\n        '&:focus': {\n            borderRadius: 4,\n            borderColor: '#80bdff',\n            boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n        },\n    },\n}))(InputBase);\n\n\nexport default function AutomationAction(props) {\n    \n    const classes = useStyles();\n    const pfd = propertyFromDirective(controllerForDirective(props.item.command), props.item.command)\n    const [propMod, setPropMod] = useState(loadPropMod(pfd))\n    const interfaceProperty = propertyFromDirective(props.item.controller, props.item.command)\n    const interfaceobj=getInterface()\n\n    function errorBlock(modulename) {\n        return <TextField value={'failed'+modulename} />\n    }\n\n    function loadPropMod(name) {\n\n        if (name===undefined) {\n            return null\n        }\n        let pmod=React.lazy(() => { \n            try { \n                return import('../controllers/properties/'+name).catch(() => ({ default: () => errorBlock(name) }))\n            }\n            catch {\n                return errorBlock(name)\n            }\n        })\n        return pmod\n    }\n\n    function propertyFromDirective(controllerName, directiveName) {\n        if (controllerName===undefined || directiveName===undefined) {\n            return undefined\n        }\n        if (props.directives.hasOwnProperty(controllerName) && props.directives[controllerName].hasOwnProperty(directiveName)) {\n            var actionValues = props.directives[controllerName][directiveName]\n            for (var av in actionValues) {\n                return av\n            }\n        }\n        return undefined\n    }\n    \n    function directives(otherdev) {\n\n        var dev=props.device\n        if (otherdev) { dev=otherdev }\n        var dirs=[]\n        if (dev.hasOwnProperty('capabilities')) {\n            for (var j = 0; j < dev.capabilities.length; j++) {\n                var shortIf=dev.capabilities[j].interface.split('.')[1]\n                if (shortIf==='ModeController') {\n                    dirs=dirs.concat('SetMode.'+dev.capabilities[j].instance.split('.')[1])\n                } else if (props.directives.hasOwnProperty(shortIf)) {\n                    dirs=dirs.concat(Object.keys(props.directives[shortIf]));\n                } \n            }\n        }\n        return dirs\n    }\n    \n    function placeholder(modulename) {\n        return <TextField value={modulename} />\n    }\n    \n    function renderSuspenseModule( modulename ) {\n        \n        if (propMod!==undefined) {\n            if (propMod===null) {\n                return null\n            }\n            let Module=propMod\n            return  <Suspense key={ modulename } fallback={ placeholder() }>\n                        <Module item={props.item} interface={ interfaceobj } device={props.device} instance={props.item.instance} directive={directive} />\n                    </Suspense>\n        } else {\n            return <TextField value={'Loading...'} />\n        }\n    }\n    \n    function directive (endpointId, controllerName, command, payload={}, cookie={}, instance) {\n        if (command==='TurnOn') { payload=\"ON\"}\n        if (command==='TurnOff') { payload=\"OFF\"}\n        props.save(props.index, {...props.item, controller:controllerName, command:command, instance: instance, value: payload})\n    }\n    \n    function getInterface() {\n        \n        if (props.device===undefined) { return undefined }\n        if (props.device.hasOwnProperty('capabilities')) {\n            for (var j = 0; j < props.device.capabilities.length; j++) {\n                if (props.device.capabilities[j].interface.split('.')[1]===props.item.controller) {\n                    if (props.item.instance===undefined && props.device.capabilities[j].interface.instance===undefined) {\n                        return props.device.capabilities[j]\n                    }\n                    if (props.item.hasOwnProperty('instance') && props.device.capabilities[j].hasOwnProperty('instance')) {\n                        if (props.item.instance===props.device.capabilities[j].instance.split('.')[1]) {\n                            return props.device.capabilities[j]\n                        }\n                    }               \n                }\n            }\n        }\n        console.log('failed get interface',props.item.controller, props.item.instance ,props.device)\n        return undefined\n    }\n    \n    function controllerForDirective(dir) {\n        if (props.device===undefined || dir===undefined) { return undefined }\n        \n        for (var prop in props.directives) { // This is actually the list of controllers\n            //if (props.device.interfaces.includes(prop) && props.directives[prop].hasOwnProperty(dir)) {\n            if (props.directives[prop].hasOwnProperty(dir)) {\n                return prop\n            }\n            if (props.item.hasOwnProperty('instance') && props.item.instance!==undefined) {\n                if (props.directives[prop].hasOwnProperty(props.item.command)) {\n                    return prop\n                } \n            }     \n        }\n        return undefined\n    }\n\n    function handleChangeDirectiveName(newval) {\n        var directiveName=newval\n        //if (newval.startsWith('SetMode.')) {\n        //    directiveName=\"SetMode\"\n        //}\n        setPropMod(loadPropMod(propertyFromDirective(controllerForDirective(directiveName.split('.')[0]), directiveName.split('.')[0])))\n        props.save(props.index, {...props.item, controller:controllerForDirective(directiveName.split('.')[0]), command:directiveName.split('.')[0], instance: directiveName.split('.')[1], value: undefined})\n    }\n\n    function selectDevice(newdevice) {\n        console.log('selected new device',newdevice)\n        var newitem={}\n        setPropMod(loadPropMod(propertyFromDirective(newdevice.capabilities[0].interface, directives(newdevice.capabilities[0].interface)[0])))\n        newitem={...props.item, instance: newdevice.capabilities[0].instance, name:newdevice.friendlyName, endpointId: newdevice.endpointId, controller:newdevice.capabilities[0], command:directives(newdevice.capabilities[0].interface)[0], value: undefined}\n        props.save(props.index, newitem)\n    }\n\n    function getCommand() {\n        if (props.item.command!==undefined) {\n            if (props.item.hasOwnProperty('instance') && props.item.instance!==undefined) {\n                return props.item.command+\".\"+props.item.instance\n            }\n            return props.item.command\n        }\n        return ''\n    }\n\n    return (\n        <GridItem nolist={true} elevation={0} wide={true} xs={12}>\n            <AutomationDevice   device={props.device} index={props.index} selectDevice={selectDevice} wide={props.wide}\n                                remove={props.remove} reorder={props.reorder}\n                                moveUp={props.moveUp} moveDown={props.moveDown} delete={props.delete} />\n            { props.device!==undefined &&\n                <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                    <ListItem>\n                        <Select className={classes.wideSelect} value={getCommand()} onChange={(e) => handleChangeDirectiveName(e.target.value)} input={<BootstrapInput name=\"command\" id=\"command-select\" />} >\n                        { directives().map(action => \n                            <MenuItem key={props.device.endpointId+action} value={action}>{action}</MenuItem>\n                        )}\n                        </Select>\n                    </ListItem>\n                </Grid>\n            }\n            { props.device!==undefined &&\n                <Grid item xs={props.wide ? 12 : 4} className={classes.flex} >\n                    <ListItem >\n                        { interfaceobj ? \n                            renderSuspenseModule( interfaceProperty)\n                            : null\n                        }\n                    </ListItem>\n                </Grid>\n            }\n            { !props.wide && \n                <>\n                    { props.remove &&\n                        <ListItemSecondaryAction>\n                            <IconButton size=\"small\" onClick={() => props.delete(props.index)}><CloseIcon /></IconButton>     \n                        </ListItemSecondaryAction>\n                    }\n                    { props.reorder &&\n                        <ListItemSecondaryAction>\n                            { props.index > 0 &&\n                                <IconButton size=\"small\" onClick={() => props.moveUp(props.index)}><ExpandLessIcon /></IconButton>\n                            }\n                            <IconButton size=\"small\" onClick={() => props.moveDown(props.index)}><ExpandMoreIcon /></IconButton>\n                        </ListItemSecondaryAction>\n                    }\n                </>\n            }\n        </GridItem>\n    )\n}\n","import React, { Suspense, useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport AutomationInput from './AutomationInput';\nimport AutomationDevice from './AutomationDevice';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport TextField from '@material-ui/core/TextField';\nimport GridItem from '../GridItem';\nimport OperatorButton from \"./operatorButton\"\nimport Grid from '@material-ui/core/Grid';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nconst useStyles = makeStyles({\n        \n    input: {\n        marginTop:0,\n        marginLeft: 8,\n        flexGrow:1,\n        flexBasis:0,\n    },\n    deviceName: {\n        flexGrow:1,\n        flexBasis:0,\n        padding: 0,\n    },\n    listItem: {\n        padding: \"12 16\",\n    },\n    flex: {\n        display: \"flex\",\n    },\n    wideSelect: {\n        width: \"100%\",\n    }\n});\n\n\nexport default function AutomationCondition(props) {\n\n    const classes = useStyles();\n    const interfaceobj=getInterface()\n    const [propMod, setPropMod] = useState(loadPropMod(props.item.propertyName))\n    \n    console.log('cp device', props.controllerProperties)\n    \n    function directive (endpointId, controllerName, command, payload={}, cookie={}, instance) {\n        if (command==='TurnOn') { payload=\"ON\"}\n        if (command==='TurnOff') { payload=\"OFF\"}\n        props.save(props.index, {...props.item, controller:controllerName, command:command, instance: instance, value: payload})\n    }\n\n    function getInterface() {\n        \n        if (props.device===undefined) { return undefined }\n        if (props.device.hasOwnProperty('capabilities')) {\n            for (var j = 0; j < props.device.capabilities.length; j++) {\n                if (props.device.capabilities[j].interface.split('.')[1]===props.item.controller) {\n                    if (props.item.instance===undefined && props.device.capabilities[j].interface.instance===undefined) {\n                        return props.device.capabilities[j]\n                    }\n                    if (props.item.hasOwnProperty('instance') && props.device.capabilities[j].hasOwnProperty('instance')) {\n                        if (props.item.instance===props.device.capabilities[j].instance.split('.')[1]) {\n                            return props.device.capabilities[j]\n                        }\n                    }               \n                }\n            }\n        }\n        console.log('failed get interface',props.item.controller, props.item.instance ,props.device)\n        return undefined\n    }\n\n    function loadPropMod(name) {\n        let pmod=React.lazy(() => { \n                try { \n                    return import('../controllers/properties/'+name).catch(() => ({ default: () => errorBlock(name) }))\n                }\n                catch {\n                    return <TextField value={'failed '+name} />\n                }\n            })\n        return pmod\n    }\n\n    function errorBlock(modulename) {\n        return <TextField value={'failed'+modulename} />\n    }\n    \n    function placeholder(modulename) {\n        return <TextField value={modulename} />\n    }\n    \n    function renderSuspenseModule( modulename ) {\n        \n        if (propMod!==undefined) {\n            if (propMod===null) {\n                return null\n            }\n            let Module=propMod\n            return  <Suspense key={ modulename } fallback={ placeholder() }>\n                        <Module item={props.item} interface={ interfaceobj } device={props.device} instance={props.item.instance} directive={directive} />\n                    </Suspense>\n        } else {\n            return <TextField value={'Loading...'} />\n        }\n    }\n     \n    function editOperatorValue(value) {\n        props.save(props.index, {...props.item, \"operator\": value})\n    }\n\n    function handleChangePropertyName(newval) {\n        setPropMod(loadPropMod(newval))\n        props.save(props.index, {...props.item, \"value\": undefined, \"controller\":props.controllerForProperty(props.device.endpointId, newval), \"propertyName\": newval })\n    }\n    \n    function directives(otherdev) {\n\n        var dev=props.device\n        if (otherdev) { dev=otherdev }\n        var dirs=[]\n        if (dev.hasOwnProperty('capabilities')) {\n            for (var j = 0; j < dev.capabilities.length; j++) {\n                var shortIf=dev.capabilities[j].interface.split('.')[1]\n                if (shortIf==='ModeController') {\n                    dirs=dirs.concat('SetMode.'+dev.capabilities[j].instance.split('.')[1])\n                } else if (props.directives.hasOwnProperty(shortIf)) {\n                    dirs=dirs.concat(Object.keys(props.directives[shortIf]));\n                } \n            }\n        }\n        return dirs\n    }   \n    \n    function propertyFromDirective(controllerName, directiveName) {\n        if (controllerName===undefined || directiveName===undefined) {\n            return undefined\n        }\n        if (props.directives.hasOwnProperty(controllerName) && props.directives[controllerName].hasOwnProperty(directiveName)) {\n            var actionValues = props.directives[controllerName][directiveName]\n            for (var av in actionValues) {\n                return av\n            }\n        }\n        return undefined\n    }    \n    \n    function selectDevice(newdevice) {\n        console.log('selected new device',newdevice)\n        var newitem={}\n        setPropMod(loadPropMod(propertyFromDirective(newdevice.capabilities[0].interface, directives(newdevice.capabilities[0].interface)[0])))\n        newitem={...props.item, instance: newdevice.capabilities[0].instance, name:newdevice.friendlyName, endpointId: newdevice.endpointId, controller:newdevice.capabilities[0], command:directives(newdevice.capabilities[0].interface)[0], value: undefined}\n        props.save(props.index, newitem)\n    }\n\n\n    return (\n        <GridItem nolist={true} elevation={0} wide={true} xs={12}>\n            <AutomationDevice   device={props.device} index={props.index} selectDevice={selectDevice} wide={props.wide}\n                                remove={props.remove} reorder={props.reorder}\n                                moveUp={props.moveUp} moveDown={props.moveDown} delete={props.delete} />\n            { props.device!==undefined &&\n                <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                    <ListItem >\n                        <Select className={classes.wideSelect} value={props.item.propertyName} \n                                onChange={(e) => handleChangePropertyName(e.target.value)} \n                                input={<AutomationInput name=\"command\" id=\"command-select\" />} >\n                        { props.controllerProperties.map(action => \n                            <MenuItem key={props.device.endpointId+action} value={action}>{action}</MenuItem>\n                        )}\n                        </Select>\n                        <OperatorButton index={props.index} value={props.item.operator ? props.item.operator : \"=\" } setOperator={ editOperatorValue }/>\n                    </ListItem>\n                </Grid>\n            }\n            { (props.device!==undefined && props.item.propertyName!==undefined) &&\n                <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                    <ListItem>\n                        { renderSuspenseModule(props.item.propertyName) }\n                    </ListItem>\n                </Grid>\n                }\n        </GridItem>\n    )\n}\n","import React, { Suspense } from 'react';\nimport { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport TextField from '@material-ui/core/TextField';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport AutomationDevice from './AutomationDevice';\nimport AutomationInput from './AutomationInput';\nimport GridItem from '../GridItem';\nimport Grid from '@material-ui/core/Grid';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nconst useStyles = makeStyles({\n\n    flex: {\n        display: \"flex\",\n    },\n    wideSelect: {\n        width: \"100%\",\n    }\n});\n\n\nexport default function AutomationTrigger(props) {\n\n    const classes = useStyles();\n    const interfaceobj=getInterface()\n    const [propMod, setPropMod] = useState(loadPropMod(props.item.propertyName))\n\n    function getInterface() {\n        \n        if (props.device===undefined) { return undefined }\n        var dev=props.device\n        if (dev.hasOwnProperty('capabilities')) {\n            for (var j = 0; j < dev.capabilities.length; j++) {\n                if (dev.capabilities[j].interface.split('.')[1]===props.item.controller) {\n                    if (props.item.instance===undefined && dev.capabilities[j].interface.instance===undefined) {\n                        return dev.capabilities[j]\n                    }\n                    if (props.item.hasOwnProperty('instance') && dev.capabilities[j].hasOwnProperty('instance')) {\n                        if (props.item.instance===dev.capabilities[j].instance.split('.')[1]) {\n                            return dev.capabilities[j]\n                        }\n                    }               \n                }\n            }\n        }\n        console.log('failed get interface',props.item.controller, props.item.instance ,props.device)\n        return undefined\n    }\n\n    function errorBlock(modulename) {\n        return <TextField value={'failed'+modulename} />\n    }\n\n    function loadPropMod(name) {\n        if (name===undefined) { return undefined}\n        let pmod=React.lazy(() => { \n                try { \n                    return import('../controllers/properties/'+name).catch(() => ({ default: () => errorBlock(name) }))\n                }\n                catch {\n                    return <TextField value={'failed '+name} />\n                }\n            })\n        return pmod\n    }\n\n\n    function propertyFromDirective(controllerName, directiveName) {\n        if (controllerName===undefined || directiveName===undefined) {\n            return undefined\n        }\n        if (props.directives.hasOwnProperty(controllerName) && props.directives[controllerName].hasOwnProperty(directiveName)) {\n            var actionValues = props.directives[controllerName][directiveName]\n            for (var av in actionValues) {\n                return av\n            }\n        }\n        return undefined\n    }\n\n    function directives(otherdev) {\n\n        if (props.device===undefined && otherdev===undefined) { return [] }\n        var dev=props.device\n        if (otherdev) { dev=otherdev }\n        var dirs=[]\n        console.log('XXXXY dev',dev)\n        if (!dev.hasOwnProperty('capabilities')) { return [] }\n        for (var j = 0; j < dev.capabilities.length; j++) {\n            if (props.directives.hasOwnProperty(dev.capabilities[j].interface.split('.')[1])) {\n                dirs=dirs.concat(Object.keys(props.directives[dev.capabilities[j].interface.split('.')[1]]));\n            }\n        }\n        return dirs\n    }\n    \n    function placeholder(modulename) {\n        return <TextField value={modulename} />\n    }\n    \n    function renderSuspenseModule( modulename ) {\n        if (propMod!==undefined) {\n            if (propMod===null) {\n                return null\n            }\n            let Module=propMod\n            return  <Suspense key={ modulename } fallback={ placeholder() }>\n                         <Module item={props.item} interface={ interfaceobj } device={props.device} instance={props.item.instance} directive={directive} />\n                    </Suspense>\n        } else {\n            return null\n        }\n    }\n\n    function handleChangePropertyName(newval) {\n        setPropMod(loadPropMod(newval))\n        props.save(props.index, {...props.item, \"value\": undefined, \"controller\":props.controllerForProperty(props.device.endpointId, newval), \"propertyName\": newval })\n    }\n\n\n    function selectDevice(newdevice) {\n        console.log('selected new device',newdevice)\n        var newitem={}\n        setPropMod(loadPropMod(propertyFromDirective(newdevice.capabilities[0].interface, directives(newdevice.capabilities[0].interface)[0])))\n        newitem={...props.item, instance: newdevice.capabilities[0].instance, name:newdevice.friendlyName, endpointId: newdevice.endpointId, controller:newdevice.capabilities[0], command:directives(newdevice.capabilities[0].interface)[0], value: undefined}\n        props.save(props.index, newitem)\n    }\n\n    function directive (endpointId, controllerName, command, payload={}, cookie={}, instance) {\n        if (command==='TurnOn') { payload=\"ON\"}\n        if (command==='TurnOff') { payload=\"OFF\"}\n        console.log('placeholder', props.index, {...props.item, controller:controllerName, command:command, instance: instance, value: payload})\n        props.save(props.index, {...props.item, controller:controllerName, command:command, instance: instance, value: payload})\n    }\n\n\n    return (\n        <GridItem nolist={true} elevation={0} wide={true} xs={12}>\n            <AutomationDevice   device={props.device} index={props.index} selectDevice={selectDevice} wide={props.wide}\n                                remove={props.remove} reorder={props.reorder}\n                                moveUp={props.moveUp} moveDown={props.moveDown} delete={props.delete} />\n\n            { props.device!==undefined &&\n                <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                    <ListItem>\n                        <Select className={classes.wideSelect} value={props.item.propertyName ? props.item.propertyName : ''} \n                                onChange={(e) => handleChangePropertyName(e.target.value)} \n                                input={<AutomationInput name=\"property\" id=\"property-select\" />} >\n                        { props.controllerProperties.map(devProp => \n                            <MenuItem key={props.device.endpointId+devProp} value={devProp}>{devProp}</MenuItem>\n                        )}\n                        </Select>\n                    </ListItem>\n                </Grid>\n            }\n            { props.device!==undefined &&\n                <Grid item xs={props.wide ? 12 : 4} className={classes.flex} >\n                    <ListItem >\n                        { renderSuspenseModule(props.item.propertyName) }\n                    </ListItem>\n                </Grid>\n            }\n            { !props.wide && \n                <>\n                    { props.remove &&\n                        <ListItemSecondaryAction>\n                            <IconButton size=\"small\" onClick={() => props.delete(props.index)}><CloseIcon /></IconButton>     \n                        </ListItemSecondaryAction>\n                    }\n                    { props.reorder &&\n                        <ListItemSecondaryAction>\n                            { props.index > 0 &&\n                                <IconButton size=\"small\" onClick={() => props.moveUp(props.index)}><ExpandLessIcon /></IconButton>\n                            }\n                            <IconButton size=\"small\" onClick={() => props.moveDown(props.index)}><ExpandMoreIcon /></IconButton>\n                        </ListItemSecondaryAction>\n                    }\n                </>\n            }\n        </GridItem>\n    )\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport GridItem from '../GridItem'\nimport ScheduleStart from './ScheduleStart'\nimport ScheduleInterval from './ScheduleInterval'\nimport ScheduleDays from './ScheduleDays'\n\nconst useStyles = makeStyles({\n    flex: {\n        display: \"flex\",\n        padding: 6,\n    },\n});\n\nexport default function AutomationSchedule(props) {\n\n    const [schedule, setSchedule] = useState(props.item)\n    const classes = useStyles();\n    \n    function editValues(action, value) {\n        var edsc=schedule\n        edsc[action]=value\n        setSchedule(edsc)\n        props.save(props.index, edsc)\n        console.log(props.index, edsc)\n        console.log(action, value)\n    }\n\n    function changeValue(aspect, value) {\n        console.log('changevalue',aspect, value)\n        var newschedule={ ...props.item, [aspect] : value}\n        props.save(props.index, newschedule)\n    }\n\n    function toggleType() {\n        console.log('toggle')\n        if (schedule.hasOwnProperty('type') && schedule.type==='interval') {\n            changeValue('type','days')\n        } else {\n            changeValue('type','interval')\n        }\n    }\n\n    return (\n        <GridItem nolist={true} elevation={0} wide={true} xs={12}>\n            <ScheduleStart wide={props.wide} delete={props.delete} remove={props.remove} target=\"start\" change={editValues} value={schedule.start} />\n            <Grid item xs={props.wide ? 12 : 4 } className={classes.flex} >\n                { schedule.hasOwnProperty('type') && schedule.type==='interval' ?\n                    <ScheduleInterval toggle={toggleType} change={editValues} unit={schedule.unit} value={schedule.interval} />\n                :\n                    <ScheduleDays toggle={toggleType} change={editValues} value={schedule.days} />\n                }\n            </Grid>\n        </GridItem>\n    )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport GridItem from '../GridItem';\n\nconst useStyles = makeStyles({\n    \n    root: {\n        alignItems: \"flex-end\",\n        padding: \"8px 16px 8px 16px !important\",\n        height: 64,\n        display: \"flex\",\n    },\n    label: {\n        display: \"flex\",\n        flexGrow:1,\n    }\n});\n\nexport default function AutomationTitle(props) {\n\n    const classes = useStyles();\n    \n    function editTitle(newvalue) {\n        props.save('title',newvalue)\n    }\n\n    return (    \n        <GridItem nolist={true} elevation={0} wide={true}>\n        <Grid item xs={ 12 } className={classes.root}>\n            <TextField\n                fullWidth\n                label={'Name'}\n                value={ props.name===undefined ? \"\" : props.name }\n                onChange={(e) => editTitle(e.target.value)}\n            />\n            {props.children}\n        </Grid>\n        </GridItem>\n    )\n\n};\n","import React, { useContext } from 'react';\nimport { DataContext } from '../DataContext/DataProvider';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport Grid from '@material-ui/core/Grid';\nimport Moment from 'react-moment';\nimport Button from '@material-ui/core/Button';\nimport GridItem from '../GridItem';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport LowPriorityIcon from '@material-ui/icons/LowPriority';\nimport PlaylistPlayIcon from '@material-ui/icons/PlaylistPlay';\n\nconst useStyles = makeStyles({\n    \n    root: {\n        alignItems: \"flex-end\",\n        display: \"flex\",\n    },\n    label: {\n        display: \"flex\",\n        flexGrow:1,\n    }\n});\n\nexport default function AutomationDetails(props) {\n\n    const classes = useStyles();\n    const { deviceByEndpointId } = useContext(DataContext);\n    \n    function runAutomation(conditions=true) {\n        deviceByEndpointId('logic:activity:'+props.name).SceneController.directive('Activate', {}, {\"conditions\": conditions})\n    }\n\n    return (    \n        <GridItem nolist={true} elevation={0} wide={true}>\n            <Grid item xs={ 12 } className={classes.root}>\n                <ListItem>\n                    <ListItemText primary={\"Last Run\"} secondary={ props.automation.lastrun!=='never' ? <Moment format=\"ddd MMM D h:mm:sa\">{props.automation.lastrun }</Moment> : 'Never'} />\n                    <Button onClick={() => runAutomation()}><PlaylistPlayIcon /></Button>\n                    <Button onClick={() => runAutomation(false)}><LowPriorityIcon /></Button>\n                </ListItem>\n            </Grid>\n        </GridItem>\n    )\n\n};\n","import React, { useState, useContext } from 'react';\nimport { LayoutContext } from './layout/NewLayoutProvider';\nimport { DeviceContext } from './DataContext/DeviceProvider';\nimport { makeStyles } from '@material-ui/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\n\nimport AutomationAction from \"./automation/automationAction\"\nimport AutomationCondition from \"./automation/automationCondition\"\nimport AutomationTrigger from \"./automation/automationTrigger\"\nimport AutomationSchedule from \"./automation/automationSchedule\"\n\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport UnfoldMoreIcon from '@material-ui/icons/UnfoldMore';\n\nimport GridSection from './GridSection';\nimport ErrorBoundary from './ErrorBoundary'\n\nconst useStyles = makeStyles({\n    \n    dialogActions: {\n        paddingBottom: \"env(safe-area-inset-bottom)\",\n    },\n    listDialogContent: {\n        padding: 0,\n    }\n\n});\n\nexport default function AutomationColumn(props) {\n\n    const classes = useStyles();\n    const { isMobile } = useContext(LayoutContext);\n    const { deviceByEndpointId, controllerProperties, directives } = useContext(DeviceContext);\n\n    const [reorder, setReorder] = useState(false)\n    const [remove, setRemove] = useState(false)\n    const eventSources={ 'DoorbellEventSource': { \"doorbellPress\": {} }}\n    const modmap={'Triggers': AutomationTrigger , 'Conditions':AutomationCondition, 'Actions':AutomationAction, 'Schedules':AutomationSchedule}\n    const AutomationProperty = React.memo(modmap[props.name])\n\n    function oldgetControllerProperties(item) {\n        try {\n            if (item.hasOwnProperty('propertyName')) {\n                if (controllerProperties[item.controller].hasOwnProperty(item.propertyName)) {\n                    item.type=\"property\"\n                    return controllerProperties[item.controller][item.propertyName]\n                } else if (eventSources.hasOwnProperty(item.propertyName)) {\n                    item.type=\"event\"\n                    return eventSources[item.propertyName]\n                }\n            }\n        }\n        catch(err) {\n            console.log('Error getting properties for',item)\n            return {'error': 'Invalid property: '+item.controller+\"/\"+item.propertyName}\n        }\n        return {}\n    }    \n\n    function getControllerProperties(endpointId) {\n        \n        var devprops=[]        \n        if (endpointId) {\n            var dev=deviceByEndpointId(endpointId)\n            for (var j = 0; j < dev.capabilities.length; j++) {\n                if (controllerProperties[dev.capabilities[j].interface.split('.')[1]]!==undefined) {\n                    console.log('xxxxxxxx', Object.keys(controllerProperties[dev.capabilities[j].interface.split('.')[1]]), controllerProperties[dev.capabilities[j].interface.split('.')[1]])\n                    devprops=devprops.concat(Object.keys(controllerProperties[dev.capabilities[j].interface.split('.')[1]]))\n                }\n                //devprops.push(controllerProperties[dev.capabilities[j].interface.split('.')[1]])\n            }\n        }\n        console.log('devprops',devprops)\n        return devprops\n    }    \n\n    function controllerForProperty(endpointId, controllerProp) {\n        \n        if (endpointId) {\n            var dev=deviceByEndpointId(endpointId)\n            for (var j = 0; j < dev.capabilities.length; j++) {\n                if (controllerProperties[dev.capabilities[j].interface.split('.')[1]]!==undefined) {\n                    if (Object.keys(controllerProperties[dev.capabilities[j].interface.split('.')[1]]).includes(controllerProp)) {\n                        return dev.capabilities[j].interface.split('.')[1]\n                    }\n                }\n            }\n        }\n        return undefined\n    }    \n\n\n\n    function deleteItem(index) {\n        console.log('deleting item',index,'from',props.name)\n        var newitems=[...props.items]\n        newitems.splice(index, 1);\n        props.save(props.itemtype,newitems)\n    }\n\n    function save(index, item) {\n        console.log('column saving',index,item)\n        var newitems=[...props.items]\n        newitems[index]=item\n        props.save(props.itemtype, newitems)\n        console.log('Column value',props.itemtype,'is now:',newitems)\n    }\n    \n    function moveUp(index) {\n        if (index-1>=0) {\n            console.log('moving up item',index,props.items[index], props.items)\n            var newitems=[...props.items]\n            var element = newitems[index];\n            newitems.splice(index, 1);\n            newitems.splice(index-1, 0, element);\n            console.log('moved up item', newitems[index-1], newitems)\n            props.save(props.itemtype, newitems)\n        }\n    }\n\n    function moveDown(index) {\n        if (index+1<=props.items.length) {\n            var newitems=[...props.items]\n            var element = newitems[index];\n            newitems.splice(index, 1);\n            newitems.splice(index+1, 0, element);\n            props.save(props.itemtype, newitems)\n        }\n    }\n    \n    function shortTimeFormat(thisdate) {\n        var longdate=new Date().toISOString().replace('Z','')\n        \n        if (thisdate) {\n            longdate=thisdate\n        }\n\n        if (longdate.split(':').length>2) {\n            longdate=longdate.split(':')[0]+\":\"+longdate.split(':')[1]\n        }\n\n        return longdate\n    }\n\n    function addItem() {\n        var newItem={}\n        if (props.itemtype==='schedule') {\n            newItem={'type':'interval', 'interval':1, 'unit':'days', 'start':shortTimeFormat()}\n            props.save(props.itemtype,[...props.items, newItem])\n        } else if (props.itemtype==='action') {\n            newItem={\n                \"type\": \"command\",\n                \"endpointId\": undefined,\n                \"controller\": undefined,\n                \"command\": undefined,\n                \"deviceName\": undefined\n            }\n            props.save(props.itemtype,[...props.items, newItem])\n        } else if (props.itemtype==='condition') {\n            newItem={\n                \"type\": \"property\",\n                \"endpointId\": undefined,\n                \"value\": undefined,\n                \"propertyName\": undefined,\n                \"controller\": undefined,\n                \"deviceName\": undefined\n            }\n            props.save(props.itemtype,[...props.items, newItem])\n        } else if (props.itemtype==='trigger') {\n            newItem={\n                \"type\": \"property\",\n                \"endpointId\": undefined,\n                \"value\": undefined,\n                \"propertyName\": undefined,\n                \"controller\": undefined,\n                \"deviceName\": undefined\n            }\n            props.save(props.itemtype,[...props.items, newItem])\n        }\n    }\n    \n    const headerButtons = <>\n                <IconButton onClick={ () => addItem() } className={classes.button }>\n                    <AddIcon fontSize=\"small\" />\n                </IconButton>\n                { Object.keys(props.items).length>0 &&\n                <IconButton onClick={ () => { setRemove(!remove); setReorder(false); }} className={classes.button }>\n                    <RemoveIcon fontSize=\"small\" />\n                </IconButton>\n                }\n                { (props.itemtype!=='trigger' && Object.keys(props.items).length>1) &&\n                <IconButton onClick={ () => { setRemove(false); setReorder(!reorder) }} className={classes.button }>\n                    <UnfoldMoreIcon fontSize=\"small\" />\n                </IconButton>\n                }\n                </>\n\n    return (    \n\n            <GridSection name={props.name} secondary={ headerButtons } >\n\n            { Object.keys(props.items).length>0 &&\n                <React.Fragment>\n                    { props.items.map((item,index) =>\n                        <ErrorBoundary key={props.itemtype+index} >\n                        { props.itemtype==='schedule' ?\n                            <AutomationProperty key={item.endpointId+item.value} save={save} remove={remove} delete={deleteItem} index={index} item={item} wide={isMobile}/>\n                        :\n                            <AutomationProperty key={item.endpointId+item.value} moveUp={moveUp} moveDown={moveDown} save={save} remove={remove} reorder={reorder} delete={deleteItem} \n                                index={index} item={item} device={ item.endpointId===undefined ? undefined : deviceByEndpointId(item.endpointId) } \n                                controllerForProperty={controllerForProperty}\n                                directives={directives} controllerProperties={ getControllerProperties(item.endpointId)} wide={isMobile} \n                                />\n                        }\n                        </ErrorBoundary>\n                    )}\n                </React.Fragment>\n            }\n            </GridSection>\n    )\n};","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SaveIcon from '@material-ui/icons/Save';\n\nimport Fab from '@material-ui/core/Fab';\n\nconst useStyles = makeStyles({\n    fabSave: {\n        position: 'fixed',\n        bottom: 80,\n        right: 24,\n        padding: 0,\n        marginBottom: \"env(safe-area-inset-bottom)\",\n        boxSizing: \"content-box\",\n        zIndex: 1200,\n    },\n    bottomSpacer: {\n        marginTop: 64,\n        marginBottom: \"env(safe-area-inset-bottom)\",\n    }\n});\n\nexport default function AutomationSave(props) {\n\n    const classes = useStyles();\n\n    return (\n        <React.Fragment>\n            <Toolbar className={classes.bottomSpacer} />\n            { !props.saved &&\n                <Fab size=\"small\" color=\"primary\" onClick={ (e)=> props.save() } className={classes.fabSave} >\n                    <SaveIcon />\n                </Fab>\n            }\n        </React.Fragment>\n    )\n}\n\n","import React from 'react';\nimport AutomationTitle from \"./automationTitle\"\nimport AutomationDetails from \"./automationDetails\"\nimport GridSection from '../GridSection';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ToggleButton from '../ToggleButton'\n\nexport default function AutomationHeader(props) {\n\n    return (    \n        <GridSection name={\"Automation\"} >\n            <AutomationTitle name={props.name} save={props.save} >\n                <ToggleButton buttonState={props.favorite ? 'on' : 'off' } onClick={ () => props.saveFavorite(!props.favorite) }>\n                    <FavoriteIcon fontSize=\"small\" />\n                </ToggleButton>\n            </AutomationTitle>\n            <AutomationDetails automation={props.automation} name={props.name} />\n        </GridSection>\n    )\n\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { LayoutContext } from './layout/NewLayoutProvider';\nimport { NetworkContext } from './NetworkProvider';\n\nimport AutomationSave from \"./automation/automationSave\"\nimport AutomationHeader from \"./automation/automationHeader\"\nimport AutomationColumn from \"./AutomationColumn\"\nimport GridSection from './GridSection';\n\nexport default function AutomationLayout(props) {\n\n    const [automation, setAutomation] = useState({})\n    const [favorite, setFavorite] = useState(false)\n    const [actions, setActions] = useState([])\n    const [conditions, setConditions] = useState([])\n    const [triggers, setTriggers] = useState([])\n    const [schedules, setSchedules] = useState([])\n    const [gotReturn,setGotReturn] = useState(false)\n    const [saved, setSaved] = useState(true)\n    const [title, setTitle] = useState(props.name)\n    const serverurl=\"https://\"+window.location.hostname;\n    const { applyLayoutCard, isMobile } = useContext(LayoutContext);\n    const { getJSON, postJSON } = useContext(NetworkContext);\n\n    useEffect(() => {\n        function checkCallbackItems(itemtype) {\n            if (!gotReturn && props.type===itemtype && props.item) {\n                setGotReturn(true)\n                return props.item\n            }\n        }\n        \n        function loadAutomation(newauto) {\n            var newactions=[]\n            var changes=false\n            \n            setAutomation(newauto)\n            \n            if (newauto.hasOwnProperty('favorite')) {\n                setFavorite(newauto['favorite'])\n            } else {\n                setFavorite(false)\n            }\n            \n            if (newauto.hasOwnProperty('actions')) {\n                newactions=newauto['actions']\n            } \n            \n            var addaction=checkCallbackItems('action')\n            if (addaction) {\n                newactions=[...newactions,addaction]\n                saveType('action',newactions)\n            } else {\n                setActions(newactions)\n            }\n            \n            var newconditions=[]\n            if (newauto.hasOwnProperty('conditions')) {\n                newconditions = newauto['conditions']\n            } \n            var addcondition=checkCallbackItems('condition')\n            if (addcondition) {\n                newconditions=[...newconditions,addcondition]\n                saveType('condition',newconditions)\n            } else {\n                setConditions(newconditions);\n            }\n            \n            var newtriggers=[]\n            if (newauto.hasOwnProperty('triggers')) {\n                newtriggers=newauto['triggers']\n            }\n            var addtrigger=checkCallbackItems('trigger')\n            if (addtrigger) {\n                newtriggers=[...newtriggers, addtrigger]\n                saveType('trigger',newtriggers)\n            } else {\n                setTriggers(newtriggers);\n            }\n            \n            var newschedules=[]\n            if (newauto.hasOwnProperty('schedules')) {\n                newschedules=newauto['schedules']\n            }\n            var addschedule=checkCallbackItems('schedule')\n            if (addschedule) {\n                newschedules=[...newschedules, addschedule]\n                saveType('schedule', newschedules)\n            } else {\n                setSchedules(newschedules);\n            }\n            \n            if (changes) {\n                setSaved(false)\n                //saveAutomation(newactions, newconditions, newtriggers, newschedules)\n            }\n        }\n\n        console.log('Propsname',props.name)\n        if (props.name!==undefined) {\n            getJSON('list/logic/automation/'+props.name)\n                .then(result=>loadAutomation(result));\n        } else {\n            console.log('This is a blank automation.')\n        }\n    }, [props.name, props.item, gotReturn, props.type, serverurl, getJSON]);\n\n\n\n    function saveType(itemtype, items) {\n\n        if (itemtype==='title') {\n            setTitle(items)\n        } else if (itemtype==='favorite') {\n            console.log('SetFavorite',items)\n            setFavorite(items)\n        } else if (itemtype==='action') {\n            setActions(items)\n        } else if (itemtype==='trigger') {\n            setTriggers(items)\n        } else if (itemtype==='condition') {\n            console.log('setting conditions', items)\n            setConditions(items)\n        } else if (itemtype==='schedule') {\n            setSchedules(items)\n        }\n        setSaved(false)\n    }\n    \n    function newSaveAutomation() {\n        postJSON('save/logic/automation/'+title, {\"conditions\": conditions, \"actions\": actions, \"triggers\":triggers, \"schedules\": schedules, \"favorite\": favorite})\n            .then(setSaved(true))\n    }\n\n    \n    function saveFavorite(newfavorite) {\n        saveType('favorite',newfavorite)\n    }\n    \n    function goBack() {\n        applyLayoutCard('AutomationsLayout')\n    }\n\n    return (\n        <GridSection xs={isMobile ? 12 : 9} background={false}>\n            <AutomationHeader name={title} save={saveType} favorite={favorite} saveFavorite={saveFavorite} automation={automation} />\n            <AutomationColumn items={schedules} saved={saved} save={saveType} automationName={props.name} name={\"Schedules\"} itemModule={'automationSchedule'} itemtype={\"schedule\"} />\n            <AutomationColumn items={triggers} saved={saved} save={saveType} automationName={props.name} name={\"Triggers\"} selector={'DevicePropertyLayout'} itemModule={'AutomationTrigger'} itemtype={\"trigger\"} />\n            <AutomationColumn items={conditions} saved={saved} save={saveType} automationName={props.name} name={\"Conditions\"} selector={'DevicePropertyLayout'} itemModule={'AutomationCondition'} itemtype={\"condition\"} />\n            <AutomationColumn items={actions} saved={saved} save={saveType} automationName={props.name} name={\"Actions\"} selector={'DeviceDirectiveLayout'} itemModule={'AutomationAction'} itemtype={\"action\"} />\n            <AutomationSave name={title} saved={saved} save={newSaveAutomation} goBack={goBack} />\n        </GridSection>\n    )\n    \n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n}), 'ExpandLess');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');\n\nexports.default = _default;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListItem from '../ListItem';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body1, _defineProperty({\n      minHeight: 48,\n      paddingTop: 6,\n      paddingBottom: 6,\n      boxSizing: 'border-box',\n      width: 'auto',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap'\n    }, theme.breakpoints.up('sm'), {\n      minHeight: 'auto'\n    })),\n    // TODO To remove in v5?\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: {},\n\n    /* Styles applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the root element if dense. */\n    dense: _extends({}, theme.typography.body2, {\n      minHeight: 'auto'\n    })\n  };\n};\nvar MenuItem = React.forwardRef(function MenuItem(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'menuitem' : _props$role,\n      selected = props.selected,\n      tabIndexProp = props.tabIndex,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"role\", \"selected\", \"tabIndex\"]);\n\n  var tabIndex;\n\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n\n  return React.createElement(ListItem, _extends({\n    button: true,\n    role: role,\n    tabIndex: tabIndex,\n    component: component,\n    selected: selected,\n    disableGutters: disableGutters,\n    classes: {\n      dense: classes.dense\n    },\n    className: clsx(classes.root, className, selected && classes.selected, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? MenuItem.propTypes = {\n  /**\n   * Menu item contents.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiMenuItem'\n})(MenuItem);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n})), 'Schedule');\n\nexports.default = _default;","var map = {\n\t\"./BrightnessController\": [\n\t\t138,\n\t\t0,\n\t\t145\n\t],\n\t\"./BrightnessController.js\": [\n\t\t138,\n\t\t0,\n\t\t145\n\t],\n\t\"./ColorController\": [\n\t\t139,\n\t\t1,\n\t\t157\n\t],\n\t\"./ColorController.js\": [\n\t\t139,\n\t\t1,\n\t\t157\n\t],\n\t\"./ColorTemperatureController\": [\n\t\t140,\n\t\t0,\n\t\t146\n\t],\n\t\"./ColorTemperatureController.js\": [\n\t\t140,\n\t\t0,\n\t\t146\n\t],\n\t\"./EndpointHealth\": [\n\t\t141,\n\t\t173\n\t],\n\t\"./EndpointHealth.js\": [\n\t\t141,\n\t\t173\n\t],\n\t\"./PowerController\": [\n\t\t142,\n\t\t124\n\t],\n\t\"./PowerController.js\": [\n\t\t142,\n\t\t124\n\t],\n\t\"./StateController\": [\n\t\t143,\n\t\t158\n\t],\n\t\"./StateController.js\": [\n\t\t143,\n\t\t158\n\t],\n\t\"./properties/brightness\": [\n\t\t127,\n\t\t0,\n\t\t9\n\t],\n\t\"./properties/brightness.js\": [\n\t\t127,\n\t\t0,\n\t\t9\n\t],\n\t\"./properties/color\": [\n\t\t117,\n\t\t1,\n\t\t28\n\t],\n\t\"./properties/color.js\": [\n\t\t117,\n\t\t1,\n\t\t28\n\t],\n\t\"./properties/connectivity\": [\n\t\t118,\n\t\t20\n\t],\n\t\"./properties/connectivity.js\": [\n\t\t118,\n\t\t20\n\t],\n\t\"./properties/detectionState\": [\n\t\t119,\n\t\t21\n\t],\n\t\"./properties/detectionState.js\": [\n\t\t119,\n\t\t21\n\t],\n\t\"./properties/duration\": [\n\t\t128,\n\t\t15\n\t],\n\t\"./properties/duration.js\": [\n\t\t128,\n\t\t15\n\t],\n\t\"./properties/input\": [\n\t\t120,\n\t\t22\n\t],\n\t\"./properties/input.js\": [\n\t\t120,\n\t\t22\n\t],\n\t\"./properties/mode\": [\n\t\t121,\n\t\t23\n\t],\n\t\"./properties/mode.js\": [\n\t\t121,\n\t\t23\n\t],\n\t\"./properties/onLevel\": [\n\t\t129,\n\t\t0,\n\t\t10\n\t],\n\t\"./properties/onLevel.js\": [\n\t\t129,\n\t\t0,\n\t\t10\n\t],\n\t\"./properties/powerLevel\": [\n\t\t130,\n\t\t0,\n\t\t11\n\t],\n\t\"./properties/powerLevel.js\": [\n\t\t130,\n\t\t0,\n\t\t11\n\t],\n\t\"./properties/powerState\": [\n\t\t122,\n\t\t24\n\t],\n\t\"./properties/powerState.js\": [\n\t\t122,\n\t\t24\n\t],\n\t\"./properties/pressState\": [\n\t\t123,\n\t\t25\n\t],\n\t\"./properties/pressState.js\": [\n\t\t123,\n\t\t25\n\t],\n\t\"./properties/surround\": [\n\t\t124,\n\t\t26\n\t],\n\t\"./properties/surround.js\": [\n\t\t124,\n\t\t26\n\t],\n\t\"./properties/targetSetpoint\": [\n\t\t131,\n\t\t0,\n\t\t12\n\t],\n\t\"./properties/targetSetpoint.js\": [\n\t\t131,\n\t\t0,\n\t\t12\n\t],\n\t\"./properties/targetTemperature\": [\n\t\t132,\n\t\t0,\n\t\t13\n\t],\n\t\"./properties/targetTemperature.js\": [\n\t\t132,\n\t\t0,\n\t\t13\n\t],\n\t\"./properties/thermostatMode\": [\n\t\t125,\n\t\t27\n\t],\n\t\"./properties/thermostatMode.js\": [\n\t\t125,\n\t\t27\n\t],\n\t\"./properties/time\": [\n\t\t133,\n\t\t16\n\t],\n\t\"./properties/time.js\": [\n\t\t133,\n\t\t16\n\t],\n\t\"./properties/volume\": [\n\t\t134,\n\t\t0,\n\t\t14\n\t],\n\t\"./properties/volume.js\": [\n\t\t134,\n\t\t0,\n\t\t14\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 381;\nmodule.exports = webpackAsyncContext;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"\n}), 'Favorite');\n\nexports.default = _default;","var map = {\n\t\"./brightness\": [\n\t\t127,\n\t\t0,\n\t\t9\n\t],\n\t\"./brightness.js\": [\n\t\t127,\n\t\t0,\n\t\t9\n\t],\n\t\"./color\": [\n\t\t117,\n\t\t1,\n\t\t28\n\t],\n\t\"./color.js\": [\n\t\t117,\n\t\t1,\n\t\t28\n\t],\n\t\"./connectivity\": [\n\t\t118,\n\t\t174\n\t],\n\t\"./connectivity.js\": [\n\t\t118,\n\t\t174\n\t],\n\t\"./detectionState\": [\n\t\t119,\n\t\t175\n\t],\n\t\"./detectionState.js\": [\n\t\t119,\n\t\t175\n\t],\n\t\"./duration\": [\n\t\t128,\n\t\t15\n\t],\n\t\"./duration.js\": [\n\t\t128,\n\t\t15\n\t],\n\t\"./input\": [\n\t\t120,\n\t\t176\n\t],\n\t\"./input.js\": [\n\t\t120,\n\t\t176\n\t],\n\t\"./mode\": [\n\t\t121,\n\t\t177\n\t],\n\t\"./mode.js\": [\n\t\t121,\n\t\t177\n\t],\n\t\"./onLevel\": [\n\t\t129,\n\t\t0,\n\t\t10\n\t],\n\t\"./onLevel.js\": [\n\t\t129,\n\t\t0,\n\t\t10\n\t],\n\t\"./powerLevel\": [\n\t\t130,\n\t\t0,\n\t\t11\n\t],\n\t\"./powerLevel.js\": [\n\t\t130,\n\t\t0,\n\t\t11\n\t],\n\t\"./powerState\": [\n\t\t122,\n\t\t178\n\t],\n\t\"./powerState.js\": [\n\t\t122,\n\t\t178\n\t],\n\t\"./pressState\": [\n\t\t123,\n\t\t179\n\t],\n\t\"./pressState.js\": [\n\t\t123,\n\t\t179\n\t],\n\t\"./surround\": [\n\t\t124,\n\t\t180\n\t],\n\t\"./surround.js\": [\n\t\t124,\n\t\t180\n\t],\n\t\"./targetSetpoint\": [\n\t\t131,\n\t\t0,\n\t\t12\n\t],\n\t\"./targetSetpoint.js\": [\n\t\t131,\n\t\t0,\n\t\t12\n\t],\n\t\"./targetTemperature\": [\n\t\t132,\n\t\t0,\n\t\t13\n\t],\n\t\"./targetTemperature.js\": [\n\t\t132,\n\t\t0,\n\t\t13\n\t],\n\t\"./thermostatMode\": [\n\t\t125,\n\t\t181\n\t],\n\t\"./thermostatMode.js\": [\n\t\t125,\n\t\t181\n\t],\n\t\"./time\": [\n\t\t133,\n\t\t16\n\t],\n\t\"./time.js\": [\n\t\t133,\n\t\t16\n\t],\n\t\"./volume\": [\n\t\t134,\n\t\t0,\n\t\t14\n\t],\n\t\"./volume.js\": [\n\t\t134,\n\t\t0,\n\t\t14\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 388;\nmodule.exports = webpackAsyncContext;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z\"\n}), 'Event');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      flex: '1 1 auto',\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      overflowY: 'auto',\n      padding: '8px 24px',\n      '&:first-child': {\n        // dialog without title\n        paddingTop: 20\n      }\n    },\n\n    /* Styles applied to the root element if `dividers={true}`. */\n    dividers: {\n      padding: '16px 24px',\n      borderTop: \"1px solid \".concat(theme.palette.divider),\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    }\n  };\n};\nvar DialogContent = React.forwardRef(function DialogContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$dividers = props.dividers,\n      dividers = _props$dividers === void 0 ? false : _props$dividers,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"dividers\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, dividers && classes.dividers),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContent.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Display the top and bottom dividers.\n   */\n  dividers: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogContent'\n})(DialogContent);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8,\n    justifyContent: 'flex-end',\n    flex: '0 0 auto'\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar DialogActions = React.forwardRef(function DialogActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogActions.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   */\n  disableSpacing: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogActions'\n})(DialogActions);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z\"\n}), 'CropFree');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M4 10h12v2H4zm0-4h12v2H4zm0 8h8v2H4zm10 0v6l5-3z\"\n}), 'PlaylistPlay');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z\"\n}), 'LowPriority');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z\"\n}), 'UnfoldMore');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;"],"sourceRoot":""}